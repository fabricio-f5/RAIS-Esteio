(this.webpackJsonprais=this.webpackJsonprais||[]).push([[0],{235:function(e,t,a){},239:function(e,t,a){},240:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(21),o=a.n(i),s=a(26),l=a(5),c=a(120),d=a(13),u=a(155),j=a(63),b=a.n(j);console.log("baseURL: ".concat("http://10.211.28.249:4004"));var m=b.a.create({timeout:2e4,baseURL:"http://10.211.28.249:4004"});console.log("baseURL: ".concat("http://10.211.28.249:4006"));var h=b.a.create({timeout:2e4,baseURL:"http://10.211.28.249:4006"});console.log("baseURL: ".concat("http://10.211.28.249:4007"));var f=b.a.create({timeout:2e4,baseURL:"http://10.211.28.249:4007"});console.log("baseURL: ".concat("http://10.211.28.249:4008"));var p=b.a.create({timeout:2e4,baseURL:"http://10.211.28.249:4008"}),g=function(e){switch(e){case"api_driverSms":return h;case"api_overfill":return f;case"api_features":return m;case"api_multiloadControl":return p;default:return m}},O=function(e){h.defaults.headers.common.authorization=e,f.defaults.headers.common.authorization=e,m.defaults.headers.common.authorization=e,p.defaults.headers.common.authorization=e},x=function(e){var t=!1,a=!1;null!==e&&(!0===e.auth&&(t=!0,O(e.token),Object(u.a)(e.token).exp<Date.now().valueOf()/1e3&&(a=!0)));return!(!t||a)},v=function(e,t,a,n){try{if(void 0===n||null===a)return!1;switch(t){case"read":return 1===n.find((function(t){return t.profile_id===a.profile_id&&t.route===e})).read;case"write":return 1===n.find((function(t){return t.profile_id===a.profile_id&&t.route===e})).write;case"delete":return 1===n.find((function(t){return t.profile_id===a.profile_id&&t.route===e})).delete;case"all":var r=n.find((function(t){return t.profile_id===a.profile_id&&t.route===e})).read,i=n.find((function(t){return t.profile_id===a.profile_id&&t.route===e})).write,o=n.find((function(t){return t.profile_id===a.profile_id&&t.route===e})).delete;return 1===r&&1===i&&1===o;default:return!1}}catch(s){return console.error("Certifique-se que o valor do campo route tabela route,'\n        esta configurado com o mesmo nome da propriedade routeName na tag LINK de cada Menu.\n        Veja se os outros componentes que tamb\xe9m utilizam o atributo routeName est\xe3o com os'\n        mesmo valores do banco de dados.\n        Estes valores devem ser iguais. - Profile_id = ".concat(a.profile_id," -\n        routeName= ").concat(e)),!1}},C=a(0);var y=function(e){var t=e.children,a=Object(c.a)(e,["children"]),n=Object(d.c)((function(e){return e.permission})),r=Object(d.c)((function(e){return e.authenticated})),i=!0;"Home"!==a.routeName&&(i="true"===JSON.parse(window.localStorage.getItem("persist:root")).mnuMounted);var o=x(r),u=a.routeName,j=v(u,"read",r,n);return o&&i?j?Object(C.jsx)(s.b,Object(l.a)(Object(l.a)({},a),{},{children:t})):Object(C.jsx)(s.a,{push:!0,to:"/PermissionNotFound"}):Object(C.jsx)(s.a,{push:!0,to:"/Login"})},w=a(284),k=a(159),S=a.n(k),N=a(281),E=Object(N.a)((function(e){return{color:{fill:e.palette.primary.main,cursor:"pointer"},colorDisable:{fill:"gray",cursor:"not-allowed"}}})),P=function(e){var t=e.id,a=e.api_url,n=e.handleDeleteCommand,r=e.titulo,i=e.isIcon,o=e.permission,s=e.userAuthenticated,l=E(),c=o?s.idNumber!==t?n:function(){return alert("Voc\xea esta logado. N\xe3o posso exclu\xed-lo")}:null,d=o?{fill:"red",cursor:"pointer"}:{fill:"gray",cursor:"not-allowed"};return Object(C.jsx)("div",{children:!0===i?Object(C.jsx)(S.a,{id:t,className:o?l.color:l.colorDisable,onClick:o?c:null,api_url:a,style:d,"arial-label":"link-para-dele\xe7\xe3o"}):Object(C.jsx)(w.a,{variant:"contained",color:"primary",id:t,onClick:c,api_url:a,disabled:o,"arial-label":"bot\xe3o-para-dele\xe7\xe3o",children:r})})};P.defaultProps={id:0,titulo:"Excluir"};var D=P;var R=function(e){var t=e.isIcon,a=e.DeletedRegister,n=e.routeName,r=e.host_api,i=Object(d.c)((function(e){return e.permission})),o=Object(d.c)((function(e){return e.authenticated})),s=v(n,"delete",o,i),l=g(r);return Object(C.jsx)(D,{id:e.id,titulo:e.titulo,permission:s,userAuthenticated:o,api_url:e.api_url,handleDeleteCommand:function(){if(0===e.id)return null;l.post(e.api_url,{id:e.id}).then((function(t){a(e.id)})).catch((function(t){a(e.id,t),console.log(t)}))},routeName:n,isIcon:t})};var T=function(e){return Object(C.jsx)("div",{})},B=a(285),I=a(137),F=a(317),M=a(321),A=a(286),V=a(318),L=a(12),_=a(107),z=a.n(_);var U=function(e){return Object(C.jsx)(B.a,{maxWidth:"xs",children:Object(C.jsxs)(I.a,{children:[Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",mt:6,p:2,children:Object(C.jsx)(V.a,{variant:"filled",severity:"info",children:"Enviamos um e-mail para confirma\xe7\xe3o de seu cadastro. Verifique sua caixa de e-mail e realize a confirma\xe7\xe3o."})}),Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",children:Object(C.jsx)(M.a,{title:"Entrar no sistema",placement:"bottom",children:Object(C.jsx)(L.b,{to:"/login",children:Object(C.jsx)(A.a,{"aria-label":"enter",children:Object(C.jsx)(z.a,{fontSize:"large",color:"primary"})})})})})]})})};var K=function(e){return Object(C.jsx)(B.a,{maxWidth:"xs",children:Object(C.jsxs)(I.a,{children:[Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",mt:6,p:2,children:Object(C.jsx)(V.a,{variant:"filled",severity:"info",children:"Enviamos um e-mail solicitando a troca de sua senha. Verifique sua caixa de e-mail e realize a opera\xe7\xe3o."})}),Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",children:Object(C.jsx)(M.a,{title:"Entrar no sistema",placement:"bottom",children:Object(C.jsx)(L.b,{to:"/login",children:Object(C.jsx)(A.a,{"aria-label":"enter",children:Object(C.jsx)(z.a,{fontSize:"large",color:"primary"})})})})})]})})},H=a(8),W=a(3),q=a(23),Y=a.n(q),G=a(242),X=a(249),Q=a(189),J=a(55),$=Object(N.a)((function(e){return{boxMainHeader:{display:"flex",margin:e.spacing(1),padding:e.spacing(1)},formTitle:{margin:e.spacing(1)}}})),Z=function(e){var t=$();return Object(C.jsx)(F.a,{display:"flex","arial-label":"form-header",children:Object(C.jsxs)(F.a,{display:"flex",justifyContent:"flex-start",className:t.boxMainHeader,"arial-label":"header-description",children:[e.icon,Object(C.jsx)(F.a,{fontWeight:"medium",children:Object(C.jsx)(J.a,{id:"formTitle",className:t.formTitle,children:e.titulo})})]})})};var ee=function(e){return Object(C.jsx)(Z,{icon:e.icon,titulo:e.titulo})},te=a(109),ae=a.n(te),ne=a(108),re=a.n(ne),ie=a(161),oe=a.n(ie),se=a(289),le=function(e){var t=e.infoErrors,a=e.handleCloseErros;return Object(C.jsx)(C.Fragment,{children:""!==t.msg&&Object(C.jsx)(F.a,{m:1,children:Object(C.jsx)(V.a,{severity:"error",variant:"filled",onClose:function(){return a()},children:t.msg})})})};var ce=function(e){var t=e.infoErrors,a=e.handleCloseErros;return Object(C.jsx)(le,{handleCloseErros:a,infoErrors:t})},de=function(e){var t=e.serverValidation,a=e.handleCloseInfo;return Object(C.jsx)(C.Fragment,{children:""!==t.msg&&Object(C.jsx)(F.a,{m:1,children:Object(C.jsx)(V.a,{severity:"info",variant:"filled",onClose:function(){return a()},children:t.msg})})})};var ue=function(e){var t=e.serverValidation,a=e.handleCloseInfo;return Object(C.jsx)(de,{serverValidation:t,handleCloseInfo:a})},je=a(290),be=function(e){var t=e.handleSubmit,a=e.user,n=e.handleChange,r=e.infoErrors,i=e.serverValidation,o=e.handleCloseInfo,s=e.handleCloseErros,l=e.loading;return Object(C.jsx)(B.a,{maxWidth:"xs",children:Object(C.jsx)(F.a,{m:2,children:Object(C.jsxs)(I.a,{children:[Object(C.jsx)(ee,{icon:Object(C.jsx)(oe.a,{fontSize:"large",style:{color:"blue"}}),titulo:"Solicitar Nova Senha"}),Object(C.jsxs)(F.a,{m:2,children:[Object(C.jsx)(F.a,{m:2,children:Object(C.jsxs)(G.a,{children:[Object(C.jsx)(X.a,{htmlFor:"input-email",children:"E-mail"}),Object(C.jsx)(Q.a,{autoFocus:!0,style:{width:"35ch"},id:"email",name:"email",label:"email",autoComplete:"off",type:"text",onChange:function(e){n(e)},value:a.email,inputProps:{maxLength:35},startAdornment:Object(C.jsx)(se.a,{position:"start",children:Object(C.jsx)(re.a,{color:"primary"})})})]})}),Object(C.jsx)(F.a,{m:2,children:Object(C.jsxs)(G.a,{children:[Object(C.jsx)(X.a,{htmlFor:"input-cpf",children:"CPF"}),Object(C.jsx)(Y.a,{mask:"999.999.999.99",maskChar:"",value:a.cpf,onChange:function(e){return n(e,!0)},children:function(e){return Object(C.jsx)(Q.a,{id:"cpf",name:"cpf",label:"cpf",autoComplete:"off",startAdornment:Object(C.jsx)(se.a,{position:"start",children:Object(C.jsx)(ae.a,{color:"primary"})})})}})]})})]}),Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",mt:5,children:Object(C.jsx)(w.a,{type:"submit",size:"small",variant:"contained",color:"primary",onClick:function(e){t(e)},children:"Confirmar"})}),Object(C.jsxs)(F.a,{pb:1,children:[Object(C.jsx)(ce,{infoErrors:r,handleCloseErros:s}),Object(C.jsx)(ue,{serverValidation:i,handleCloseInfo:o})]}),l&&Object(C.jsx)(je.a,{})]})})})},me=function(e){return{msg:void 0!==e.response?"".concat(void 0!==e.response.data.msg?e.response.data.msg:e.message):e.message}};var he=function(e){var t=g("api_features"),a=Object(n.useState)({email:"",password:""}),r=Object(W.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)({msg:""}),c=Object(W.a)(s,2),d=c[0],u=c[1],j=Object(n.useState)({msg:""}),b=Object(W.a)(j,2),m=b[0],h=b[1],f=Object(n.useState)(!1),p=Object(W.a)(f,2),O=p[0],x=p[1];return Object(C.jsx)(be,{user:i,handleChange:function(e){o(Object(l.a)(Object(l.a)({},i),{},Object(H.a)({},e.target.name,e.target.value)))},handleSubmit:function(a){x(!0),t.post("/recoveryPass",i).then((function(t){if(t.data.bsApproved)e.history.push("/recoveryPassConfirmation");else{var a={msg:t.data.msg};h(a)}})).catch((function(e){var t=me(e);console.log(t.msg),u(t)})).finally((function(){x(!1)})),a.preventDefault()},handleCloseErros:function(){u({msg:""})},handleCloseInfo:function(){h({msg:""})},infoErrors:d,loading:O,serverValidation:m})},fe=a(291),pe=a(110),ge=a.n(pe),Oe=Object(N.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(2)}},MainBox:{display:"flex",justifyContent:"center",margin:e.spacing(1),padding:e.spacing(1)},large:{width:"50ch"},medium:{width:"35ch"},small:{width:"20ch"},paper:{margin:e.spacing(2),padding:e.spacing(2)}}})),xe=a(244),ve=function(e){var t=e.handleSubmit,a=e.user,n=e.handleChange,r=e.infoErrors,i=e.serverValidation,o=e.handleCloseInfo,s=e.handleCloseErros,l=Oe();return Object(C.jsx)(B.a,{maxWidth:"xs",children:Object(C.jsx)(F.a,{m:2,children:Object(C.jsxs)(I.a,{children:[Object(C.jsx)(ee,{icon:Object(C.jsx)(ge.a,{fontSize:"large",style:{color:"blue"}}),titulo:"Definir nova senha"}),Object(C.jsxs)(F.a,{m:2,children:[Object(C.jsx)(F.a,{m:2,children:Object(C.jsxs)(G.a,{children:[Object(C.jsx)(fe.a,{autoFocus:!0,id:"password",name:"password",label:"Senha",autoComplete:"off",className:l.small,value:a.senha,type:"password",onChange:function(e){return n(e,!1)},inputProps:{maxLength:12}}),Object(C.jsx)(xe.a,{id:"component-helper-text",children:"M\xednimo 6 e m\xe1ximo 9 d\xedgitos, entre letras mai\xfasculas, min\xfasculas e n\xfameros."})]})}),Object(C.jsx)(F.a,{m:2,children:Object(C.jsxs)(G.a,{children:[Object(C.jsx)(fe.a,{id:"confirmPassword",name:"confirmPassword",label:"Confirmar Senha",autoComplete:"off",className:l.small,value:a.confirmPassword,type:"password",onChange:function(e){return n(e,!1)},inputProps:{maxLength:12}}),Object(C.jsx)(xe.a,{id:"component-helper-text",children:"M\xednimo 6 e m\xe1ximo 9 d\xedgitos, entre letras mai\xfasculas, min\xfasculas e n\xfameros."})]})})]}),Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",mt:5,children:Object(C.jsx)(w.a,{type:"submit",size:"small",variant:"contained",color:"primary",onClick:function(e){t(e)},children:"Salvar"})}),Object(C.jsxs)(F.a,{pb:1,children:[Object(C.jsx)(ce,{infoErrors:r,handleCloseErros:s}),Object(C.jsx)(ue,{serverValidation:i,handleCloseInfo:o})]})]})})})};var Ce=function(e){var t=g("api_features"),a=Object(n.useState)({password:"",confirmPassword:""}),r=Object(W.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)({msg:""}),c=Object(W.a)(s,2),d=c[0],u=c[1],j=Object(n.useState)({msg:""}),b=Object(W.a)(j,2),m=b[0],h=b[1];return Object(C.jsx)(ve,{user:i,handleChange:function(e){o(Object(l.a)(Object(l.a)({},i),{},Object(H.a)({},e.target.name,e.target.value)))},handleSubmit:function(a){t.post("/changePassword/".concat(e.match.params.key,"/").concat(e.match.params.id),i).then((function(t){if(t.data.bsApproved)e.history.push("/login");else{var a={msg:t.data.msg};h(a)}})).catch((function(e){var t=me(e);console.log(t.msg),u(t)})),a.preventDefault()},handleCloseErros:function(){u({msg:""})},handleCloseInfo:function(){h({msg:""})},infoErrors:d,serverValidation:m})},ye=function(e){var t=e.handleSubmit,a=e.user,n=e.handleChange,r=e.infoErrors,i=e.serverValidation,o=e.handleCloseInfo,s=e.handleCloseErros,l=we();return Object(C.jsx)(B.a,{maxWidth:"xs",children:Object(C.jsx)(F.a,{m:2,children:Object(C.jsxs)(I.a,{children:[Object(C.jsx)(ee,{icon:Object(C.jsx)(ge.a,{fontSize:"large",style:{color:"blue"}}),titulo:"Definir nova senha"}),Object(C.jsxs)(F.a,{m:2,children:[Object(C.jsx)(F.a,{m:2,children:Object(C.jsxs)(G.a,{children:[Object(C.jsx)(fe.a,{autoFocus:!0,id:"password",name:"password",label:"Senha",autoComplete:"off",className:l.small,value:a.senha,type:"password",onChange:function(e){return n(e,!1)},inputProps:{maxLength:8}}),Object(C.jsx)(xe.a,{id:"component-helper-text",children:"M\xednimo 6 e m\xe1ximo 9 d\xedgitos, entre letras mai\xfasculas, min\xfasculas e n\xfameros."})]})}),Object(C.jsx)(F.a,{m:2,children:Object(C.jsxs)(G.a,{children:[Object(C.jsx)(fe.a,{id:"confirmPassword",name:"confirmPassword",label:"Confirmar Senha",autoComplete:"off",className:l.small,value:a.confirmPassword,type:"password",onChange:function(e){return n(e,!1)},inputProps:{maxLength:8}}),Object(C.jsx)(xe.a,{id:"component-helper-text",children:"M\xednimo 6 e m\xe1ximo 9 d\xedgitos, entre letras mai\xfasculas, min\xfasculas e n\xfameros."})]})})]}),Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",mt:5,children:Object(C.jsx)(w.a,{type:"submit",size:"small",variant:"contained",color:"primary",onClick:function(e){t(e)},children:"Salvar"})}),Object(C.jsxs)(F.a,{pb:1,children:[Object(C.jsx)(ce,{infoErrors:r,handleCloseErros:s}),Object(C.jsx)(ue,{serverValidation:i,handleCloseInfo:o})]})]})})})};var we=function(e){var t=g("api_features"),a=Object(n.useState)({password:"",confirmPassword:""}),r=Object(W.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)({msg:""}),c=Object(W.a)(s,2),d=c[0],u=c[1],j=Object(n.useState)({msg:""}),b=Object(W.a)(j,2),m=b[0],h=b[1];return Object(C.jsx)(ye,{user:i,handleChange:function(e){o(Object(l.a)(Object(l.a)({},i),{},Object(H.a)({},e.target.name,e.target.value)))},handleSubmit:function(a){t.post("/changePasswordUserByAdmin/".concat(e.match.params.id),i).then((function(t){if(t.data.bsApproved)e.history.push("/login");else{var a={msg:t.data.msg};h(a)}})).catch((function(e){var t=me(e);console.log(t.msg),u(t)})),a.preventDefault()},handleCloseErros:function(){u({msg:""})},handleCloseInfo:function(){h({msg:""})},infoErrors:d,serverValidation:m})},ke=a(292),Se=a(245),Ne=a(293),Ee=a(163),Pe=a.n(Ee),De=a(81),Re=a.n(De),Te=a(114),Be=a.n(Te),Ie=a(82),Fe=a.n(Ie),Me=a(83),Ae=a.n(Me),Ve=Object(N.a)((function(e){return{drawerWidth:{width:"22rem"},linkDecoration:{textDecoration:"none",color:"inherit"},ListItem:{paddingTop:0,paddingBottom:0},nested:{paddingLeft:e.spacing(4),paddingTop:0,paddingBottom:0},color:{color:e.palette.primary.main},colorDisable:{color:"gray",cursor:"not-allowed",marginLeft:"0.5vw"},menuText:{marginLeft:"0.5vw"}}})),Le=a(46),_e=a.n(Le),ze=a(32),Ue=a.n(ze),Ke=a(294),He=function(e){var t=Ve(),a=Object(d.c)((function(e){return e.permission})),r=Object(d.c)((function(e){return e.authenticated})),i=Object(n.useState)(!1),o=Object(W.a)(i,2),s=o[0],l=o[1],c=!1;return Object(C.jsx)("div",{className:t.drawerWidth,children:Object(C.jsxs)(ke.a,{component:"nav",children:[Object(C.jsxs)(Se.a,{button:!0,onClick:function(){return l(!s)},className:t.ListItem,children:[Object(C.jsx)(Ne.a,{children:Object(C.jsx)(J.a,{color:"primary",children:"Configura\xe7\xe3o do Sistema"})}),s?Object(C.jsx)(_e.a,{}):Object(C.jsx)(Ue.a,{})]}),Object(C.jsxs)(Ke.a,{in:s,timeout:"auto",unmountOnExit:!0,children:[c=v("ConfigParameter","read",r,a),Object(C.jsx)(L.b,{to:c?"/allConfigParameter":"#",onClick:function(t){return e.toggleDrawer(!v("ConfigParameter","read",r,a),t)},className:t.linkDecoration,children:Object(C.jsxs)(Se.a,{button:!0,className:t.nested,children:[Object(C.jsx)(Re.a,{className:t.color}),Object(C.jsx)(Ne.a,{className:c?t.menuText:t.colorDisable,primary:"Par\xe2metros de Configura\xe7\xe3o"})]})}),c=v("Profile","read",r,a),Object(C.jsx)(L.b,{to:c?"/allProfile":"#",onClick:function(t){return e.toggleDrawer(!v("Profile","read",r,a),t)},className:t.linkDecoration,children:Object(C.jsxs)(Se.a,{button:!0,className:t.nested,children:[Object(C.jsx)(Fe.a,{className:t.color}),Object(C.jsx)(Ne.a,{className:c?t.menuText:t.colorDisable,primary:"Perfil"})]})}),c=v("Route","read",r,a),Object(C.jsx)(L.b,{to:c?"/allRoute":"#",onClick:function(t){return e.toggleDrawer(!v("Route","read",r,a),t)},className:t.linkDecoration,children:Object(C.jsxs)(Se.a,{button:!0,className:t.nested,children:[Object(C.jsx)(Ae.a,{className:t.color}),Object(C.jsx)(Ne.a,{className:c?t.menuText:t.colorDisable,primary:"Funcionalidades"})]})}),c=v("Permission","read",r,a),Object(C.jsx)(L.b,{to:c?"/UpdatePermission":"#",onClick:function(t){return e.toggleDrawer(!v("Permission","read",r,a),t)},className:t.linkDecoration,children:Object(C.jsxs)(Se.a,{button:!0,className:t.nested,children:[Object(C.jsx)(Be.a,{className:t.color}),Object(C.jsx)(Ne.a,{className:c?t.menuText:t.colorDisable,primary:"Permiss\xf5es"})]})}),c=v("User","read",r,a),Object(C.jsx)(L.b,{to:c?"/allUser":"#",onClick:function(t){return e.toggleDrawer(!v("User","read",r,a),t)},className:t.linkDecoration,children:Object(C.jsxs)(Se.a,{button:!0,className:t.nested,children:[Object(C.jsx)(Pe.a,{className:t.color}),Object(C.jsx)(Ne.a,{className:c?t.menuText:t.colorDisable,primary:"Usu\xe1rios"})]})})]})]})})},We=Object(N.a)((function(e){return{drawerWidth:{width:"22rem"},linkDecoration:{textDecoration:"none",color:"inherit"},ListItem:{paddingTop:0,paddingBottom:0},nested:{paddingLeft:e.spacing(4),paddingTop:0,paddingBottom:0},color:{color:e.palette.primary.main},colorDisable:{color:"gray",cursor:"not-allowed",marginLeft:"0.5vw"},menuText:{marginLeft:"0.5vw"}}})),qe=a(123),Ye=a.n(qe),Ge=function(e){var t=We(),a=Object(d.c)((function(e){return e.permission})),r=Object(d.c)((function(e){return e.authenticated})),i=Object(n.useState)(!1),o=Object(W.a)(i,2),s=o[0],l=o[1],c=!1;return Object(C.jsx)("div",{className:t.drawerWidth,children:Object(C.jsxs)(ke.a,{component:"nav",children:[Object(C.jsxs)(Se.a,{button:!0,onClick:function(){return l(!s)},className:t.ListItem,children:[Object(C.jsx)(Ne.a,{children:Object(C.jsx)(J.a,{color:"primary",children:"Relat\xf3rios"})}),s?Object(C.jsx)(_e.a,{}):Object(C.jsx)(Ue.a,{})]}),Object(C.jsxs)(Ke.a,{in:s,timeout:"auto",unmountOnExit:!0,children:[c=v("KeyMonitorReport","read",r,a),Object(C.jsx)(L.b,{to:c?"/KeyMonitorReport":"#",onClick:function(t){return e.toggleDrawer(!v("KeyMonitorReport","read",r,a),t)},className:t.linkDecoration,children:Object(C.jsxs)(Se.a,{button:!0,className:t.nested,children:[Object(C.jsx)(Ye.a,{className:t.color}),Object(C.jsx)(Ne.a,{className:c?t.menuText:t.colorDisable,primary:"Movimenta\xe7\xe3o de Chaves"})]})}),c=v("OverfillMonitorReport","read",r,a),Object(C.jsx)(L.b,{to:c?"/OverFillMonitorReport":"#",onClick:function(t){return e.toggleDrawer(!v("OverfillMonitorReport","read",r,a),t)},className:t.linkDecoration,children:Object(C.jsxs)(Se.a,{button:!0,className:t.nested,children:[Object(C.jsx)(Ye.a,{className:t.color}),Object(C.jsx)(Ne.a,{className:c?t.menuText:t.colorDisable,primary:"Monitoramento de Overfill"})]})}),c=v("MultiloadControlReport","read",r,a),Object(C.jsx)(L.b,{to:c?"/MultiloadControlReport":"#",onClick:function(t){return e.toggleDrawer(!v("MultiloadControlReport","read",r,a),t)},className:t.linkDecoration,children:Object(C.jsxs)(Se.a,{button:!0,className:t.nested,children:[Object(C.jsx)(Ye.a,{className:t.color}),Object(C.jsx)(Ne.a,{className:c?t.menuText:t.colorDisable,primary:"Acesso ao Multiload"})]})})]})]})})},Xe=a(84),Qe=a.n(Xe),Je=a(85),$e=a.n(Je),Ze=Object(N.a)((function(e){return{drawerWidth:{width:"22rem"},linkDecoration:{textDecoration:"none",color:"inherit"},ListItem:{paddingTop:0,paddingBottom:0},nested:{paddingLeft:e.spacing(4),paddingTop:0,paddingBottom:0},color:{color:e.palette.primary.main},colorDisable:{color:"gray",cursor:"not-allowed",marginLeft:"0.5vw"},menuText:{marginLeft:"0.5vw"}}})),et=a(164),tt=a.n(et),at=function(e){var t=Ze(),a=Object(d.c)((function(e){return e.permission})),r=Object(d.c)((function(e){return e.authenticated})),i=Object(n.useState)(!1),o=Object(W.a)(i,2),s=o[0],l=o[1],c=!1;return Object(C.jsx)("div",{className:t.drawerWidth,children:Object(C.jsxs)(ke.a,{component:"nav",children:[Object(C.jsxs)(Se.a,{button:!0,onClick:function(){return l(!s)},className:t.ListItem,children:[Object(C.jsx)(Ne.a,{children:Object(C.jsx)(J.a,{color:"primary",children:"Clavicul\xe1rio"})}),s?Object(C.jsx)(_e.a,{}):Object(C.jsx)(Ue.a,{})]}),Object(C.jsxs)(Ke.a,{in:s,timeout:"auto",unmountOnExit:!0,children:[c=v("KeyHolder","read",r,a),Object(C.jsx)(L.b,{to:c?"/allKeyHolder":"#",onClick:function(t){return e.toggleDrawer(!v("KeyHolder","read",r,a),t)},className:t.linkDecoration,children:Object(C.jsxs)(Se.a,{button:!0,className:t.nested,children:[Object(C.jsx)(Qe.a,{className:t.color}),Object(C.jsx)(Ne.a,{className:c?t.menuText:t.colorDisable,primary:"Cadastrar Clavicul\xe1rio"})]})}),c=v("AvaliableKey","read",r,a),Object(C.jsx)(L.b,{to:c?"/updateAvaliableKey":"#",onClick:function(t){return e.toggleDrawer(!v("AvaliableKey","read",r,a),t)},className:t.linkDecoration,children:Object(C.jsxs)(Se.a,{button:!0,className:t.nested,children:[Object(C.jsx)($e.a,{className:t.color}),Object(C.jsx)(Ne.a,{className:c?t.menuText:t.colorDisable,primary:"Configura\xe7\xe3o de Chaves"})]})}),c=v("MonitorKey","read",r,a),Object(C.jsx)(L.b,{to:c?"/MonitorKey":"#",onClick:function(t){return e.toggleDrawer(!v("MonitorKey","read",r,a),t)},className:t.linkDecoration,children:Object(C.jsxs)(Se.a,{button:!0,className:t.nested,children:[Object(C.jsx)(tt.a,{className:t.color}),Object(C.jsx)(Ne.a,{className:c?t.menuText:t.colorDisable,primary:"Monitoramento das Chaves"})]})})]})]})})},nt=a(115),rt=a.n(nt),it=a(86),ot=a.n(it),st=function(e){var t=Ze(),a=Object(d.c)((function(e){return e.permission})),r=Object(d.c)((function(e){return e.authenticated})),i=Object(n.useState)(!1),o=Object(W.a)(i,2),s=o[0],l=o[1],c=!1;return Object(C.jsx)("div",{className:t.drawerWidth,children:Object(C.jsxs)(ke.a,{component:"nav",children:[Object(C.jsxs)(Se.a,{button:!0,onClick:function(){return l(!s)},className:t.ListItem,children:[Object(C.jsx)(Ne.a,{children:Object(C.jsx)(J.a,{color:"primary",children:"SMS"})}),s?Object(C.jsx)(_e.a,{}):Object(C.jsx)(Ue.a,{})]}),Object(C.jsxs)(Ke.a,{in:s,timeout:"auto",unmountOnExit:!0,children:[c=v("Driver","read",r,a),Object(C.jsx)(L.b,{to:c?"/allDriver":"#",onClick:function(t){return e.toggleDrawer(!v("Driver","read",r,a),t)},className:t.linkDecoration,children:Object(C.jsxs)(Se.a,{button:!0,className:t.nested,children:[Object(C.jsx)(ot.a,{className:t.color}),Object(C.jsx)(Ne.a,{className:c?t.menuText:t.colorDisable,primary:"Cadastro de Motoristas"})]})}),c=v("DriverSMS","read",r,a),Object(C.jsx)(L.b,{to:c?"/DriverSMS":"#",onClick:function(t){return e.toggleDrawer(!v("DriverSMS","read",r,a),t)},className:t.linkDecoration,children:Object(C.jsxs)(Se.a,{button:!0,className:t.nested,children:[Object(C.jsx)(rt.a,{className:t.color}),Object(C.jsx)(Ne.a,{className:c?t.menuText:t.colorDisable,primary:"Interface com os Motoristas"})]})})]})]})})},lt=a(87),ct=a.n(lt),dt=a(116),ut=a.n(dt),jt=function(e){var t=Ze(),a=Object(d.c)((function(e){return e.permission})),r=Object(d.c)((function(e){return e.authenticated})),i=Object(n.useState)(!1),o=Object(W.a)(i,2),s=o[0],l=o[1],c=!1;return Object(C.jsx)("div",{className:t.drawerWidth,children:Object(C.jsxs)(ke.a,{component:"nav",children:[Object(C.jsxs)(Se.a,{button:!0,onClick:function(){return l(!s)},className:t.ListItem,children:[Object(C.jsx)(Ne.a,{children:Object(C.jsx)(J.a,{color:"primary",children:"Monitoramento de OverFill"})}),s?Object(C.jsx)(_e.a,{}):Object(C.jsx)(Ue.a,{})]}),Object(C.jsxs)(Ke.a,{in:s,timeout:"auto",unmountOnExit:!0,children:[c=v("Truck","read",r,a),Object(C.jsx)(L.b,{to:c?"/allTruck":"#",onClick:function(t){return e.toggleDrawer(!v("Driver","read",r,a),t)},className:t.linkDecoration,children:Object(C.jsxs)(Se.a,{button:!0,className:t.nested,children:[Object(C.jsx)(ct.a,{className:t.color}),Object(C.jsx)(Ne.a,{className:c?t.menuText:t.colorDisable,primary:"Cadastro de AT"})]})}),c=v("MonitorOverfill","read",r,a),Object(C.jsx)(L.b,{to:c?"/allBay":"#",onClick:function(t){return e.toggleDrawer(!v("MonitorOverfill","read",r,a),t)},className:t.linkDecoration,children:Object(C.jsxs)(Se.a,{button:!0,className:t.nested,children:[Object(C.jsx)(ut.a,{className:t.color}),Object(C.jsx)(Ne.a,{className:c?t.menuText:t.colorDisable,primary:"Condi\xe7\xf5es dos Overfills"})]})})]})]})})},bt=a(92),mt=a.n(bt),ht=function(e){var t,a=Ze(),r=Object(d.c)((function(e){return e.permission})),i=Object(d.c)((function(e){return e.authenticated})),o=Object(n.useState)(!1),s=Object(W.a)(o,2),l=s[0],c=s[1];return Object(C.jsx)("div",{className:a.drawerWidth,children:Object(C.jsxs)(ke.a,{component:"nav",children:[Object(C.jsxs)(Se.a,{button:!0,onClick:function(){return c(!l)},className:a.ListItem,children:[Object(C.jsx)(Ne.a,{children:Object(C.jsx)(J.a,{color:"primary",children:"Controle de Acesso Multiload"})}),l?Object(C.jsx)(_e.a,{}):Object(C.jsx)(Ue.a,{})]}),Object(C.jsxs)(Ke.a,{in:l,timeout:"auto",unmountOnExit:!0,children:[t=v("MultiloadControl","read",i,r),Object(C.jsx)(L.b,{to:t?"/allMultiload":"#",onClick:function(t){return e.toggleDrawer(!v("MultiloadControl","read",i,r),t)},className:a.linkDecoration,children:Object(C.jsxs)(Se.a,{button:!0,className:a.nested,children:[Object(C.jsx)(mt.a,{className:a.color}),Object(C.jsx)(Ne.a,{className:t?a.menuText:a.colorDisable,primary:"Configurar Multiload"})]})})]})]})})},ft=a(322),pt=a(295),gt=a(296),Ot=a(165),xt=a.n(Ot),vt=a(166),Ct=a.n(vt),yt=a(117),wt=a.n(yt),kt=Object(N.a)((function(e){return{root:{primary:"#782878"},grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(H.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),sectionDesktop:Object(H.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(H.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),drawerWidth:{width:"22rem"},linkDecoration:{textDecoration:"none",color:"inherit"},listItemStyled:{paddingTop:e.spacing(0),paddingBottom:e.spacing(0)},color:{color:e.palette.primary.main}}})),St=function(e){return e.authenticated},Nt=function(e){var t=kt(),a=Object(d.c)(St);return Object(C.jsxs)("div",{className:t.grow,children:[Object(C.jsx)(pt.a,{className:t.root,position:"static",children:Object(C.jsxs)(gt.a,{children:[e.userAuth&&!e.restartPasswordActivated?Object(C.jsx)(A.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"Abre Menu",onClick:function(t){e.toggleDrawer(!0,t)},children:Object(C.jsx)(xt.a,{})}):null,Object(C.jsx)(L.b,{to:e.userAuth?"/Home":"/Login",style:{textDecoration:"none",color:"inherit"},children:Object(C.jsxs)(F.a,{display:"flex",flexDirection:"column",children:[Object(C.jsx)(F.a,{children:Object(C.jsx)(J.a,{className:t.title,variant:"h6",noWrap:!0,children:"R.A.I.S - Raizen Automation Interface System"})}),Object(C.jsx)(F.a,{children:Object(C.jsx)(J.a,{className:t.title,variant:"caption",noWrap:!0,children:Object(C.jsx)("u",{children:"Terminal 4.0"})})})]})}),Object(C.jsx)("div",{className:t.grow}),Object(C.jsxs)("div",{className:t.sectionDesktop,children:[Object(C.jsx)("div",{style:{marginLeft:"20px",marginRight:"5px"},children:Object(C.jsx)("h5",{children:null!==a?a.name:""})}),e.userAuth?Object(C.jsx)(A.a,{edge:"end","aria-label":"conta usu\xe1rio logado","aria-controls":e.menuId,"aria-haspopup":"true",onClick:e.handleProfileMenuOpen,color:"inherit",children:Object(C.jsx)(wt.a,{})}):null]}),Object(C.jsx)("div",{className:t.sectionMobile,children:Object(C.jsx)(A.a,{"aria-label":"menu mais info","aria-controls":e.mobileMenuId,"aria-haspopup":"true",onClick:e.handleMobileMenuOpen,color:"inherit",children:Object(C.jsx)(Ct.a,{})})})]})}),e.renderMobileMenu,e.renderMenu]})},Et=a(297),Pt=a(186),Dt=a(298),Rt=a(118),Tt=a.n(Rt);function Bt(e){return{type:"USER_LOGIN",payload:e}}function It(e){return{type:"GET_PERMISSION",payload:e}}function Ft(e){return{type:"MOUNTED",payload:e}}var Mt=function(e){var t=g("api_features"),a=kt(),r=Object(n.useState)(null),i=Object(W.a)(r,2),o=i[0],l=i[1],c=Object(n.useState)(null),u=Object(W.a)(c,2),j=u[0],b=u[1],m=Boolean(o),h=Object(n.useState)(!1),f=Object(W.a)(h,2),p=f[0],O=f[1],x=Object(n.useState)(!1),v=Object(W.a)(x,2),y=v[0],w=v[1],k=Boolean(j),S=Object(d.b)(),N=Object(d.c)((function(e){return e.authenticated}));Object(n.useEffect)((function(){O(!1),w(!1),S(Ft(!1)),null!==N&&(!0===N.auth&&(O(!0),S(Ft(!0))),1===N.restartPassword&&w(!0))}),[N,S]);var E=function(e){l(e.currentTarget)},P=function(){b(null)},D=function(){l(null),P()},R="menu-conta-usuario",T=Object(C.jsx)(Pt.a,{"arial-label":"menu-direito",style:{marginTop:"35px"},anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},id:R,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:m,onClose:D,children:Object(C.jsx)(Et.a,{onClick:D,children:Object(C.jsx)(ke.a,{children:Object(C.jsxs)(Se.a,{className:a.listItemStyled,onClick:function(){null!==N&&t.post("/logout",{email:N.email}).then((function(e){e.data.bsApproved?(s.a,S({type:"USER_LOGOUT",payload:null}),S({type:"CLEAR_PERMISSION",payload:null})):alert("N\xe3o foi possivel realizar o logout. Tente novamente")})).catch((function(e){console.log(e)}))},children:[Object(C.jsx)(Dt.a,{children:Object(C.jsx)(Tt.a,{className:a.color})}),Object(C.jsx)(Ne.a,{primary:"Sair"})]})})})}),B="menu-conta-usuario-mobile",I=Object(C.jsx)(Pt.a,{anchorEl:j,anchorOrigin:{vertical:"top",horizontal:"right"},id:B,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:k,onClose:P,children:Object(C.jsxs)(Et.a,{onClick:E,children:[Object(C.jsx)(A.a,{"aria-label":"conta do usu\xe1rio logado","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(C.jsx)(wt.a,{})}),Object(C.jsx)("p",{children:"Minha Conta"})]})});return Object(C.jsx)(Nt,{mobileMenuId:B,restartPasswordActivated:y,userAuth:p,menuId:R,handleMobileMenuOpen:function(e){b(e.currentTarget)},handleProfileMenuOpen:E,toggleDrawer:e.toggleDrawer,renderMenu:T,renderMobileMenu:I})},At=Object(N.a)((function(e){var t;return{menuInitialItem:(t={backgroundColor:e.palette.primary.main,minHeight:56},Object(H.a)(t,e.breakpoints.up("xs"),{minHeight:48}),Object(H.a)(t,e.breakpoints.up("sm"),{minHeight:64}),t)}}));var Vt=function(e){var t=e.state,a=e.toggleDrawer,n=At();return Object(C.jsxs)("div",{children:[Object(C.jsx)(Mt,{toggleDrawer:a}),Object(C.jsxs)(ft.a,{anchor:"left",variant:"temporary",open:t,onClose:function(e){return a(!1,e)},children:[Object(C.jsx)(Se.a,{className:n.menuInitialItem,"arial-label":"inicio-menu"}),Object(C.jsx)(He,{toggleDrawer:a}),Object(C.jsx)(at,{toggleDrawer:a}),Object(C.jsx)(st,{toggleDrawer:a}),Object(C.jsx)(jt,{toggleDrawer:a}),Object(C.jsx)(ht,{toggleDrawer:a}),Object(C.jsx)(Ge,{toggleDrawer:a})]})]})};var Lt=function(e){var t=!1,a=Object(n.useState)(t),r=Object(W.a)(a,2),i=r[0],o=r[1];return Object(C.jsx)(Vt,{state:i,toggleDrawer:function(e,a){("keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&o(t=e)}})},_t=Object(N.a)((function(e){return{margin:{margin:e.spacing(2)}}})),zt=a.p+"static/media/Logotipo.d7714127.svg",Ut=a(167),Kt=a.n(Ut),Ht=function(e){var t=e.handleSubmit,a=e.user,n=e.handleChange,r=e.infoErrors,i=e.serverValidation,o=e.handleCloseInfo,s=e.handleCloseErros,l=e.createUsersByAdmin,c=e.loading,d=_t();return Object(C.jsx)(B.a,{maxWidth:"xs",children:Object(C.jsx)(F.a,{mt:5,children:Object(C.jsxs)(I.a,{children:[Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",m:1,p:1,children:Object(C.jsx)(F.a,{children:Object(C.jsx)("p",{children:Object(C.jsx)("img",{alt:"locker",src:zt,width:"90%",height:"90%"})})})}),Object(C.jsxs)(F.a,{m:1,children:[l?Object(C.jsxs)(G.a,{fullWidth:!0,children:[Object(C.jsx)(X.a,{htmlFor:"input-login",children:"Usu\xe1rio"}),Object(C.jsx)(Q.a,{autoFocus:!0,className:d.margin,id:"logonUser",name:"logonUser",label:"Usu\xe1rio",autoComplete:"off",type:"text",onChange:function(e){n(e)},value:a.logonUser,inputProps:{maxLength:35},startAdornment:Object(C.jsx)(se.a,{position:"start",children:Object(C.jsx)(ae.a,{color:"primary"})})})]}):Object(C.jsxs)(G.a,{fullWidth:!0,children:[Object(C.jsx)(X.a,{htmlFor:"input-email",children:"E-mail"}),Object(C.jsx)(Q.a,{autoFocus:!0,className:d.margin,id:"email",name:"email",label:"email",autoComplete:"off",type:"text",onChange:function(e){n(e)},value:a.email,inputProps:{maxLength:35},startAdornment:Object(C.jsx)(se.a,{position:"start",children:Object(C.jsx)(re.a,{color:"primary"})})})]}),Object(C.jsxs)(G.a,{fullWidth:!0,children:[Object(C.jsx)(X.a,{htmlFor:"input-senha",children:"Senha"}),Object(C.jsx)(Q.a,{className:d.margin,id:"password",name:"password",label:"senha",autoComplete:"off",type:"password",onChange:function(e){n(e)},onKeyPress:function(e){"Enter"===e.key&&t(e)},value:a.senha,inputProps:{maxLength:8},startAdornment:Object(C.jsx)(se.a,{position:"start",children:Object(C.jsx)(Kt.a,{color:"primary"})})})]}),Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",children:Object(C.jsx)(M.a,{title:"Entrar no sistema",placement:"top",children:Object(C.jsx)(w.a,{variant:"outlined",color:"primary","aria-label":"enter",className:d.margin,onClick:function(e){t(e)},onKeyPress:function(e){"Enter"===e.key&&t(e)},children:"Entrar"})})}),Object(C.jsx)(F.a,{justifyContent:"center"}),!l&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",children:Object(C.jsx)(L.b,{to:"/recoveryPass",className:d.linkDecoration,children:"Solicitar nova senha"})}),Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",children:Object(C.jsx)(L.b,{to:"/register",className:d.linkDecoration,children:"Criar nova Conta"})})]}),Object(C.jsxs)(F.a,{pb:1,children:[Object(C.jsx)(ce,{infoErrors:r,handleCloseErros:s}),Object(C.jsx)(ue,{serverValidation:i,handleCloseInfo:o})]})]}),c&&Object(C.jsx)(je.a,{})]})})})};var Wt=function(e){var t=Object(n.useState)({logonUser:"",email:"",password:""}),a=Object(W.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(!1),s=Object(W.a)(o,2),c=s[0],u=s[1],j=Object(n.useState)({msg:""}),b=Object(W.a)(j,2),m=b[0],h=b[1],f=Object(n.useState)({msg:""}),p=Object(W.a)(f,2),x=p[0],v=p[1],y=Object(n.useState)(!1),w=Object(W.a)(y,2),k=w[0],S=w[1],N=Object(d.b)();N({type:"USER_LOGOUT",payload:null});var E=g("api_features");return Object(n.useEffect)((function(){return E.post("/getConfigParameter",{parameter:"createUsersByAdmin"}).then((function(e){if(e.data.registers){var t=e.data.registers.shift();1===parseInt(t.parameterValue)?u(!0):u(!1)}else{var a={msg:e.data.msg};v(a)}})).catch((function(e){var t=me(e);console.log(t.msg),h(t)})),function(){S(!1)}}),[E]),Object(C.jsx)(Ht,{user:r,handleChange:function(e){i(Object(l.a)(Object(l.a)({},r),{},Object(H.a)({},e.target.name,e.target.value)))},handleSubmit:function(t){S(!0),void 0!==e.match.params.key?E.post("/firstLogin/".concat(e.match.params.key),r).then((function(t){if(t.data.bsApproved)N(Bt({name:t.data.registers[0].name,email:t.data.registers[0].email,token:t.data.token,auth:t.data.auth,profile_id:t.data.registers[0].profile_id,restartPassword:t.data.registers[0].restartPassword,idNumber:t.data.registers[0].id})),N(It(t.data.permission)),O(t.data.token),e.history.push("/home");else{var a={msg:t.data.msg};v(a)}})).catch((function(e){var t=me(e);console.log(t.msg),h(t)})).finally((function(){S(!1)})):E.post("/login",r).then((function(t){if(t.data.bsApproved)N(Bt({name:t.data.registers[0].name,email:t.data.registers[0].email,logonUser:t.data.registers[0].logonUser,token:t.data.token,auth:t.data.auth,profile_id:t.data.registers[0].profile_id,restartPassword:t.data.registers[0].restartPassword,idNumber:t.data.registers[0].id})),N(It(t.data.permission)),O(t.data.token),t.data.registers[0].restartPassword?e.history.push("/changePasswordUserByAdmin/".concat(t.data.registers[0].id),r):e.history.push("/home");else{var a={msg:t.data.msg};v(a)}})).catch((function(e){var t=me(e);console.log(t.msg),h(t)})).finally((function(){S(!1)})),t.preventDefault()},handleCloseErros:function(){h({msg:""})},handleCloseInfo:function(){v({msg:""})},infoErrors:m,serverValidation:x,createUsersByAdmin:c,loading:k})},qt=Object(N.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(2)}},MainBox:{display:"flex",justifyContent:"center",margin:e.spacing(1),padding:e.spacing(1)},large:{width:"50ch"},medium:{width:"35ch"},small:{width:"20ch"},paper:{margin:e.spacing(2),padding:e.spacing(2)}}})),Yt=a(168),Gt=a.n(Yt),Xt=a(169),Qt=a.n(Xt),Jt=function(e){var t=e.handleSubmit,a=e.urlBackCommand,n=e.showSaveButton,r=e.showBackButton,i=Object(s.g)();return Object(C.jsx)(F.a,{style:{display:"flex",justifyContent:"flex-end"},"arial-label":"form-footer",children:Object(C.jsxs)(F.a,{style:{display:"flex"},children:[n&&Object(C.jsx)(F.a,{m:1,children:Object(C.jsx)(w.a,{id:"save",type:"submit",size:"small",variant:"contained",color:"primary",onClick:function(e){return t(e)},startIcon:Object(C.jsx)(Gt.a,{}),children:"Salvar"})}),r&&Object(C.jsx)(F.a,{m:1,children:Object(C.jsx)(w.a,{id:"back",size:"small",variant:"contained",color:"default",endIcon:Object(C.jsx)(Qt.a,{}),"arial-label":"footer-commands",onClick:function(){return i.push(a)},children:"Voltar"})})]})})};var $t=function(e){var t=e.handleSubmit,a=e.urlBackCommand,n=e.showSaveButton,r=e.showBackButton;return Object(C.jsx)(Jt,{handleSubmit:t,urlBackCommand:a,showSaveButton:n,showBackButton:r})},Zt=a(88),ea=a.n(Zt),ta=function(e){var t=e.handleSubmit,a=e.user,n=e.handleChange,r=e.handleBlur,i=e.inputvalidation,o=e.infoErrors,s=e.serverValidation,c=e.handleCloseInfo,d=e.handleCloseErros,u=e.loading,j=qt();return Object(C.jsx)(B.a,{maxWidth:"xs",children:Object(C.jsx)(F.a,{className:j.MainBox,children:Object(C.jsxs)(I.a,{elevation:3,children:[Object(C.jsx)(ee,{icon:Object(C.jsx)(ea.a,{fontSize:"large",style:{color:"blue"}}),titulo:"Criar nova Conta"}),Object(C.jsxs)(G.a,{className:j.root,children:[Object(C.jsxs)("div",{children:[Object(C.jsx)(fe.a,{id:"name",name:"name",label:"Nome",autoComplete:"off",className:j.large,value:a.name,onChange:function(e){return n(e,!1)},onBlur:function(e){return r(e)},helperText:""!==i.keys.name?i.keys.name:"",error:""!==i.keys.name,inputProps:{maxLength:35}}),Object(C.jsx)(fe.a,{id:"email",name:"email",label:"e-mail",autoComplete:"off",className:j.large,value:a.email,onChange:function(e){return n(e,!1)},onBlur:function(e){return r(e)},helperText:""!==i.keys.email?i.keys.email:"",error:""!==i.keys.email,inputProps:{maxLength:35}})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Y.a,{mask:"(99)99999 9999",maskChar:"",value:a.telefone,onChange:function(e){return n(e,!0)},onBlur:function(e){return r(e)},children:function(e){return Object(C.jsx)(fe.a,Object(l.a)(Object(l.a)({},e),{},{id:"phone",name:"phone",label:"Telefone",autoComplete:"off",className:j.small,helperText:""!==i.keys.phone?i.keys.phone:"",error:""!==i.keys.phone}))}}),Object(C.jsx)(Y.a,{mask:"999.999.999.99",maskChar:"",value:a.cpf,onChange:function(e){return n(e,!0)},onBlur:function(e){return r(e)},children:function(e){return Object(C.jsx)(fe.a,Object(l.a)(Object(l.a)({},e),{},{id:"cpf",name:"cpf",label:"CPF",autoComplete:"off",className:j.small,helperText:""!==i.keys.cpf?i.keys.cpf:"",error:""!==i.keys.cpf}))}})]}),Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",children:Object(C.jsx)(fe.a,{id:"password",name:"password",label:"Senha",autoComplete:"off",className:j.small,value:a.password,type:"password",onChange:function(e){return n(e,!1)},onBlur:function(e){return r(e)},helperText:""!==i.keys.password?i.keys.password:"",error:""!==i.keys.password,inputProps:{maxLength:8}})}),Object(C.jsx)(ce,{infoErrors:o,handleCloseErros:d}),Object(C.jsx)(ue,{serverValidation:s,handleCloseInfo:c}),Object(C.jsx)($t,{handleSubmit:t,urlBackCommand:"/login",showSaveButton:!0,showBackButton:!0}),u&&Object(C.jsx)(je.a,{})]})]})})})};var aa=function(e){var t={msg:"",isError:!1};switch(e.target.name){case"name":0===e.target.value.length&&(t.msg="Nome \xe9 obrigat\xf3rio",t.isError=!0);break;case"email":0===e.target.value.length&&(t.msg="e-mail \xe9 obrigat\xf3rio",t.isError=!0);break;case"phone":0===e.target.value.length?(t.msg="Telefone \xe9 obrigat\xf3rio",t.isError=!0):e.target.value.length<14&&(t.msg="Telefone inv\xe1lido",t.isError=!0);break;case"cpf":0===e.target.value.length?(t.msg="Cpf \xe9 obrigat\xf3rio",t.isError=!0):e.target.value.length<14&&(t.msg="Cpf inv\xe1lido",t.isError=!0);break;case"password":0===e.target.value.length?(t.msg="Senha \xe9 obrigat\xf3rio",t.isError=!0):e.target.value.length<8&&(t.msg="Senha inv\xe1lido",t.isError=!0);break;default:t.msg="",t.isError=!1}return t};var na=function(e){var t=g("api_features"),a={id:0,name:"",phone:"",email:"",cpf:"",logonUser:"",status:!1,password:null},r=Object(n.useState)(a),i=Object(W.a)(r,2),o=i[0],s=i[1],c=Object(n.useState)({msg:""}),d=Object(W.a)(c,2),u=d[0],j=d[1],b=Object(n.useState)({msg:""}),m=Object(W.a)(b,2),h=m[0],f=m[1],p={isError:!1,keys:{id:0,name:"",phone:"",email:"",cpf:"",logonUser:"",password:""}},O=Object(n.useState)(p),x=Object(W.a)(O,2),v=x[0],y=x[1],w=Object(n.useState)(!1),k=Object(W.a)(w,2),S=k[0],N=k[1];return Object(C.jsx)(ta,{user:o,handleChange:function(e,t){t&&(e.target.value=e.target.value.replace(/[, ]+/g,"").replace(/\(|\)/g,"")),s(Object(l.a)(Object(l.a)({},o),{},Object(H.a)({},e.target.name,e.target.value)))},handleSubmit:function(a){N(!0),v.isError||t.post("/registerUser",o).then((function(t){if(t.data.bsApproved)e.history.push("/registerConfirmation");else{var a={msg:t.data.msg};f(a)}})).catch((function(e){var t=me(e);console.log(t.msg),j(t)})).finally((function(){N(!1)})),a.preventDefault()},handleBlur:function(e){var t=aa(e),a={keys:Object(l.a)(Object(l.a)({},v.keys),{},Object(H.a)({},e.target.name,t.msg))};y(Object(l.a)({isError:t.isError},a))},handleCloseErros:function(){j({msg:""})},handleCloseInfo:function(){f({msg:""})},inputvalidation:v,infoErrors:u,serverValidation:h,loading:S})};var ra=function(e){return Object(C.jsx)(B.a,{maxWidth:"xs",children:Object(C.jsxs)(I.a,{children:[Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",mt:6,p:2,children:Object(C.jsx)(V.a,{variant:"filled",severity:"info",children:"O Recurso solicitado n\xe3o foi encontrado."})}),Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",children:Object(C.jsx)(M.a,{title:"Entrar no sistema",placement:"bottom",children:Object(C.jsx)(L.b,{to:"/login",style:{textDecoration:"none",paddingBottom:"2vh"},children:Object(C.jsx)(w.a,{variant:"outlined",color:"primary","aria-label":"enter",children:"Login"})})})})]})})};var ia=function(e){return Object(C.jsx)(B.a,{maxWidth:"xs",children:Object(C.jsxs)(I.a,{children:[Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",mt:6,p:2,children:Object(C.jsx)(V.a,{variant:"filled",severity:"info",children:"Voc\xea n\xe3o possui permiss\xe3o para acessar este recurso do sistema. Entre em contato com o administrador."})}),Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",children:Object(C.jsx)(M.a,{title:"Entrar no sistema",placement:"bottom",children:Object(C.jsx)(L.b,{to:"/login",style:{textDecoration:"none",paddingBottom:"2vh"},children:Object(C.jsx)(w.a,{variant:"outlined",color:"primary","aria-label":"enter",children:"Login"})})})})]})})},oa=Object(N.a)((function(e){return{MainBox:{display:"flex",justifyContent:"center",margin:e.spacing(1),padding:e.spacing(1)},color:{color:e.palette.primary.main}}})),sa=Object(N.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750}}})),la=a(303),ca=a(304),da=a(301),ua=a(302),ja=a(319),ba=a(300),ma=a(299),ha=Object(N.a)((function(e){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},color:{color:e.palette.primary.main},colorDisable:{color:"gray",cursor:"not-allowed"}}})),fa=a(170),pa=a.n(fa),ga=a(89),Oa=a.n(ga),xa=function(e){var t=ha(),a=e.order,n=e.orderBy,r=e.headCells,i=e.titleReport,o=e.landscapeView,s=e.allRows,l=e.pathAddComponentForUpdate,c=e.permission,d=e.showAddRegisterCommand,u=c?{pathname:l}:"#";return Object(C.jsx)(ma.a,{children:Object(C.jsxs)(ba.a,{children:[Object(C.jsx)(da.a,{"arial-label":"comando-criar",style:{paddingRight:"10px"},children:d&&Object(C.jsx)(M.a,{title:"Criar um novo registro",children:Object(C.jsx)(L.b,{to:u,"arial-label":"link-para-cria\xe7\xe3o",children:Object(C.jsx)(A.a,{p:1,"arial-label":"create-register",children:Object(C.jsx)(pa.a,{className:c?t.color:t.colorDisable})})})})}),r.map((function(e){return Object(C.jsx)(da.a,{width:e.width,"arial-label":"coluna-tabela",align:e.align?e.align:"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a,children:Object(C.jsx)(F.a,{children:Object(C.jsx)("strong",{children:e.label})})},e.id)})),Object(C.jsx)(da.a,{children:Object(C.jsx)(L.b,{to:{pathname:"/GeneralReport",props:{titleReport:i,allRows:s,headCells:r,landscapeView:o}},children:Object(C.jsx)(A.a,{color:"primary","aria-label":"Imprimir",size:"small",children:Object(C.jsx)(Oa.a,{size:"inherit"})})})})]})})};var va=function(e){var t=e.order,a=e.orderBy,n=e.rowCount,r=e.onRequestSort,i=e.headCells,o=e.routeName,s=e.executeFiltering,l=e.pathAddComponentForUpdate,c=e.showAddRegisterCommand,u=e.landscapeView,j=e.allRows,b=e.titleReport,m=Object(d.c)((function(e){return e.permission})),h=Object(d.c)((function(e){return e.authenticated})),f=v(o,"write",h,m);return Object(C.jsx)(xa,{showAddRegisterCommand:c,order:t,permission:f,orderBy:a,rowCount:n,onRequestSort:r,headCells:i,landscapeView:u,allRows:j,titleReport:b,executeFiltering:s,pathAddComponentForUpdate:l})},Ca=Object(N.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},title:{paddingTop:e.spacing(1)},margin:{marginRight:e.spacing(1)},color:{color:e.palette.primary.main},tableToolbar:Object(H.a)({justifyContent:"space-between",flexWrap:"wrap",display:"flex"},e.breakpoints.down("md"),{justifyContent:"center"})}})),ya=a(68),wa=a.n(ya),ka=function(e){var t=e.tableTitle,a=e.searchValue,n=e.handleOnChange,r=e.icon,i=Ca();return Object(C.jsxs)(F.a,{className:i.tableToolbar,m:1,children:[Object(C.jsxs)(F.a,{display:"flex",m:1,children:[Object(C.jsx)(F.a,{children:r}),Object(C.jsx)(F.a,{mx:1,children:Object(C.jsx)(J.a,{className:i.title,id:"tableTitle",component:"div",children:Object(C.jsxs)(F.a,{fontWeight:"medium",children:[t," "]})})})]}),Object(C.jsx)(F.a,{m:1,children:Object(C.jsx)(G.a,{className:i.margin,"arial-label":"form-search",children:Object(C.jsx)(Q.a,{id:"search",value:a,onChange:n,size:"small",startAdornment:Object(C.jsx)(se.a,{className:i.color,position:"start",children:Object(C.jsx)(wa.a,{className:i.color})})})})})]})};var Sa=function(e){var t=e.tableTitle,a=e.pathAddComponentForUpdate,r=e.handleSearching,i=e.icon,o=Object(n.useState)(""),s=Object(W.a)(o,2),l=s[0],c=s[1];return Object(C.jsx)(ka,{tableTitle:t,icon:i,searchValue:l,handleOnChange:function(e){var t=e.target.value;c(t),r(t)},pathAddComponentForUpdate:a})},Na=a(171),Ea=a.n(Na),Pa=Object(N.a)((function(e){return{color:{fill:e.palette.primary.main,cursor:"pointer"},colorDisable:{fill:"gray",cursor:"not-allowed"}}})),Da=function(e){var t=e.id,a=e.titulo,r=e.pathEditComponentForUpdate,i=e.isIcon,o=e.permission,s=o?{pathname:r,state:{id:t}}:"#",l=Pa();return Object(C.jsx)("div",{children:!0===i?Object(C.jsx)(L.b,{to:s,"arial-label":"link-para-atualiza\xe7\xe3o",children:Object(C.jsx)(Ea.a,{id:t,className:o?l.color:l.colorDisable})}):Object(C.jsx)(L.b,{to:s,"arial-label":"bot\xe3o-para-atualiza\xe7\xe3o",children:Object(C.jsx)(n.Button,{variant:"contained",disabled:o,children:a})})})};var Ra=function(e){var t=e.pathEditComponentForUpdate,a=e.id,n=e.titulo,r=e.isIcon,i=e.routeName,o=Object(d.c)((function(e){return e.permission})),s=Object(d.c)((function(e){return e.authenticated})),l=v(i,"write",s,o);return Object(C.jsx)(Da,{id:a,permission:l,titulo:n,pathEditComponentForUpdate:t,isIcon:r})},Ta=a(305),Ba=function(e){var t=(""+e).replace(/\D/g,"").match(/^(\d{2})(\d{5})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:null},Ia=function(e){if(10===e.length){var t=e.substr(0,2),a=e.substr(3,2),n=e.substr(6,4);return"".concat(n,"-").concat(a,"-").concat(t)}return e},Fa=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},Ma=function(e,t){switch(t){case"telefone":return Ba(e);case"date":return Ia(e);case"numberFormat":return Fa(e);default:return e}},Aa=function(e){var t=e.handleRequestSort,a=e.showAddRegisterCommand,n=void 0===a||a,r=e.showDeleteRegisterCommand,i=void 0===r||r,o=e.showEditRegisterCommand,s=void 0===o||o,l=e.handleChangePage,c=e.handleChangeRowsPerPage,d=e.getComparator,u=e.stableSort,j=e.emptyRows,b=e.rows,m=e.order,h=e.orderBy,f=e.rowsPerPage,p=e.page,g=e.headCells,O=e.tableTitle,x=e.icon,v=e.DeletedRegister,y=e.api_url,w=e.host_api,k=e.pathEditComponentForUpdate,S=e.pathAddComponentForUpdate,N=e.handleSearching,E=e.routeName,P=e.titleReport,D=e.landscapeView,T=e.loading,B=sa();function M(e,t){var a="";switch(t){case"bool":a=1===e?"Sim":"N\xe3o";break;case"conditionalText":a=e&&e.trim().length>0?"Sim":"N\xe3o";break;case"numberFormat":a=e?Ma(parseInt(e),"numberFormat"):e;break;case"truckLicense":e&&e.trim().length,a=e;break;case"keyStatus":a=e&&0===parseInt(e)?"Retirada":"Dispon\xedvel";break;case"blockedUnblocked":a=e&&0===parseInt(e)?"Bloqueado":"Liberado";break;default:a=e}return a}return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(I.a,{className:B.paper,elevation:3,children:[Object(C.jsx)(Sa,{tableTitle:O,icon:x,handleSearching:N}),Object(C.jsxs)(ua.a,{children:[Object(C.jsxs)(la.a,{className:B.table,"aria-labelledby":"Tabela apresenta\xe7\xe3o de dados para edi\xe7\xe3o",size:"small","aria-label":"EnhancedTableRows",style:{whiteSpace:"nowrap"},children:[Object(C.jsx)(va,{showAddRegisterCommand:n,classes:B,order:m,orderBy:h,onRequestSort:t,headCells:g,titleReport:P,allRows:b,landscapeView:D,routeName:E,pathAddComponentForUpdate:S}),!T&&Object(C.jsxs)(ca.a,{children:[u(b,d(m,h)).slice(p*f,p*f+f).map((function(e){return Object(C.jsxs)(ba.a,{id:"row_"+e.id,hover:!0,tabIndex:-1,children:[Object(C.jsx)(da.a,{align:"right",ml:3,children:s&&Object(C.jsx)(Ra,{id:e.id,titulo:"Salvar",isIcon:!0,pathEditComponentForUpdate:k,routeName:E})},Math.random()),Object.keys(e).map((function(t){var a=g.filter((function(e){return e.id===t}));return"id"!==t&&g.findIndex((function(e){return e.id===t}))>=0?Object(C.jsx)(da.a,{style:{overflowWrap:"break-word",whiteSpace:"normal"},align:a.length>0?a[0].align:"left",children:M(e[t],a.length>0?a[0].type:"text")},Math.random()):null})),Object(C.jsx)(da.a,{align:"right",size:"small",children:i&&Object(C.jsx)(R,{id:e.id,titulo:"Excluir",api_url:y,host_api:w,routeName:E,DeletedRegister:v,isIcon:!0})},Math.random())]},e.id)})),j>0&&Object(C.jsx)(ba.a,{style:{height:33*j},children:Object(C.jsx)(da.a,{colSpan:6})})]})]}),T&&Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",m:1,p:1,children:Object(C.jsx)(F.a,{p:1,children:Object(C.jsx)(Ta.a,{})})})]}),Object(C.jsx)(ja.a,{rowsPerPageOptions:[5,10],labelRowsPerPage:"Linhas por p\xe1gina:",labelDisplayedRows:function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(a," de ").concat(n," ")},component:"div",count:b.length,rowsPerPage:f,page:p,onChangePage:l,onChangeRowsPerPage:c})]})})};var Va=function(e){var t=e.rows,a=e.headCells,i=e.tableTitle,o=e.DeletedRegister,s=e.api_url,l=e.host_api,c=e.icon,d=e.showAddRegisterCommand,u=e.showEditRegisterCommand,j=e.routeName,b=e.showDeleteRegisterCommand,m=e.pathEditComponentForUpdate,h=e.pathAddComponentForUpdate,f=e.landscapeView,p=e.titleReport,g=e.loading,O=r.a.useState("asc"),x=Object(W.a)(O,2),v=x[0],y=x[1],w=r.a.useState("id"),k=Object(W.a)(w,2),S=k[0],N=k[1],E=r.a.useState(0),P=Object(W.a)(E,2),D=P[0],R=P[1],T=r.a.useState(5),B=Object(W.a)(T,2),I=B[0],F=B[1],M=r.a.useState(t),A=Object(W.a)(M,2),V=A[0],L=A[1];Object(n.useEffect)((function(){L(t)}),[t]);var _=I-Math.min(I,V.length-D*I);function z(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}return Object(C.jsx)(Aa,{showAddRegisterCommand:d,showDeleteRegisterCommand:b,showEditRegisterCommand:u,handleRequestSort:function(e,t){y(S===t&&"asc"===v?"desc":"asc"),N(t)},handleChangePage:function(e,t){R(t)},handleChangeRowsPerPage:function(e){F(parseInt(e.target.value,10)),R(0)},getComparator:function(e,t){return"desc"===e?function(e,a){return z(e,a,t)}:function(e,a){return-z(e,a,t)}},stableSort:function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))},rows:V,emptyRows:_,order:v,orderBy:S,rowsPerPage:I,page:D,headCells:a,tableTitle:i,icon:c,DeletedRegister:o,api_url:s,host_api:l,pathEditComponentForUpdate:m,pathAddComponentForUpdate:h,handleSearching:function(e){var a,n;""!==e?(L((a=V,n=e.toLowerCase(),a.filter((function(e){return Object.keys(e).some((function(t){return"id"!==t&&String(e[t]).toLowerCase().includes(n)}))})))),R(0)):L(t)},routeName:j,titleReport:p,landscapeView:f,loading:g})},La=a(320),_a=a(24),za=a.n(_a),Ua=function(e){var t=e.users,a=e.DeletedRegister,n=e.loading,i=e.handleClose,o=e.infoErrors,s=e.snackInfo,l=e.handleCloseSnack,c=e.visibility,d=oa();return Object(C.jsxs)(B.a,{maxWidth:"lg",children:[Object(C.jsx)(F.a,{className:d.MainBox,children:Object(C.jsx)(Va,{rows:t,headCells:[{id:"name",disablePadding:!1,label:"Nome",align:"left",width:"30%"},{id:"logonUser",disablePadding:!1,label:"Login",align:"left",width:"10%"},{id:"email",disablePadding:!1,label:"E-mail",align:"left",width:"30%"},{id:"profileName",disablePadding:!1,label:"Perfil",align:"left",width:"20%"},{id:"rfid",type:"conditionalText",disablePadding:!1,label:"Cart\xe3o Associado",align:"center",width:"10%"}],tableTitle:"Usu\xe1rios",icon:Object(C.jsx)(ea.a,{fontSize:"large",className:d.color}),DeletedRegister:a,api_url:"/deleteUser",pathEditComponentForUpdate:"/UpdateUser",pathAddComponentForUpdate:"/addUser",routeName:"User",showAddRegisterCommand:!0,showDeleteRegisterCommand:!0,showEditRegisterCommand:!0,titleReport:"Cadastro de Usu\xe1rios",landscapeView:!0,loading:n})}),Object(C.jsx)(F.a,{className:d.MainBox,children:Object(C.jsx)(ce,{infoErrors:o,handleCloseErros:i})}),Object(C.jsx)(La.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:c,autoHideDuration:3e3,onClose:l,message:s.message,action:Object(C.jsx)(r.a.Fragment,{children:Object(C.jsx)(A.a,{size:"small","aria-label":"close",color:"inherit",onClick:l,children:Object(C.jsx)(za.a,{fontSize:"small"})})})})]})};var Ka=function(e){var t=g("api_features"),a=Object(n.useState)(!1),r=Object(W.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)([]),l=Object(W.a)(s,2),c=l[0],d=l[1],u=Object(n.useState)({msg:""}),j=Object(W.a)(u,2),b=j[0],m=j[1],h={message:""},f=Object(n.useState)(h),p=Object(W.a)(f,2),O=p[0],x=p[1],v=Object(n.useState)(!1),y=Object(W.a)(v,2),w=y[0],k=y[1];return Object(n.useEffect)((function(){o(!0),t.get("/allUser").then((function(e){d(e.data.registers),o(!1)})).catch((function(e){var t=me(e);console.log(t.msg),m(t),o(!1)}))}),[t]),Object(C.jsx)(Ua,{users:c,DeletedRegister:function(e,t){void 0===t?(c.splice(c.findIndex((function(t){return t.id===e})),1),h.message="Registro exclu\xeddo com sucesso",x(h),k(!0)):(h.message="Erro ao tentar excluir registro",h.type="error",x(h),k(!0))},loading:i,infoErrors:b,snackInfo:O,handleCloseSnack:function(){k(!1)},visibility:w,handleClose:function(e){m({msg:""})}})},Ha=Object(N.a)((function(e){return{largeTextField:{width:"60%"},color:{color:e.palette.primary.main},RFIDMsg:{color:e.palette.primary.main,fontStretch:"bold"}}})),Wa=a(323),qa=a(306),Ya=a(251),Ga=Object(N.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(2)}},MainBox:{display:"flex",justifyContent:"center",margin:e.spacing(1),padding:e.spacing(1)},PaperMain:function(t){return Object(H.a)({width:t._rest.paperMainWidth},e.breakpoints.down("md"),{width:"100%"})},ContaineFormControls:{display:"Flex",justifyContent:"center",flexWrap:"wrap",flexDirection:"column"}}})),Xa=function(e){var t=e._rest,a=Ga(e);return Object(C.jsx)(F.a,{className:a.MainBox,children:Object(C.jsxs)(I.a,{elevation:3,className:a.PaperMain,children:[Object(C.jsx)(ee,{icon:t.icone,titulo:t.title}),Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",children:Object(C.jsx)("form",{className:a.root,noValidate:!0,autoComplete:"off",style:{width:"90%"},children:Object(C.jsx)(F.a,{className:a.ContaineFormControls,children:e.children})})}),Object(C.jsx)(ce,{infoErrors:t.infoErrors,handleCloseErros:t.handleCloseErros}),Object(C.jsx)(ue,{serverValidation:t.serverValidation,handleCloseInfo:t.handleCloseInfo}),Object(C.jsx)($t,{handleSubmit:t.handleSubmit,urlBackCommand:t.urlBackCommand,showSaveButton:t.showSaveButton,showBackButton:t.showBackButton}),t.loading&&Object(C.jsx)(je.a,{})]})})};var Qa=function(e){var t=e.children,a=Object(c.a)(e,["children"]);return Object(C.jsx)(Xa,{children:t,_rest:a})},Ja=a(172),$a=a.n(Ja),Za=a(307),en=a(311),tn=a(309),an=a(310),nn=a(308),rn=function(e){var t=e.handleSubmit,a=e.user,n=e.handleChange,r=e.handleBlur,i=e.inputvalidation,o=e.infoErrors,s=e.serverValidation,l=e.handleCloseInfo,c=e.handleCloseErros,d=e.handleChangeActivated,u=e.handleChangeResetPassword,j=e.profileNumber,b=e.handleClose,m=e.open,h=e.handleClickOpen,f=e.RFID,p=e.profileList,g=e.loading,O=e.loadingRFID,x=e.editNotPermited,v=Ha();return Object(C.jsxs)(Qa,{infoErrors:o,serverValidation:s,handleCloseInfo:l,handleCloseErros:c,handleSubmit:t,loading:g,icone:Object(C.jsx)(ea.a,{fontSize:"large",className:v.color}),title:"Cadastro de Usu\xe1rios",urlBackCommand:"/allUser",showSaveButton:!0,showBackButton:!0,paperMainWidth:"40%",children:[Object(C.jsxs)(F.a,{children:[Object(C.jsx)(fe.a,{id:"name",name:"name",label:"Nome",autoComplete:"off",className:v.largeTextField,value:a.name,onChange:function(e){return n(e,!1)},onBlur:function(e){return r(e)},helperText:""!==i.keys.name?i.keys.name:"",error:""!==i.keys.name,inputProps:{maxLength:35}}),Object(C.jsx)(fe.a,{disabled:!!x,id:"email",name:"email",label:"e-mail",autoComplete:"off",className:v.largeTextField,value:a.email,onChange:function(e){return n(e,!1)},onBlur:function(e){return r(e)},helperText:""!==i.keys.email?i.keys.email:"",error:""!==i.keys.email,inputProps:{maxLength:35}})]}),Object(C.jsxs)(F.a,{children:[Object(C.jsx)(fe.a,{disabled:!!x,id:"logonUser",name:"logonUser",label:"Usu\xe1rio",autoComplete:"off",value:a.logonUser,onChange:function(e){return n(e,!1)},onBlur:function(e){return r(e)},helperText:""!==i.keys.logonUser?i.keys.logonUser:"",error:""!==i.keys.logonUser,inputProps:{maxLength:20}}),Object(C.jsx)(fe.a,{id:"password",name:"password",label:"Senha",autoComplete:"off",type:"password",value:a.password,onChange:function(e){return n(e,!1)},onBlur:function(e){return r(e)},helperText:""!==i.keys.password?i.keys.password:"",error:""!==i.keys.password,inputProps:{maxLength:9}})]}),j||-1===j?Object(C.jsx)(F.a,{display:"flex",direction:"row",justifyContent:"space-evenly",m:3,children:Object(C.jsx)(F.a,{children:Object(C.jsxs)(G.a,{children:[Object(C.jsx)(X.a,{htmlFor:"profile-native-simple",children:"Perfil"}),Object(C.jsxs)(Ya.a,{native:!0,value:a.profile_id,onChange:n,inputProps:{name:"profile_id",id:"profile-native-simple"},children:[Object(C.jsx)("option",{value:"-1",children:"Op\xe7\xf5es..."}),p.map((function(e,t){return Object(C.jsx)("option",{value:e.id,children:e.name},t)}))]})]})})}):null,j>0||-1===j?Object(C.jsx)(F.a,{ml:1,children:Object(C.jsx)(qa.a,{control:Object(C.jsx)(Wa.a,{color:"primary",checked:Boolean(a.activated),onChange:d,name:"activated"}),label:"Ativado"})}):null,j>0||-1===j?Object(C.jsx)(F.a,{ml:1,children:Object(C.jsx)(qa.a,{control:Object(C.jsx)(Wa.a,{color:"primary",checked:Boolean(a.restartPassword),onChange:u,name:"restartPassword"}),label:"Reinicializar senha"})}):null,a.id>0?Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",children:Object(C.jsx)(M.a,{title:"Associar cart\xe3o RFID ao usu\xe1rio",placement:"top",children:Object(C.jsx)(A.a,{"aria-label":"Associar",onClick:h,children:Object(C.jsx)($a.a,{fontSize:"large",color:"primary"})})})}):null,Object(C.jsx)(F.a,{children:Object(C.jsxs)(Za.a,{open:m,onClose:b,"aria-labelledby":"Associa\xe7\xe3o de RFID","aria-describedby":"Associando RFID ao usu\xe1rio",children:[Object(C.jsx)(nn.a,{id:"RFIDAssociation",children:"Associando cart\xe3o RFID ao usu\xe1rio."}),Object(C.jsx)(tn.a,{children:Object(C.jsxs)(an.a,{id:"alert-dialog-description",children:["Passe o cart\xe3o no leitor e aguarde a conclus\xe3o da associa\xe7\xe3o com seu usu\xe1rio. Voc\xea poder\xe1 cancelar este processo a qualquer momento acionando o bot\xe3o fechar abaixo.",Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",children:Object(C.jsxs)(F.a,{m:2,className:v.RFIDMsg,children:["Status: ",f?"Cart\xe3o associado com sucesso.":"Lendo dados do cart\xe3o, Aguarde..."]})})]})}),Object(C.jsx)(en.a,{children:Object(C.jsx)(w.a,{onClick:b,color:"primary",autoFocus:!0,children:"Fechar"})}),O?Object(C.jsx)(je.a,{color:"primary"}):null]})})]})};var on=function(e,t){var a={msg:"",isError:!1};switch(e.target.name){case"name":0===e.target.value.length&&(a.msg="Nome \xe9 obrigat\xf3rio.",a.isError=!0);break;case"email":t||0===e.target.value.length&&(a.msg="E-mail \xe9 obrigat\xf3rio.",a.isError=!0);break;case"logonUser":if(!t){0===e.target.value.length&&(a.msg="Usu\xe1rio \xe9 obrigat\xf3rio.",a.isError=!0);break}break;case"password":0===e.target.value.length&&(a.msg="Senha inv\xe1lida.",a.isError=!0);break;default:a.msg="",a.isError=!1}return a};var sn=function(e){var t=g("api_features"),a=e.location.state,r=void 0===a?0:a.id,i=Object(d.c)((function(e){return e.authenticated})),o={id:r,name:"",email:"",logonUser:"",password:"",lastLogin:null,lastLogout:null,status:0,activated:1,profile_id:0,restartPassword:1,rfid:""},s=Object(n.useState)(o),c=Object(W.a)(s,2),u=c[0],j=c[1],b=Object(n.useState)([]),m=Object(W.a)(b,2),h=m[0],f=m[1],p=Object(n.useState)({msg:""}),O=Object(W.a)(p,2),x=O[0],v=O[1],y=Object(n.useState)(-1),w=Object(W.a)(y,2),k=w[0],S=w[1],N=Object(n.useState)({msg:""}),E=Object(W.a)(N,2),P=E[0],D=E[1],R=Object(n.useState)(!1),T=Object(W.a)(R,2),B=T[0],I=T[1],F=Object(n.useState)(!1),M=Object(W.a)(F,2),A=M[0],V=M[1],L=Object(n.useState)(!1),_=Object(W.a)(L,2),z=_[0],U=_[1],K=Object(n.useState)(void 0),q=Object(W.a)(K,2),Y=q[0],G=q[1],X=Object(n.useState)(!1),Q=Object(W.a)(X,2),J=Q[0],$=Q[1],Z={isError:!1,keys:{id:r,name:"",email:"",password:"",logonUser:"",profile_id:""}},ee=Object(n.useState)(Z),te=Object(W.a)(ee,2),ae=te[0],ne=te[1];Object(n.useEffect)((function(){return 0!==o.id&&t.get("/editUser/".concat(o.id)).then((function(e){if(void 0!==e.data.registers){var a=e.data.registers.shift();j(a),a.email!==i.email&&a.logonUser!==i.logonUser||$(!0),t.get("/editProfile/".concat(a.profile_id)).then((function(e){if(void 0!==e.data.registers){var t=e.data.registers.shift();S(t.profileNumber)}})).catch((function(e){var t=me(e);console.log(t.msg),v(t)}))}document.getElementById("name").focus()})).catch((function(e){var t=me(e);console.log(t.msg),v(t)})),t.get("/allProfile").then((function(e){if(void 0!==e.data.registers){var t=e.data.registers;f(t)}})).catch((function(e){var t=me(e);console.log(t.msg),v(t)})),function(){I(!1)}}),[o.id,i,t]);var re=function(){t.put("/clearRFID").catch((function(e){var t=me(e);console.log(t.msg),v(t),V(!1)}))},ie=function(){t.get("/getRFID").then((function(e){if(void 0!==e.data.registers){var a=e.data.registers.rfid;a&&(G(a),t.put("/AssociateUserAndRFID/".concat(u.id)).then((function(e){if(e.data.bsApproved)u.rfid=a,window.clearInterval(window.myInterval);else{var t=me(e.data.msg);console.log(t.msg),v(t)}V(!1)})).catch((function(e){var t=me(e);console.log(t.msg),v(t),V(!1)})))}})).catch((function(e){var t=me(e);console.log(t.msg),v(t),V(!1)}))};return Object(C.jsx)(rn,{user:u,handleChange:function(e,t){t&&(e.target.value=e.target.value.replace(/[, ]+/g,"").replace(/\(|\)/g,"")),j(Object(l.a)(Object(l.a)({},u),{},Object(H.a)({},e.target.name,e.target.value)))},handleSubmit:function(a){I(!0),u.lastLogin=null,u.lastLogout=null,ae.isError?I(!1):0!==o.id?t.put("/updateUser",u).then((function(t){if(t.data.bsApproved)e.history.push("/allUser");else{var a={msg:t.data.msg};D(a)}})).catch((function(e){var t=me(e);console.log(t.msg),v(t)})).finally((function(){I(!1)})):t.post("/addUser",u).then((function(t){if(t.data.bsApproved)e.history.push("/allUser");else{var a={msg:t.data.msg};D(a)}})).catch((function(e){var t=me(e);console.log(t.msg),v(t)})).finally((function(){I(!1)})),a.preventDefault()},handleBlur:function(e){var t=on(e,J),a={keys:Object(l.a)(Object(l.a)({},ae.keys),{},Object(H.a)({},e.target.name,t.msg))};ne(Object(l.a)({isError:t.isError},a))},handleCloseErros:function(){v({msg:""})},handleCloseInfo:function(){D({msg:""})},handleChangeActivated:function(e){j(Object(l.a)(Object(l.a)({},u),{},Object(H.a)({},e.target.name,e.target.checked)))},handleChangeResetPassword:function(e){j(Object(l.a)(Object(l.a)({},u),{},Object(H.a)({},e.target.name,e.target.checked)))},inputvalidation:ae,infoErrors:x,serverValidation:P,profileList:h,loading:B,profileNumber:k,open:z,handleClickOpen:function(){re(),U(!0),V(!0),ie();var e=setInterval(ie,1e3);window.myInterval=e},handleClose:function(){re(),U(!1),V(!1),window.clearInterval(window.myInterval)},RFID:Y,loadingRFID:A,editNotPermited:J})},ln=Object(N.a)((function(e){return{MainBox:{display:"flex",justifyContent:"center",margin:e.spacing(1),padding:e.spacing(1)},color:{color:e.palette.primary.main}}})),cn=function(e){var t=e.configParameter,a=e.DeletedRegister,n=e.loading,i=e.handleClose,o=e.infoErrors,s=e.snackInfo,l=e.handleCloseSnack,c=e.visibility,d=ln();return Object(C.jsxs)(B.a,{maxWidth:"lg",children:[Object(C.jsx)(F.a,{className:d.MainBox,children:Object(C.jsx)(Va,{rows:t,headCells:[{id:"parameter",disablePadding:!1,label:"Nome",align:"left",width:"20%"},{id:"description",disablePadding:!1,label:"Descri\xe7\xe3o",align:"left",width:"60%"},{id:"parameterValue",disablePadding:!1,label:"Valor",align:"left",width:"20%"}],tableTitle:"Par\xe2metros de Configura\xe7\xe3o",icon:Object(C.jsx)(Re.a,{fontSize:"large",className:d.color}),DeletedRegister:a,api_url:"/deleteConfigParameter",pathEditComponentForUpdate:"/UpdateConfigParameter",pathAddComponentForUpdate:"/addConfigParameter",routeName:"ConfigParameter",showAddRegisterCommand:!0,showDeleteRegisterCommand:!0,showEditRegisterCommand:!0,titleReport:"Cadastro de Par\xe2metros de Cofigura\xe7\xe3o",landscapeView:!0,loading:n})}),Object(C.jsx)(F.a,{className:d.MainBox,children:Object(C.jsx)(ce,{infoErrors:o,handleCloseErros:i})}),Object(C.jsx)(La.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:c,autoHideDuration:3e3,onClose:l,message:s.message,action:Object(C.jsx)(r.a.Fragment,{children:Object(C.jsx)(A.a,{size:"small","aria-label":"close",color:"inherit",onClick:l,children:Object(C.jsx)(za.a,{fontSize:"small"})})})})]})};var dn=function(e){var t=g("api_features"),a=Object(n.useState)(!1),r=Object(W.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)([]),l=Object(W.a)(s,2),c=l[0],d=l[1],u=Object(n.useState)({msg:""}),j=Object(W.a)(u,2),b=j[0],m=j[1],h={message:""},f=Object(n.useState)(h),p=Object(W.a)(f,2),O=p[0],x=p[1],v=Object(n.useState)(!1),y=Object(W.a)(v,2),w=y[0],k=y[1];return Object(n.useEffect)((function(){o(!0),t.get("/allConfigParameter").then((function(e){d(e.data.registers),o(!1)})).catch((function(e){var t=me(e);console.log(t.msg),m(t),o(!1)}))}),[t]),Object(C.jsx)(cn,{configParameter:c,DeletedRegister:function(e,t){void 0===t?(c.splice(c.findIndex((function(t){return t.id===e})),1),h.message="Registro exclu\xeddo com sucesso.",x(h),k(!0)):(h.message="Erro ao tentar excluir registro.",h.type="error",x(h),k(!0))},loading:i,infoErrors:b,snackInfo:O,handleCloseSnack:function(){k(!1)},visibility:w,handleClose:function(){m({msg:""})}})},un=Object(N.a)((function(e){return{largeTextField:{width:"90%"},mediumTextField:{width:"60%"},smallTextField:{width:"10%"},color:{color:e.palette.primary.main}}})),jn=function(e){var t=e.handleSubmit,a=e.configParameter,n=e.handleChange,r=e.handleBlur,i=e.inputvalidation,o=e.infoErrors,s=e.serverValidation,l=e.handleCloseInfo,c=e.handleCloseErros,d=e.loading,u=un();return Object(C.jsxs)(Qa,{infoErrors:o,serverValidation:s,handleCloseInfo:l,handleCloseErros:c,handleSubmit:t,loading:d,icone:Object(C.jsx)(Re.a,{fontSize:"large",className:u.color}),title:"Cadastro de Par\xe2metros",urlBackCommand:"/allConfigParameter",showSaveButton:!0,showBackButton:!0,paperMainWidth:"50%",children:[Object(C.jsx)(fe.a,{id:"parameter",name:"parameter",label:"Par\xe2metro",autoComplete:"off",className:u.mediumTextField,value:a.parameter,onChange:function(e){return n(e,!1)},onBlur:function(e){return r(e)},helperText:""!==i.keys.parameter?i.keys.parameter:"",error:""!==i.keys.parameter,inputProps:{maxLength:45}}),Object(C.jsx)(fe.a,{id:"parameterValue",name:"parameterValue",label:"Valor",autoComplete:"off",className:u.mediumTextField,value:a.parameterValue,onChange:function(e){return n(e,!0)},onBlur:function(e){return r(e)},helperText:""!==i.keys.parameterValue?i.keys.parameterValue:"",error:""!==i.keys.parameterValue,inputProps:{maxLength:50}}),Object(C.jsx)(fe.a,{id:"description",name:"description",label:"Descri\xe7\xe3o",autoComplete:"off",multiline:!0,rowsMax:10,className:u.largeTextField,value:a.description,onChange:function(e){return n(e,!1)},onBlur:function(e){return r(e)},helperText:""!==i.keys.description?i.keys.description:"",error:""!==i.keys.description,inputProps:{maxLength:3e3}})]})};var bn=function(e){var t={msg:"",isError:!1};switch(e.target.name){case"parameter":0===e.target.value.length&&(t.msg="Nome do par\xe2metro \xe9 obrigat\xf3rio.",t.isError=!0);break;case"description":0===e.target.value.length&&(t.msg="Descri\xe7\xe3o \xe9 obrigat\xf3rio.",t.isError=!0);break;case"parameterValue":0===e.target.value.length&&(t.msg="Valor do par\xe2metro \xe9 obrigat\xf3rio.",t.isError=!0);break;default:t.msg="",t.isError=!1}return t};var mn=function(e){var t=g("api_features"),a=e.location.state,r=void 0===a?0:a.id,i={id:r,parameter:"",description:"",parameterValue:""},o=Object(n.useState)(i),s=Object(W.a)(o,2),c=s[0],d=s[1],u=Object(n.useState)({msg:""}),j=Object(W.a)(u,2),b=j[0],m=j[1],h=Object(n.useState)({msg:""}),f=Object(W.a)(h,2),p=f[0],O=f[1],x=Object(n.useState)(!1),v=Object(W.a)(x,2),y=v[0],w=v[1],k={isError:!1,keys:{id:r,parameter:"",description:"",parameterValue:""}},S=Object(n.useState)(k),N=Object(W.a)(S,2),E=N[0],P=N[1];return Object(n.useEffect)((function(){if(0!==i.id)return t.get("/editConfigParameter/".concat(i.id)).then((function(e){if(void 0!==e.data.registers){var t=e.data.registers.shift();d(t)}document.getElementById("parameter").focus()})).catch((function(e){var t=me(e);console.log(t.msg),m(t)})),function(){w(!1)}}),[i.id,t]),Object(C.jsx)(jn,{configParameter:c,handleChange:function(e,t){t&&(e.target.value=e.target.value.replace(/[, ]+/g,"").replace(/\(|\)/g,"")),d(Object(l.a)(Object(l.a)({},c),{},Object(H.a)({},e.target.name,e.target.value)))},handleSubmit:function(a){w(!0);for(var n=44,r=parseInt(c.description.length/44),o=0;o<r;o++)c.description=[c.description.slice(0,n)," ",c.description.slice(n)].join(""),n+=44;E.isError?w(!1):0!==i.id?t.put("/updateConfigParameter",c).then((function(t){if(t.data.bsApproved)e.history.push("/allConfigParameter");else{var a={msg:t.data.msg};O(a)}})).catch((function(e){var t=me(e);console.log(t.msg),m(t)})).finally((function(){w(!1)})):t.post("/addConfigParameter",c).then((function(t){if(t.data.bsApproved)e.history.push("/allConfigParameter");else{var a={msg:t.data.msg};O(a)}})).catch((function(e){var t=me(e);console.log(t.msg),m(t)})).finally((function(){w(!1)})),a.preventDefault()},handleBlur:function(e){var t=bn(e),a={keys:Object(l.a)(Object(l.a)({},E.keys),{},Object(H.a)({},e.target.name,t.msg))};P(Object(l.a)({isError:t.isError},a))},handleCloseErros:function(){m({msg:""})},handleCloseInfo:function(){O({msg:""})},inputvalidation:E,infoErrors:b,serverValidation:p,loading:y})},hn=Object(N.a)((function(e){return{MainBox:{display:"flex",justifyContent:"center",margin:e.spacing(1),padding:e.spacing(1)},color:{color:e.palette.primary.main}}})),fn=function(e){var t=e.profile,a=e.DeletedRegister,n=e.loading,i=e.handleClose,o=e.infoErrors,s=e.snackInfo,l=e.handleCloseSnack,c=e.visibility,d=hn();return Object(C.jsxs)(B.a,{maxWidth:"lg",children:[Object(C.jsx)(F.a,{className:d.MainBox,children:Object(C.jsx)(Va,{rows:t,headCells:[{id:"name",disablePadding:!1,label:"Nome",align:"left",width:"20%"},{id:"description",disablePadding:!1,label:"Descri\xe7\xe3o",align:"left",width:"40%"},{id:"profileNumber",disablePadding:!1,label:"N\xfamero do Perfil",align:"left",width:"20%"},{id:"accessLevel",disablePadding:!1,label:"Hierarquia de Acesso",align:"left",width:"20%"}],tableTitle:"Perfil de Usu\xe1rio",DeletedRegister:a,api_url:"/deleteProfile",icon:Object(C.jsx)(Fe.a,{fontSize:"large",className:d.color}),pathEditComponentForUpdate:"/UpdateProfile",pathAddComponentForUpdate:"/addProfile",routeName:"Profile",showAddRegisterCommand:!0,showDeleteRegisterCommand:!0,showEditRegisterCommand:!0,titleReport:"Cadastro de perfis",landscapeView:!0,loading:n})}),Object(C.jsx)(F.a,{className:d.MainBox,children:Object(C.jsx)(ce,{infoErrors:o,handleCloseErros:i})}),Object(C.jsx)(La.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:c,autoHideDuration:3e3,onClose:l,message:s.message,action:Object(C.jsx)(r.a.Fragment,{children:Object(C.jsx)(A.a,{size:"small","aria-label":"close",color:"inherit",onClick:l,children:Object(C.jsx)(za.a,{fontSize:"small"})})})})]})};var pn=function(e){var t=g("api_features"),a=Object(n.useState)(!1),r=Object(W.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)([]),l=Object(W.a)(s,2),c=l[0],d=l[1],u=Object(n.useState)({msg:""}),j=Object(W.a)(u,2),b=j[0],m=j[1],h={message:""},f=Object(n.useState)(h),p=Object(W.a)(f,2),O=p[0],x=p[1],v=Object(n.useState)(!1),y=Object(W.a)(v,2),w=y[0],k=y[1];return Object(n.useEffect)((function(){o(!0),t.get("/allProfile").then((function(e){d(e.data.registers),o(!1)})).catch((function(e){var t=me(e);console.log(t.msg),m(t),o(!1)}))}),[t]),Object(C.jsx)(fn,{profile:c,DeletedRegister:function(e,t){void 0===t?(c.splice(c.findIndex((function(t){return t.id===e})),1),h.message="Registro exclu\xeddo com sucesso.",x(h),k(!0)):(h.message="Erro ao tentar excluir registro.",h.type="error",x(h),k(!0))},loading:i,infoErrors:b,snackInfo:O,handleCloseSnack:function(){k(!1)},visibility:w,handleClose:function(){m({msg:""})}})},gn=Object(N.a)((function(e){return{largeTextField:{width:"90%"},mediumTextField:{width:"60%"},smallTextField:{width:"20%"},color:{color:e.palette.primary.main}}})),On=function(e){var t=e.handleSubmit,a=e.profile,n=e.handleChange,r=e.handleBlur,i=e.inputvalidation,o=e.infoErrors,s=e.serverValidation,l=e.handleCloseInfo,c=e.handleCloseErros,d=e.loading,u=gn();return Object(C.jsxs)(Qa,{infoErrors:o,serverValidation:s,handleCloseInfo:l,handleCloseErros:c,handleSubmit:t,loading:d,icone:Object(C.jsx)(Fe.a,{fontSize:"large",className:u.color}),title:"Cadastro de Perfil",urlBackCommand:"/allProfile",showSaveButton:!0,showBackButton:!0,paperMainWidth:"30%",children:[Object(C.jsx)(fe.a,{id:"name",name:"name",label:"Perfil",autoComplete:"off",className:u.largeTextField,value:a.name,onChange:function(e){return n(e,!1)},onBlur:function(e){return r(e)},helperText:""!==i.keys.name?i.keys.name:"",error:""!==i.keys.name,inputProps:{maxLength:45}}),Object(C.jsx)(fe.a,{id:"description",name:"description",label:"Descri\xe7\xe3o",autoComplete:"off",className:u.largeTextField,value:a.description,onChange:function(e){return n(e,!1)},onBlur:function(e){return r(e)},helperText:""!==i.keys.description?i.keys.description:"",error:""!==i.keys.description,inputProps:{maxLength:100}}),Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",m:2,children:Object(C.jsxs)(F.a,{children:[Object(C.jsx)(X.a,{htmlFor:"profile-native-simple",children:"Hierarquia de Acesso"}),Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",children:Object(C.jsxs)(Ya.a,{native:!0,value:a.accessLevel,onChange:function(e){return n(e,!1)},inputProps:{name:"accessLevel",id:"accessLevel-native-simple"},children:[Object(C.jsx)("option",{value:"-1",children:"N\xedveis..."}),Object(C.jsx)("option",{value:"1",children:"1"}),Object(C.jsx)("option",{value:"2",children:"2"}),Object(C.jsx)("option",{value:"3",children:"3"}),Object(C.jsx)("option",{value:"4",children:"4"}),Object(C.jsx)("option",{value:"5",children:"5"})]})})]})})]})};var xn=function(e){var t={msg:"",isError:!1};switch(e.target.name){case"name":0===e.target.value.length&&(t.msg="Nome  \xe9 obrigat\xf3rio.",t.isError=!0);break;case"description":0===e.target.value.length&&(t.msg="Descri\xe7\xe3o \xe9 obrigat\xf3rio.",t.isError=!0);break;case"profileNumber":!e.target.value&&!e.target.value>0&&(t.msg="N\xfamero do Perfil \xe9 obrigat\xf3rio.",t.isError=!0);break;case"accessLevel":(!e.target.value||!e.target.value>0)&&(t.msg="Hierarquia de acesso \xe9 obrigat\xf3rio.",t.isError=!0);break;default:t.msg="",t.isError=!1}return t};var vn=function(e){var t=g("api_features"),a=e.location.state,r=void 0===a?0:a.id,i={id:r,name:"",description:"",profileNumber:"",accessLevel:""},o=Object(n.useState)(i),s=Object(W.a)(o,2),c=s[0],d=s[1],u=Object(n.useState)({msg:""}),j=Object(W.a)(u,2),b=j[0],m=j[1],h=Object(n.useState)({msg:""}),f=Object(W.a)(h,2),p=f[0],O=f[1],x=Object(n.useState)(!1),v=Object(W.a)(x,2),y=v[0],w=v[1],k={isError:!1,keys:{id:r,name:"",description:"",profileNumber:"",accessLevel:""}},S=Object(n.useState)(k),N=Object(W.a)(S,2),E=N[0],P=N[1];return Object(n.useEffect)((function(){if(0!==i.id)return t.get("/editProfile/".concat(i.id)).then((function(e){if(void 0!==e.data.registers){var t=e.data.registers.shift();d(t)}document.getElementById("name").focus()})).catch((function(e){var t=me(e);console.log(t.msg),m(t)})),function(){w(!1)}}),[i.id,t]),Object(C.jsx)(On,{profile:c,handleChange:function(e,t){t&&(e.target.value=e.target.value.replace(/[, ]+/g,"").replace(/\(|\)/g,"")),d(Object(l.a)(Object(l.a)({},c),{},Object(H.a)({},e.target.name,e.target.value)))},handleSubmit:function(a){w(!0),E.isError?w(!1):0!==i.id?t.put("/updateProfile",c).then((function(t){if(t.data.bsApproved)e.history.push("/allProfile");else{var a={msg:t.data.msg};O(a)}})).catch((function(e){var t=me(e);console.log(t.msg),m(t)})).finally((function(){w(!1)})):t.post("/addProfile",c).then((function(t){if(t.data.bsApproved)e.history.push("/allProfile");else{var a={msg:t.data.msg};O(a)}})).catch((function(e){var t=me(e);console.log(t.msg),m(t)})).finally((function(){w(!1)})),a.preventDefault()},handleBlur:function(e){var t=xn(e),a={keys:Object(l.a)(Object(l.a)({},E.keys),{},Object(H.a)({},e.target.name,t.msg))};P(Object(l.a)({isError:t.isError},a))},handleCloseErros:function(){m({msg:""})},handleCloseInfo:function(){O({msg:""})},inputvalidation:E,infoErrors:b,serverValidation:p,loading:y})},Cn=Object(N.a)((function(e){return{MainBox:{display:"flex",justifyContent:"center",margin:e.spacing(1),padding:e.spacing(1)},color:{color:e.palette.primary.main}}})),yn=function(e){var t=e.route,a=e.DeletedRegister,n=e.loading,i=e.handleClose,o=e.infoErrors,s=e.snackInfo,l=e.handleCloseSnack,c=e.visibility,d=Cn();return Object(C.jsxs)(B.a,{maxWidth:"lg",children:[Object(C.jsx)(F.a,{className:d.MainBox,children:Object(C.jsx)(Va,{rows:t,headCells:[{id:"route",disablePadding:!1,label:"Rota",align:"left",width:"40%"},{id:"description",disablePadding:!1,label:"Descri\xe7\xe3o",align:"left",width:"60%"}],tableTitle:"Funcionalidades",DeletedRegister:a,api_url:"/deleteRoute",icon:Object(C.jsx)(Ae.a,{fontSize:"large",className:d.color}),pathEditComponentForUpdate:"/UpdateRoute",pathAddComponentForUpdate:"/addRoute",routeName:"Route",showAddRegisterCommand:!0,showDeleteRegisterCommand:!0,showEditRegisterCommand:!0,titleReport:"Cadastro de Funcionalidades",landscapeView:!0,loading:n})}),Object(C.jsx)(F.a,{className:d.MainBox,children:Object(C.jsx)(ce,{infoErrors:o,handleCloseErros:i})}),Object(C.jsx)(La.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:c,autoHideDuration:3e3,onClose:l,message:s.message,action:Object(C.jsx)(r.a.Fragment,{children:Object(C.jsx)(A.a,{size:"small","aria-label":"close",color:"inherit",onClick:l,children:Object(C.jsx)(za.a,{fontSize:"small"})})})})]})};var wn=function(e){var t=g("api_features"),a=Object(n.useState)(!1),r=Object(W.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)([]),l=Object(W.a)(s,2),c=l[0],d=l[1],u=Object(n.useState)({msg:""}),j=Object(W.a)(u,2),b=j[0],m=j[1],h={message:""},f=Object(n.useState)(h),p=Object(W.a)(f,2),O=p[0],x=p[1],v=Object(n.useState)(!1),y=Object(W.a)(v,2),w=y[0],k=y[1];return Object(n.useEffect)((function(){o(!0),t.get("/allRoute").then((function(e){d(e.data.registers.filter((function(e){return 0===e.internal}))),o(!1)})).catch((function(e){var t=me(e);console.log(t.msg),m(t),o(!1)}))}),[t]),Object(C.jsx)(yn,{route:c,DeletedRegister:function(e,t){void 0===t?(c.splice(c.findIndex((function(t){return t.id===e})),1),h.message="Registro exclu\xeddo com sucesso.",x(h),k(!0)):(h.message="Erro ao tentar excluir registro.",h.type="error",x(h),k(!0))},loading:i,infoErrors:b,snackInfo:O,handleCloseSnack:function(){k(!1)},visibility:w,handleClose:function(){m({msg:""})}})},kn=Object(N.a)((function(e){return{largeTextField:{width:"95%"},color:{color:e.palette.primary.main}}})),Sn=function(e){var t=e.handleSubmit,a=e.route,n=e.handleChange,r=e.handleBlur,i=e.inputvalidation,o=e.infoErrors,s=e.serverValidation,l=e.handleCloseInfo,c=e.handleCloseErros,d=e.loading,u=kn();return Object(C.jsxs)(Qa,{infoErrors:o,serverValidation:s,handleCloseInfo:l,handleCloseErros:c,handleSubmit:t,loading:d,icone:Object(C.jsx)(Ae.a,{fontSize:"large",className:u.color}),title:"Funcionalidades",urlBackCommand:"/allRoute",showSaveButton:!0,showBackButton:!0,paperMainWidth:"50%",children:[Object(C.jsx)(F.a,{children:Object(C.jsx)(fe.a,{id:"route",name:"route",label:"Rota",autoComplete:"off",value:a.route,onChange:function(e){return n(e,!1)},onBlur:function(e){return r(e)},helperText:""!==i.keys.route?i.keys.route:"",error:""!==i.keys.route,inputProps:{maxLength:45}})}),Object(C.jsx)(F.a,{children:Object(C.jsx)(fe.a,{id:"description",name:"description",label:"Descri\xe7\xe3o",autoComplete:"off",value:a.description,className:u.largeTextField,onChange:function(e){return n(e,!1)},onBlur:function(e){return r(e)},helperText:""!==i.keys.description?i.keys.description:"",error:""!==i.keys.description,inputProps:{maxLength:100}})})]})};var Nn=function(e){var t={msg:"",isError:!1};switch(e.target.name){case"route":0===e.target.value.length&&(t.msg="Rota  \xe9 obrigat\xf3rio.",t.isError=!0);break;case"description":0===e.target.value.length&&(t.msg="Descri\xe7\xe3o \xe9 obrigat\xf3rio.",t.isError=!0);break;default:t.msg="",t.isError=!1}return t};var En=function(e){var t=g("api_features"),a=e.location.state,r=void 0===a?0:a.id,i={id:r,route:"",description:""},o=Object(n.useState)(i),s=Object(W.a)(o,2),c=s[0],d=s[1],u=Object(n.useState)({msg:""}),j=Object(W.a)(u,2),b=j[0],m=j[1],h=Object(n.useState)({msg:""}),f=Object(W.a)(h,2),p=f[0],O=f[1],x=Object(n.useState)(!1),v=Object(W.a)(x,2),y=v[0],w=v[1],k={isError:!1,keys:{id:r,route:"",description:""}},S=Object(n.useState)(k),N=Object(W.a)(S,2),E=N[0],P=N[1];return Object(n.useEffect)((function(){if(0!==i.id)return t.get("/editRoute/".concat(i.id)).then((function(e){if(void 0!==e.data.registers){var t=e.data.registers.shift();d(t)}document.getElementById("route").focus()})).catch((function(e){var t=me(e);console.log(t.msg),m(t)})),function(){w(!1)}}),[i.id,t]),Object(C.jsx)(Sn,{route:c,handleChange:function(e,t){t&&(e.target.value=e.target.value.replace(/[, ]+/g,"").replace(/\(|\)/g,"")),d(Object(l.a)(Object(l.a)({},c),{},Object(H.a)({},e.target.name,e.target.value)))},handleSubmit:function(a){w(!0),E.isError?w(!1):0!==i.id?t.put("/updateRoute",c).then((function(t){if(t.data.bsApproved)e.history.push("/allRoute");else{var a={msg:t.data.msg};O(a)}})).catch((function(e){var t=me(e);console.log(t.msg),m(t)})).finally((function(){w(!1)})):t.post("/addRoute",c).then((function(t){if(t.data.bsApproved)e.history.push("/allRoute");else{var a={msg:t.data.msg};O(a)}})).catch((function(e){var t=me(e);console.log(t.msg),m(t)})).finally((function(){w(!1)})),a.preventDefault()},handleBlur:function(e){var t=Nn(e),a={keys:Object(l.a)(Object(l.a)({},E.keys),{},Object(H.a)({},e.target.name,t.msg))};P(Object(l.a)({isError:t.isError},a))},handleCloseErros:function(){m({msg:""})},handleCloseInfo:function(){O({msg:""})},inputvalidation:E,infoErrors:b,serverValidation:p,loading:y})},Pn=a(121),Dn=Object(N.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(2)}},MainBox:{display:"flex",justifyContent:"center",margin:e.spacing(1),padding:e.spacing(1)},PaperMain:Object(H.a)({width:"50%",paddingBottom:e.spacing(2)},e.breakpoints.down("md"),{width:"100%"}),color:{color:e.palette.primary.main},ContaineFormControls:{display:"Flex",justifyContent:"center",flexWrap:"wrap",flexDirection:"column"},SwitchTitle:Object(H.a)({color:Pn.a[900],fontSize:"1rem"},e.breakpoints.down("md"),{fontSize:"0.8rem"}),SwitchValue:Object(H.a)({color:Pn.a[700],fontSize:"1rem"},e.breakpoints.down("md"),{fontSize:"0.8rem"}),SwitchContainerTitle:{display:"flex",justifyContent:"center",marginTop:e.spacing(1),backgroundColor:Pn.a[200],padding:e.spacing(1)},SwitchContainerValue:{display:"flex",justifyContent:"center",marginTop:e.spacing(1),marginLeft:e.spacing(1)},SwitchContainerValueOdd:{display:"flex",justifyContent:"center",marginTop:e.spacing(1),marginLeft:e.spacing(1),backgroundColor:Pn.a[200]},SwitchBox:{display:"flex",flexDirection:"row"}}})),Rn=function(e){var t,a=e.permission,n=e.handleChangeSwitchWrite,r=e.handleChangeSwitchRead,i=e.handleChangeSwitchDelete,o=e.handleChangeProfile,s=e.profileList,c=e.infoErrors,d=e.serverValidation,u=e.handleCloseInfo,j=e.reduxPermissionVerfied,b=e.handleCloseErros,m=e.loading,h=Dn();return Object(C.jsx)(F.a,{className:h.MainBox,children:Object(C.jsxs)(I.a,{elevation:3,className:h.PaperMain,children:[Object(C.jsx)(ee,{icon:Object(C.jsx)(Be.a,{fontSize:"large",className:h.color}),titulo:"Permiss\xf5es"}),Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",style:{marginBottom:"5vh"},children:Object(C.jsx)(F.a,{children:Object(C.jsxs)("form",{noValidate:!0,autoComplete:"off",children:[Object(C.jsx)(X.a,{htmlFor:"profile-native-simple",children:"Perfil"}),Object(C.jsxs)(Ya.a,Object(l.a)(Object(l.a)({native:!0},(t=j,t?{}:{disabled:!0})),{},{value:a.profile_id,onChange:function(e){return o(e)},inputProps:{name:"profile_id",id:"profile-native-simple"},children:[Object(C.jsx)("option",{value:"-1",children:"Op\xe7\xf5es..."}),j&&s.map((function(e,t){return Object(C.jsx)("option",{value:e.id,children:e.name},t)}))]}))]})})}),Object(C.jsxs)(F.a,{className:h.SwitchContainerTitle,children:[Object(C.jsx)(F.a,{className:h.SwitchBox,justifyContent:"center",style:{width:"40%"},children:Object(C.jsx)(F.a,{className:h.SwitchTitle,children:"Funcionalidade"})}),Object(C.jsx)(F.a,{className:h.SwitchBox,justifyContent:"center",style:{width:"20%"},children:Object(C.jsx)(F.a,{className:h.SwitchTitle,children:"Visualiza\xe7\xe3o"})}),Object(C.jsx)(F.a,{className:h.SwitchBox,justifyContent:"center",style:{width:"20%"},children:Object(C.jsx)(F.a,{className:h.SwitchTitle,children:"Edi\xe7\xe3o"})}),Object(C.jsx)(F.a,{className:h.SwitchBox,justifyContent:"center",style:{width:"20%"},children:Object(C.jsx)(F.a,{className:h.SwitchTitle,children:"Exclus\xe3o"})})]}),a.map((function(e,t){return Object(C.jsx)(F.a,{display:"flex",flexDirection:"column",children:Object(C.jsxs)(F.a,{className:t%2===0?h.SwitchContainerValue:h.SwitchContainerValueOdd,children:[Object(C.jsx)(F.a,{className:h.SwitchBox,justifyContent:"left",style:{width:"40%"},children:Object(C.jsx)(F.a,{className:h.SwitchValue,children:e.description})}),Object(C.jsx)(F.a,{className:h.SwitchBox,justifyContent:"center",style:{width:"20%"},children:Object(C.jsx)(F.a,{className:h.SwitchValue,children:Object(C.jsx)(Wa.a,{id:e.id.toString(),name:e.route,checked:Boolean(e.read),onChange:function(e){return r(e)}})})}),Object(C.jsx)(F.a,{className:h.SwitchBox,justifyContent:"center",style:{width:"20%"},children:Object(C.jsx)(F.a,{className:h.SwitchValue,children:Object(C.jsx)(Wa.a,{id:e.id.toString(),name:e.route,checked:Boolean(e.write),onChange:function(e){return n(e)}})})}),Object(C.jsx)(F.a,{className:h.SwitchBox,justifyContent:"center",style:{width:"20%"},children:Object(C.jsx)(F.a,{className:h.SwitchValue,children:Object(C.jsx)(Wa.a,{id:e.id.toString(),name:e.route,checked:Boolean(e.delete),onChange:function(e){return i(e)}})})})]})},e.id)})),Object(C.jsx)(ce,{infoErrors:c,handleCloseErros:b}),Object(C.jsx)(ue,{serverValidation:d,handleCloseInfo:u}),m&&Object(C.jsx)(je.a,{})]})})};var Tn=function(e){var t=g("api_features"),a=Object(d.c)((function(e){return e.permission})),r=Object(d.c)((function(e){return e.authenticated})),i=v("Permission","write",r,a),o=Object(n.useState)([]),s=Object(W.a)(o,2),l=s[0],c=s[1],u=Object(n.useState)(-1),j=Object(W.a)(u,2),b=j[0],m=j[1],h=Object(n.useState)(!1),f=Object(W.a)(h,2),p=f[0],O=f[1],x=Object(n.useState)({msg:""}),y=Object(W.a)(x,2),w=y[0],k=y[1],S=Object(n.useState)({msg:""}),N=Object(W.a)(S,2),E=N[0],P=N[1],D=Object(n.useState)(!1),R=Object(W.a)(D,2),T=R[0],B=R[1],I=Object(n.useState)([]),F=Object(W.a)(I,2),M=F[0],A=F[1];return Object(n.useEffect)((function(){i&&t.post("/getPermissionByProfile",{profile_id:b}).then((function(e){if(void 0!==e.data.registers){var t=e.data.registers.filter((function(e){return 0===e.internal}));c(t)}})).catch((function(e){var t=me(e);console.log(t.msg),k(t)}))}),[p,b,i,t]),Object(n.useEffect)((function(){return t.get("/allProfile").then((function(e){if(void 0!==e.data.registers){var t=e.data.registers;A(t)}})).catch((function(e){var t=me(e);console.log(t.msg),k(t)})),function(){B(!1)}}),[t]),Object(C.jsx)(Rn,{permission:l,handleChangeSwitchRead:function(e){B(!0);var a=l.find((function(t){return t.id===parseInt(e.target.id)}));void 0!==a?(a.read=e.target.checked,!0===Boolean(a.write)&&!1===Boolean(a.read)&&(a.write=!1,a.delete=!1),t.put("/updatePermission",{id:a.id,profile_id:a.profile_id,route_id:a.route_id,read:a.read,write:a.write,delete:a.delete}).then((function(e){O(!p)})).catch((function(e){var t=me(e);console.log(t.msg),k(t)})).finally((function(){B(!1)}))):(k({msg:"Falha ao tentar alterar as permiss\xf5es. Entre em contato com o Administrador do sistema."}),B(!1))},handleChangeSwitchWrite:function(e){B(!0);var a=l.find((function(t){return t.id===parseInt(e.target.id)}));void 0!==a?(a.write=e.target.checked,Boolean(!0===a.write)&&(a.read=!0),t.put("/updatePermission",{id:a.id,profile_id:a.profile_id,route_id:a.route_id,read:a.read,write:a.write,delete:a.delete}).then((function(e){O(!p)})).catch((function(e){var t=me(e);console.log(t.msg),k(t)})).finally((function(){B(!1)}))):(k({msg:"Falha ao tentar alterar as permiss\xf5es. Entre em contato com o Administrador do sistema."}),B(!1))},handleChangeSwitchDelete:function(e){B(!0);var a=l.find((function(t){return t.id===parseInt(e.target.id)}));void 0!==a?(a.delete=e.target.checked,Boolean(!0===a.delete)&&(a.read=!0),t.put("/updatePermission",{id:a.id,profile_id:a.profile_id,route_id:a.route_id,read:a.read,write:a.write,delete:a.delete}).then((function(e){O(!p)})).catch((function(e){var t=me(e);console.log(t.msg),k(t)})).finally((function(){B(!1)}))):(k({msg:"Falha ao tentar alterar as permiss\xf5es. Entre em contato com o Administrador do sistema."}),B(!1))},handleChangeProfile:function(e){m(e.target.value)},profileList:M,handleCloseErros:function(){k({msg:""})},handleCloseInfo:function(){P({msg:""})},infoErrors:w,serverValidation:E,reduxPermissionVerfied:i,loading:T})},Bn=Object(N.a)((function(e){return{MainBox:{display:"flex",justifyContent:"center",margin:e.spacing(1),padding:e.spacing(1)},color:{color:e.palette.primary.main}}})),In=function(e){var t=e.keyHolder,a=e.DeletedRegister,n=e.loading,i=e.handleClose,o=e.infoErrors,s=e.snackInfo,l=e.handleCloseSnack,c=e.visibility,d=Bn();return Object(C.jsxs)(B.a,{maxWidth:"lg",children:[Object(C.jsx)(F.a,{className:d.MainBox,children:Object(C.jsx)(Va,{rows:t,headCells:[{id:"number",disablePadding:!1,label:"N\xfamero",align:"left",width:"10%"},{id:"identification",disablePadding:!1,label:"Identifica\xe7\xe3o",align:"left",width:"80%"},{id:"qtdeKeys",disablePadding:!1,label:"Quantidade de Chaves",align:"left",width:"10%"}],tableTitle:"Cadastro de Clavicul\xe1rio",icon:Object(C.jsx)(Qe.a,{fontSize:"large",className:d.color}),DeletedRegister:a,api_url:"/deleteKeyHolder",pathEditComponentForUpdate:"/UpdateKeyHolder",pathAddComponentForUpdate:"/addKeyHolder",routeName:"KeyHolder",showAddRegisterCommand:!0,showDeleteRegisterCommand:!0,showEditRegisterCommand:!0,titleReport:"Cadastro de Clavicul\xe1rio",landscapeView:!0,loading:n})}),Object(C.jsx)(F.a,{className:d.MainBox,children:Object(C.jsx)(ce,{infoErrors:o,handleCloseErros:i})}),Object(C.jsx)(La.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:c,autoHideDuration:3e3,onClose:l,message:s.message,action:Object(C.jsx)(r.a.Fragment,{children:Object(C.jsx)(A.a,{size:"small","aria-label":"close",color:"inherit",onClick:l,children:Object(C.jsx)(za.a,{fontSize:"small"})})})})]})};var Fn=function(e){var t=g("api_features"),a=Object(n.useState)(!1),r=Object(W.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)([]),l=Object(W.a)(s,2),c=l[0],d=l[1],u=Object(n.useState)({msg:""}),j=Object(W.a)(u,2),b=j[0],m=j[1],h={message:""},f=Object(n.useState)(h),p=Object(W.a)(f,2),O=p[0],x=p[1],v=Object(n.useState)(!1),y=Object(W.a)(v,2),w=y[0],k=y[1];return Object(n.useEffect)((function(){o(!0),t.get("/allKeyHolder").then((function(e){d(e.data.registers),o(!1)})).catch((function(e){var t=me(e);console.log(t.msg),m(t),o(!1)}))}),[t]),Object(C.jsx)(In,{keyHolder:c,DeletedRegister:function(e,t){void 0===t?(c.splice(c.findIndex((function(t){return t.id===e})),1),h.message="Registro exclu\xeddo com sucesso.",x(h),k(!0)):(h.message="Erro ao tentar excluir registro.",h.type="error",x(h),k(!0))},loading:i,infoErrors:b,snackInfo:O,handleCloseSnack:function(){k(!1)},visibility:w,handleClose:function(){m({msg:""})}})},Mn=Object(N.a)((function(e){return{largeTextField:{width:"90%"},mediumTextField:{width:"60%"},smallTextField:{width:"30%"},color:{color:e.palette.primary.main}}})),An=function(e){var t=e.handleSubmit,a=e.KeyHolder,n=e.handleChange,r=e.handleBlur,i=e.inputvalidation,o=e.infoErrors,s=e.serverValidation,c=e.handleCloseInfo,d=e.handleCloseErros,u=e.loading,j=Mn();return Object(C.jsxs)(Qa,{infoErrors:o,serverValidation:s,handleCloseInfo:c,handleCloseErros:d,handleSubmit:t,loading:u,icone:Object(C.jsx)(Qe.a,{fontSize:"large",className:j.color}),title:"Cadastro de Clavicul\xe1rio",urlBackCommand:"/allKeyHolder",showSaveButton:!0,showBackButton:!0,paperMainWidth:"40%",children:[Object(C.jsx)(Y.a,{mask:"999",maskChar:"",value:a.qtdeKeys,onChange:function(e){return n(e,!0)},onBlur:function(e){return r(e)},children:function(e){return Object(C.jsx)(fe.a,Object(l.a)(Object(l.a)({},e),{},{id:"qtdeKeys",name:"qtdeKeys",label:"Qtde. de Chaves",autoComplete:"off",className:j.smallTextField,helperText:""!==i.keys.qtdeKeys?i.keys.qtdeKeys:"",error:""!==i.keys.qtdeKeys}))}}),Object(C.jsx)(Y.a,{mask:"999",maskChar:"",value:a.number,onChange:function(e){return n(e,!0)},onBlur:function(e){return r(e)},children:function(e){return Object(C.jsx)(fe.a,Object(l.a)(Object(l.a)({},e),{},{id:"number",name:"number",label:"N\xfamero",autoComplete:"off",className:j.smallTextField,helperText:""!==i.keys.number?i.keys.number:"",error:""!==i.keys.number}))}}),Object(C.jsx)(fe.a,{id:"identification",name:"identification",label:"Identifica\xe7\xe3o",autoComplete:"off",className:j.largeTextField,value:a.identification,onChange:function(e){return n(e,!1)},onBlur:function(e){return r(e)},helperText:""!==i.keys.identification?i.keys.identification:"",error:""!==i.keys.identification,inputProps:{maxLength:50}})]})};var Vn=function(e){var t={msg:"",isError:!1};switch(e.target.name){case"number":(isNaN(e.target.value)||""===e.target.value)&&(t.msg="N\xfamero \xe9 obrigat\xf3rio.",t.isError=!0);break;case"identification":0===e.target.value.length&&(t.msg="A Identifica\xe7\xe3o do clavicul\xe1rio \xe9 obrig\xe1torio.",t.isError=!0);break;case"qtdeKeys":0===e.target.value.length&&(t.msg="A qtde. \xe9 obrigat\xf3ria.",t.isError=!0);break;default:t.msg="",t.isError=!1}return t};var Ln=function(e){var t=g("api_features"),a=e.location.state,r=void 0===a?0:a.id,i={id:r,number:"",identification:"",qtdeKeys:""},o=Object(n.useState)(i),s=Object(W.a)(o,2),c=s[0],d=s[1],u=Object(n.useState)({msg:""}),j=Object(W.a)(u,2),b=j[0],m=j[1],h=Object(n.useState)({msg:""}),f=Object(W.a)(h,2),p=f[0],O=f[1],x=Object(n.useState)(!1),v=Object(W.a)(x,2),y=v[0],w=v[1],k={isError:!1,keys:{id:r,number:"",identification:"",qtdeKeys:""}},S=Object(n.useState)(k),N=Object(W.a)(S,2),E=N[0],P=N[1];return Object(n.useEffect)((function(){if(0!==i.id)return t.get("/editKeyHolder/".concat(i.id)).then((function(e){if(void 0!==e.data.registers){var t=e.data.registers.shift();d(t)}document.getElementById("qtdeKeys").focus()})).catch((function(e){var t=me(e);console.log(t.msg),m(t)})),function(){w(!1)}}),[i.id,t]),Object(C.jsx)(An,{KeyHolder:c,handleChange:function(e,t){t&&(e.target.value=e.target.value.replace(/[, ]+/g,"").replace(/\(|\)/g,"")),d(Object(l.a)(Object(l.a)({},c),{},Object(H.a)({},e.target.name,e.target.value)))},handleSubmit:function(a){w(!0),E.isError?w(!1):0!==i.id?t.put("/updateKeyHolder",c).then((function(a){if(a.data.bsApproved)t.post("/addGroupOfAvaliableKey",{keyHolder_id:a.data.registers.keyHolder_id,qtdeKeys:c.qtdeKeys}).then((function(t){if(t.data.bsApproved)e.history.push("/allKeyHolder");else{var a={msg:t.data.msg};O(a)}})).catch((function(e){var t=me(e);console.log(t.msg),m(t)}));else{var n={msg:a.data.msg};O(n)}})).catch((function(e){var t=me(e);console.log(t.msg),m(t)})).finally((function(){w(!1)})):t.post("/addKeyHolder",c).then((function(a){if(a.data.bsApproved)t.post("/addGroupOfAvaliableKey",{keyHolder_id:a.data.registers.keyHolder_id,qtdeKeys:c.qtdeKeys}).then((function(t){if(t.data.bsApproved)e.history.push("/allKeyHolder");else{var a={msg:t.data.msg};O(a)}})).catch((function(e){var t=me(e);console.log(t.msg),m(t)}));else{var n={msg:a.data.msg};O(n)}})).catch((function(e){var t=me(e);console.log(t.msg),m(t)})).finally((function(){w(!1)})),a.preventDefault()},handleBlur:function(e){var t=Vn(e),a={keys:Object(l.a)(Object(l.a)({},E.keys),{},Object(H.a)({},e.target.name,t.msg))};P(Object(l.a)({isError:t.isError},a))},handleCloseErros:function(){m({msg:""})},handleCloseInfo:function(){O({msg:""})},inputvalidation:E,infoErrors:b,serverValidation:p,loading:y})},_n=Object(N.a)((function(e){var t,a;return{root:{"& .MuiTextField-root":{margin:e.spacing(2)}},MainBox:{display:"flex",justifyContent:"center",margin:e.spacing(1),padding:e.spacing(1)},PaperMain:Object(H.a)({width:"80%",paddingBottom:e.spacing(2)},e.breakpoints.down("md"),{width:"100%"}),color:{color:e.palette.primary.main},ContaineFormControls:{display:"Flex",justifyContent:"center",flexWrap:"wrap",flexDirection:"column"},AvaliableKeyTitle:(t={color:Pn.a[900],fontSize:"1rem"},Object(H.a)(t,e.breakpoints.down("md"),{fontSize:"0.8rem"}),Object(H.a)(t,"display","flex"),Object(H.a)(t,"justifyContent","center"),Object(H.a)(t,"width","100%"),Object(H.a)(t,"border","1px solid black"),t),AvaliableKeyValue:(a={color:Pn.a[700],fontSize:"1rem"},Object(H.a)(a,e.breakpoints.down("md"),{fontSize:"0.8rem"}),Object(H.a)(a,"paddingLeft",e.spacing(1)),Object(H.a)(a,"paddingRight",e.spacing(1)),Object(H.a)(a,"alignSelf","center"),Object(H.a)(a,"width","100%"),Object(H.a)(a,"border","1px solid black"),a),AvaliableKeyContainerTitle:{display:"flex",justifyContent:"center",marginTop:e.spacing(1),backgroundColor:Pn.a[200],padding:e.spacing(1)},AvaliableKeyContainerValue:{display:"flex",justifyContent:"center",padding:e.spacing(1)},AvaliableKeyBox:{display:"flex"}}})),zn=Object(N.a)((function(e){return{root:{width:"100%"},table:{minWidth:750},profileList:{width:"100%"},description:{width:"100%"},sealNumber:{width:"100%"},marginSave:{marginRight:e.spacing(1)},tableCell:{overflowWrap:"break-word",whiteSpace:"normal",paddingBottom:e.spacing(1),paddingTop:e.spacing(1)},saveBtn:{cursor:"pointer"},colorDisable:{color:"gray",cursor:"not-allowed"}}})),Un=a(324),Kn=Object(N.a)((function(e){return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},color:{color:e.palette.primary.main},colorDisable:{color:"gray",cursor:"not-allowed"}}})),Hn=function(e){var t=Kn(),a=e.order,n=e.orderBy,r=e.onRequestSort,i=e.headCells,o=e.headCellsReport,s=e.titleReport,l=e.landscapeView,c=e.allRows;return Object(C.jsx)(ma.a,{children:Object(C.jsxs)(ba.a,{children:[i.map((function(e){return Object(C.jsx)(da.a,{width:e.width,"arial-label":"coluna-tabela",align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a,children:Object(C.jsxs)(F.a,{display:"flex",children:[Object(C.jsx)(F.a,{children:Object(C.jsx)("strong",{children:e.label})}),Object(C.jsx)(F.a,{children:Object(C.jsx)(Un.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(i=e.id,function(e){r(e,i)}),children:n===e.id?Object(C.jsx)("span",{className:t.visuallyHidden,children:"desc"===a?"sorted descending":"sorted ascending"}):null})})]})},e.id);var i})),Object(C.jsx)(da.a,{children:Object(C.jsx)(L.b,{to:{pathname:"/GeneralReport",props:{titleReport:s,allRows:c,headCells:o,landscapeView:l}},children:Object(C.jsx)(A.a,{color:"primary","aria-label":"Imprimir",size:"small",children:Object(C.jsx)(Oa.a,{size:"inherit"})})})})]})})};var Wn=function(e){var t=e.order,a=e.orderBy,n=e.rowCount,r=e.onRequestSort,i=e.headCells,o=e.headCellsReport,s=e.executeFiltering,l=e.landscapeView,c=e.allRows,d=e.titleReport;return Object(C.jsx)(Hn,{order:t,orderBy:a,rowCount:n,onRequestSort:r,headCells:i,headCellsReport:o,landscapeView:l,allRows:c,titleReport:d,executeFiltering:s})},qn=a(162),Yn=a(173),Gn=a.n(Yn),Xn=function(e){var t=e.handleRequestSort,a=e.handleChangePage,n=e.handleChangeRowsPerPage,r=e.getComparator,i=e.stableSort,o=e.rows,s=e.order,l=e.orderBy,c=e.rowsPerPage,d=e.page,u=e.headCells,j=e.headCellsReport,b=e.titleReport,m=e.landscapeView,h=e.loading,f=e.handleSave,p=e.handleChange,g=e.profileList,O=zn();return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(ua.a,{children:[Object(C.jsxs)(la.a,{className:O.table,"aria-labelledby":"Tabela apresenta\xe7\xe3o das chaves",size:"small","aria-label":"KeyTableRows",style:{whiteSpace:"nowrap"},children:[Object(C.jsx)(Wn,{classes:O,order:s,orderBy:l,onRequestSort:t,headCells:u,headCellsReport:j,titleReport:b,allRows:o,landscapeView:m}),!h&&Object(C.jsx)(ca.a,{children:i(o,r(s,l)).slice(d*c,d*c+c).map((function(e){return Object(C.jsxs)(ba.a,{hover:!0,tabIndex:-1,children:[Object(C.jsx)(da.a,{className:O.tableCell,children:e.number}),Object(C.jsx)(da.a,{className:O.tableCell,children:Object(C.jsxs)(qn.a,{className:O.profileList,id:"select_".concat(e.id),name:"profile_id",value:e.profile_id,onChange:function(t){return p(t,e.id)},children:[Object(C.jsx)("option",{"aria-label":"select-options-profile-avaliableKeys",value:""}),g.map((function(t){return Object(C.jsxs)("option",{value:t.id,children:[t.Number,t.name,"-",t.description]},"".concat(e.id,"_").concat(t.id))}))]})}),Object(C.jsx)(da.a,{className:O.tableCell,children:Object(C.jsx)(fe.a,{name:"description",className:O.description,value:e.description,color:"primary",onChange:function(t){return p(t,e.id)}})}),Object(C.jsx)(da.a,{className:O.tableCell,children:Object(C.jsx)(fe.a,{name:"sealNumber",className:O.sealNumber,value:e.sealNumber,color:"primary",onChange:function(t){return p(t,e.id)}})}),Object(C.jsx)(da.a,{className:O.tableCell,children:Object(C.jsx)(A.a,{color:"primary","aria-label":"save-avaliable-key",onClick:function(){return f(e.id)},size:"small",children:Object(C.jsx)(Gn.a,{size:"inherit",className:O.saveBtn})})})]},e.id)}))})]}),h&&Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",m:1,p:1,children:Object(C.jsx)(F.a,{p:1,children:Object(C.jsx)(Ta.a,{})})})]}),Object(C.jsx)(ja.a,{rowsPerPageOptions:[5,10],labelRowsPerPage:"Linhas por p\xe1gina:",labelDisplayedRows:function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(a," de ").concat(n," ")},component:"div",count:o.length,rowsPerPage:c,page:d,onChangePage:a,onChangeRowsPerPage:n})]})};var Qn=function(e){var t=e.rows,a=e.headCells,i=e.headCellsReport,o=e.landscapeView,s=e.titleReport,l=e.loading,c=e.profileList,d=e.handleChange,u=e.handleSave,j=r.a.useState("asc"),b=Object(W.a)(j,2),m=b[0],h=b[1],f=r.a.useState("id"),p=Object(W.a)(f,2),g=p[0],O=p[1],x=r.a.useState(0),v=Object(W.a)(x,2),y=v[0],w=v[1],k=r.a.useState(5),S=Object(W.a)(k,2),N=S[0],E=S[1],P=r.a.useState(t),D=Object(W.a)(P,2),R=D[0],T=D[1];function B(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}return Object(n.useEffect)((function(){T(t)}),[t]),Object(C.jsx)(Xn,{handleRequestSort:function(e,t){h(g===t&&"asc"===m?"desc":"asc"),O(t)},handleChangePage:function(e,t){w(t)},handleChangeRowsPerPage:function(e){E(parseInt(e.target.value,10)),w(0)},getComparator:function(e,t){return"desc"===e?function(e,a){return B(e,a,t)}:function(e,a){return-B(e,a,t)}},stableSort:function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))},rows:R,order:m,orderBy:g,rowsPerPage:N,page:y,headCells:a,headCellsReport:i,handleSearching:function(e){var a,n;""!==e?(T((a=R,n=e.toLowerCase(),a.filter((function(e){return Object.keys(e).some((function(t){return"id"!==t&&String(e[t]).toLowerCase().includes(n)}))})))),w(0)):T(t)},titleReport:s,landscapeView:o,loading:l,profileList:c,handleChange:d,handleSave:u})},Jn=function(e){var t=e.keyHolderId,a=e.keyHolderList,n=e.avaliableKeyList,i=e.handleChangeKeyHolder,o=e.infoErrors,s=e.serverValidation,l=e.handleCloseInfo,c=e.handleCloseErros,d=e.loading,u=e.handleChange,j=e.handleSave,b=e.profileList,m=e.handleCloseSnack,h=e.snackInfo,f=e.visibility,p=_n();return Object(C.jsx)(F.a,{className:p.MainBox,children:Object(C.jsxs)(I.a,{elevation:3,className:p.PaperMain,children:[Object(C.jsx)(ee,{icon:Object(C.jsx)($e.a,{fontSize:"large",className:p.color}),titulo:"Configura\xe7\xe3o de Chaves"}),Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",style:{marginBottom:"5vh"},children:Object(C.jsx)(F.a,{children:Object(C.jsxs)(G.a,{children:[Object(C.jsx)(X.a,{htmlFor:"profile-native-simple",children:"Clavicul\xe1rio"}),Object(C.jsxs)(Ya.a,{native:!0,value:t,onChange:function(e){return i(e)},inputProps:{name:"keyHolderId",id:"keyHolder-select"},children:[Object(C.jsx)("option",{value:"-1",children:"Op\xe7\xf5es..."}),a.map((function(e,t){return Object(C.jsx)("option",{value:e.id,children:e.identification},t)}))]})]})})}),Object(C.jsx)(Qn,{rows:n,headCells:[{id:"number",disablePadding:!1,label:"Chave",align:"left",width:"10%"},{id:"profile_id",disablePadding:!1,label:"Perfil",align:"left",width:"30%"},{id:"description",disablePadding:!1,label:"Descri\xe7\xe3o",align:"left",width:"40%"},{id:"sealNumber",disablePadding:!1,label:"Id. do Lacre",align:"left",width:"20%"}],headCellsReport:[{id:"number",disablePadding:!1,label:"Chave",align:"left",width:"10%"},{id:"profileDescription",disablePadding:!1,label:"Perfil",align:"left",width:"30%"},{id:"description",disablePadding:!1,label:"Descri\xe7\xe3o",align:"left",width:"40%"},{id:"sealNumber",disablePadding:!1,label:"Id. do Lacre",align:"left",width:"20%"}],titleReport:"Configura\xe7\xe3o de Chaves",landscapeView:!0,loading:d,handleChange:u,profileList:b,handleSave:j}),Object(C.jsx)(La.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:f,autoHideDuration:500,onClose:m,message:h,action:Object(C.jsx)(r.a.Fragment,{children:Object(C.jsx)(A.a,{size:"small","aria-label":"close",color:"inherit",onClick:m,children:Object(C.jsx)(za.a,{fontSize:"small"})})})}),Object(C.jsx)(ce,{infoErrors:o,handleCloseErros:c}),Object(C.jsx)(ue,{serverValidation:s,handleCloseInfo:l}),d&&Object(C.jsx)(je.a,{})]})})};var $n=function(e){var t=g("api_features"),a=Object(n.useState)(-1),r=Object(W.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)([]),c=Object(W.a)(s,2),d=c[0],u=c[1],j=Object(n.useState)([]),b=Object(W.a)(j,2),m=b[0],h=b[1],f=Object(n.useState)([]),p=Object(W.a)(f,2),O=p[0],x=p[1],v=Object(n.useState)({msg:""}),y=Object(W.a)(v,2),w=y[0],k=y[1],S=Object(n.useState)({msg:""}),N=Object(W.a)(S,2),E=N[0],P=N[1],D=Object(n.useState)(!1),R=Object(W.a)(D,2),T=R[0],B=R[1],I=Object(n.useState)(""),F=Object(W.a)(I,2),M=F[0],A=F[1],V=Object(n.useState)(!1),L=Object(W.a)(V,2),_=L[0],z=L[1];return Object(n.useEffect)((function(){!function(e,t){t.post("/getAvaliableKeyByKeyHolder",{id:e}).then((function(e){if(void 0!==e.data.registers){var t=e.data.registers;h(t)}})).catch((function(e){var t=me(e);console.log(t.msg),k(t)}))}(i,t)}),[i,t]),Object(n.useEffect)((function(){return t.get("/allKeyHolder").then((function(e){if(void 0!==e.data.registers){var t=e.data.registers;u(t)}})).catch((function(e){var t=me(e);console.log(t.msg),k(t)})),t.get("/allProfile").then((function(e){if(void 0!==e.data.registers){var t=e.data.registers;x(t)}})).catch((function(e){var t=me(e);console.log(t.msg),k(t)})),function(){B(!1)}}),[t]),Object(C.jsx)(Jn,{keyHolderId:i,avaliableKeyList:m,handleChangeKeyHolder:function(e){o(e.target.value)},keyHolderList:d,handleCloseErros:function(){k({msg:""})},handleCloseInfo:function(){P({msg:""})},infoErrors:w,serverValidation:E,loading:T,handleSave:function(e){var a=m.find((function(t){return t.id===e}));t.put("/updateAvaliableKey",a).then((function(e){if(e.data.bsApproved)A(e.data.msg),z(!0);else{var t={msg:e.data.msg};P(t)}})).catch((function(e){var t=me(e);console.log(t.msg),k(t)})).finally((function(){B(!1)}))},handleChange:function(e,t){var a=m.map((function(a){return a.id===t&&(a=Object(l.a)(Object(l.a)({},a),{},Object(H.a)({},e.target.name,e.target.value))),a}));h(a)},profileList:O,handleCloseSnack:function(){z(!1)},visibility:_,snackInfo:M})},Zn=a(122),er=Object(N.a)((function(e){return{root:{},MainBox:{display:"flex",justifyContent:"center",margin:e.spacing(1),padding:e.spacing(1)},PaperMain:Object(H.a)({width:"100%",paddingBottom:e.spacing(2)},e.breakpoints.down("md"),{width:"100%"}),Posicionada:{color:"green"},Retirada:{color:"red"},paperKey:{padding:"0.5vw",width:"120px",backgroundColor:Pn.a[200],margin:"1vh 0.5vw 1vh 0.5vw",border:"0.1vw solid grey"},exception:{backgroundColor:Zn.a[200]},textKey:{fontSize:"1.5ch",color:Pn.a,fontWeight:"bold"},userKey:{height:"2vh"}}})),tr=function(e){var t=e.keyHolderId,a=e.keyHolderList,n=e.handleChangeKeyHolder,r=e.infoErrors,i=e.serverValidation,o=e.handleCloseInfo,s=e.handleCloseErros,l=e.avaliableKeyList,c=er();return Object(C.jsx)(F.a,{className:c.MainBox,children:Object(C.jsx)(I.a,{elevation:3,className:c.PaperMain,children:Object(C.jsxs)(F.a,{display:"flex",flexDirection:"column",justifyContent:"center",children:[Object(C.jsx)(F.a,{display:"flex",flexDirection:"row",justifyContent:"center",m:1,children:Object(C.jsxs)(G.a,{children:[Object(C.jsx)(X.a,{htmlFor:"profile-native-simple",children:"Clavicul\xe1rio"}),Object(C.jsxs)(Ya.a,{native:!0,value:t,onChange:function(e){return n(e)},inputProps:{name:"keyHolderId",id:"keyHolder-select"},children:[Object(C.jsx)("option",{value:"-1",children:"Op\xe7\xf5es..."}),a.map((function(e,t){return Object(C.jsx)("option",{value:e.id,children:e.identification},t)}))]})]})}),Object(C.jsx)(F.a,{display:"flex",flexDirection:"row",m:1,justifyContent:"center",flexWrap:"wrap",children:l.map((function(e,t){return Object(C.jsx)(F.a,{children:Object(C.jsxs)(I.a,{elevation:0,className:1===e.exception?[c.paperKey,c.exception]:c.paperKey,children:[Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",className:c.userKey,children:Object(C.jsx)(J.a,{className:c.textKey,children:e.user})}),Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",children:Object(C.jsx)($e.a,{className:1===e.situation?c.Posicionada:c.Retirada})}),Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",children:Object(C.jsx)(J.a,{className:c.textKey,children:e.number})})]})},t)}))}),Object(C.jsxs)(F.a,{children:[Object(C.jsx)(ce,{infoErrors:r,handleCloseErros:s}),Object(C.jsx)(ue,{serverValidation:i,handleCloseInfo:o})]})]})})})};var ar=function(e){var t=g("api_features"),a=Object(n.useState)(-1),r=Object(W.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)([]),c=Object(W.a)(s,2),d=c[0],u=c[1],j=Object(n.useState)([]),b=Object(W.a)(j,2),m=b[0],h=b[1],f=Object(n.useState)({msg:""}),p=Object(W.a)(f,2),O=p[0],x=p[1],v=Object(n.useState)({msg:""}),y=Object(W.a)(v,2),w=y[0],k=y[1],S=Object(n.useState)(3e3),N=Object(W.a)(S,2),E=N[0],P=N[1];function D(e,t){t.post("/getAvaliableKeyByKeyHolder",{id:e}).then((function(e){if(void 0!==e.data.registers){var t=e.data.registers;h(t)}})).catch((function(e){var t=me(e);console.log(t.msg),x(t)}))}return Object(n.useEffect)((function(){D(i,t);var e=setInterval((function(){D(i,t)}),E);return function(){return clearInterval(e)}}),[i,E,t]),Object(n.useEffect)((function(){t.get("/allKeyHolder").then((function(e){if(void 0!==e.data.registers){var t=e.data.registers;u(t)}})).catch((function(e){var t=me(e);console.log(t.msg),x(t)})),t.post("/getConfigParameter",{parameter:"scanTimeMonitoringKey"}).then((function(e){e.data.registers&&e.data.registers.length>0&&P(parseInt(e.data.registers[0].parameterValue))})).catch((function(e){var t=me(e);console.log(t.msg),x(t)}))}),[t]),Object(C.jsx)(tr,{keyHolderId:i,avaliableKeyList:m,handleChangeKeyHolder:function(e){o(e.target.value)},keyHolderList:d,handleCloseErros:function(){x({msg:""})},handleCloseInfo:function(){k({msg:""})},infoErrors:O,serverValidation:w,handleChange:function(e,t){var a=m.map((function(a){return a.id===t&&(a=Object(l.a)(Object(l.a)({},a),{},Object(H.a)({},e.target.name,e.target.value))),a}));h(a)}})},nr=Object(N.a)((function(e){return{largeTextField:{width:"90%"},mediumTextField:{width:"55%"},smallTextField:{width:"20%"},resize:{fontSize:"4vw"},color:{color:e.palette.primary.main}}})),rr=function(e){var t=e.handleSubmit,a=e.DriverSMS,n=e.handleChange,r=e.handleBlur,i=e.inputvalidation,o=e.infoErrors,s=e.serverValidation,c=e.handleCloseInfo,d=e.handleCloseErros,u=e.loading,j=e.registerPersisted,b=e.handleClose,m=nr();return Object(C.jsx)(Qa,{infoErrors:o,serverValidation:s,handleCloseInfo:c,handleCloseErros:d,handleSubmit:t,loading:u,icone:Object(C.jsx)(rt.a,{fontSize:"large",className:m.color}),title:"Interface com o Motorista",urlBackCommand:"#",showSaveButton:!0,showBackButton:!1,paperMainWidth:"60%",children:Object(C.jsxs)(F.a,{display:"flex",flexDirection:"Column","aria-label":"flex-column-container-fields",children:[Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",mb:9,children:Object(C.jsx)(Y.a,{mask:"9999",maskChar:"",value:a.code,onChange:function(e){return n(e,!0)},onBlur:function(e){return r(e)},children:function(e){return Object(C.jsx)(fe.a,Object(l.a)(Object(l.a)({},e),{},{id:"code",name:"code",label:"C\xf3digo",autoComplete:"off",inputProps:{style:{textAlign:"center"}},InputProps:{classes:{input:m.resize}},className:m.smallTextField,helperText:""!==i.keys.code?i.keys.code:"",error:""!==i.keys.code}))}})}),Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",children:Object(C.jsx)(Y.a,{mask:"(99)999999999",maskChar:"",value:a.phoneNumber,onChange:function(e){return n(e,!0)},onBlur:function(e){return r(e)},children:function(e){return Object(C.jsx)(fe.a,Object(l.a)(Object(l.a)({},e),{},{id:"phoneNumber",name:"phoneNumber",label:"(DDD) + Celular",autoComplete:"off",inputProps:{style:{textAlign:"left"}},InputProps:{classes:{input:m.resize}},className:m.mediumTextField,helperText:""!==i.keys.phoneNumber?i.keys.phoneNumber:"",error:""!==i.keys.phoneNumber}))}})}),Object(C.jsx)(F.a,{children:Object(C.jsxs)(Za.a,{open:j,onClose:b,"aria-labelledby":"Motorista Persistido","aria-describedby":"Motorista Persistido",children:[Object(C.jsx)(nn.a,{id:"DriverPersisted",children:"Aten\xe7\xe3o:"}),Object(C.jsx)(tn.a,{children:Object(C.jsx)(an.a,{id:"alert-dialog-description",children:"Fique atento ao recebimento de SMS enviado pelo sistema."})}),Object(C.jsx)(en.a,{children:Object(C.jsx)(w.a,{onClick:b,color:"primary",autoFocus:!0,children:"Fechar"})})]})})]})})};var ir=function(e){var t={msg:"",isError:!1};switch(e.target.code){case"code":0===e.target.value.length&&(t.msg="C\xf3digo \xe9 obrigat\xf3rio.",t.isError=!0);break;case"phoneNumber":(isNaN(e.target.value)||""===e.target.value)&&(t.msg="Telefone com DDD \xe9 obrigat\xf3rio.",t.isError=!0);break;default:t.msg="",t.isError=!1}return t};var or=function(e){var t=g("api_driverSms"),a=e.location.state,r=void 0===a?0:a.id,i={id:r,code:"",phoneNumber:""},o=Object(n.useState)(i),s=Object(W.a)(o,2),c=s[0],d=s[1],u=Object(n.useState)({msg:""}),j=Object(W.a)(u,2),b=j[0],m=j[1],h=Object(n.useState)({msg:""}),f=Object(W.a)(h,2),p=f[0],O=f[1],x=Object(n.useState)(!1),v=Object(W.a)(x,2),y=v[0],w=v[1],k=Object(n.useState)(!1),S=Object(W.a)(k,2),N=S[0],E=S[1],P={isError:!1,keys:{id:r,code:"",phoneNumber:""}},D=Object(n.useState)(P),R=Object(W.a)(D,2),T=R[0],B=R[1];return Object(n.useEffect)((function(){return E(!1),document.getElementById("code").focus(),function(){w(!1)}}),[i.id]),Object(C.jsx)(rr,{DriverSMS:c,handleChange:function(e,t){t&&(e.target.value=e.target.value.replace(/[, ]+/g,"").replace(/\(|\)/g,"")),d(Object(l.a)(Object(l.a)({},c),{},Object(H.a)({},e.target.name,e.target.value)))},handleSubmit:function(e){w(!0),T.isError||t.post("/addDriver",c).then((function(e){if(e.data.bsApproved)E(!0),d(i);else{var t={msg:e.data.msg};O(t)}})).catch((function(e){var t=me(e);console.log(t.msg),m(t)})).finally((function(){w(!1)})),e.preventDefault()},handleBlur:function(e){var t=ir(e),a={keys:Object(l.a)(Object(l.a)({},T.keys),{},Object(H.a)({},e.target.name,t.msg))};B(Object(l.a)({isError:t.isError},a))},handleCloseErros:function(){m({msg:""})},handleCloseInfo:function(){O({msg:""})},inputvalidation:T,infoErrors:b,serverValidation:p,loading:y,registerPersisted:N,handleClose:function(){E(!1)}})},sr=Object(N.a)((function(e){return{MainBox:{display:"flex",justifyContent:"center",margin:e.spacing(1),padding:e.spacing(1)},color:{color:e.palette.primary.main}}})),lr=function(e){var t=e.driver,a=e.DeletedRegister,n=e.loading,i=e.handleClose,o=e.infoErrors,s=e.snackInfo,l=e.handleCloseSnack,c=e.visibility,d=sr();return Object(C.jsxs)(B.a,{maxWidth:"lg",children:[Object(C.jsx)(F.a,{className:d.MainBox,children:Object(C.jsx)(Va,{rows:t,headCells:[{id:"code",disablePadding:!1,label:"C\xf3digo Motorista",align:"left",width:"50%"},{id:"phoneNumber",disablePadding:!1,label:"Telefone",align:"left",width:"50%"}],tableTitle:"Cadastro de Motorista",icon:Object(C.jsx)(ot.a,{fontSize:"large",className:d.color}),DeletedRegister:a,api_url:"/deleteDriver",host_api:"api_driverSms",pathEditComponentForUpdate:"/UpdateDriver",pathAddComponentForUpdate:"/addDriver",routeName:"Driver",showAddRegisterCommand:!0,showDeleteRegisterCommand:!0,showEditRegisterCommand:!0,titleReport:"Cadastro de Motoristas",landscapeView:!0,loading:n})}),Object(C.jsx)(F.a,{className:d.MainBox,children:Object(C.jsx)(ce,{infoErrors:o,handleCloseErros:i})}),Object(C.jsx)(La.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:c,autoHideDuration:3e3,onClose:l,message:s.message,action:Object(C.jsx)(r.a.Fragment,{children:Object(C.jsx)(A.a,{size:"small","aria-label":"close",color:"inherit",onClick:l,children:Object(C.jsx)(za.a,{fontSize:"small"})})})})]})};var cr=function(e){var t=g("api_driverSms"),a=Object(n.useState)(!1),r=Object(W.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)([]),l=Object(W.a)(s,2),c=l[0],d=l[1],u=Object(n.useState)({msg:""}),j=Object(W.a)(u,2),b=j[0],m=j[1],h={message:""},f=Object(n.useState)(h),p=Object(W.a)(f,2),O=p[0],x=p[1],v=Object(n.useState)(!1),y=Object(W.a)(v,2),w=y[0],k=y[1];return Object(n.useEffect)((function(){o(!0),t.get("/allDriver").then((function(e){d(e.data.registers),o(!1)})).catch((function(e){var t=me(e);console.log(t.msg),m(t),o(!1)}))}),[t]),Object(C.jsx)(lr,{driver:c,DeletedRegister:function(e,t){void 0===t?(c.splice(c.findIndex((function(t){return t.id===e})),1),h.message="Registro exclu\xeddo com sucesso.",x(h),k(!0)):(h.message="Erro ao tentar excluir registro.",h.type="error",x(h),k(!0))},loading:i,infoErrors:b,snackInfo:O,handleCloseSnack:function(){k(!1)},visibility:w,handleClose:function(){m({msg:""})}})},dr=Object(N.a)((function(e){return{largeTextField:{width:"60%"},mediumTextField:{width:"30%"},smallTextField:{width:"20%"},color:{color:e.palette.primary.main}}})),ur=function(e){var t=e.handleSubmit,a=e.driver,n=e.handleChange,r=e.handleBlur,i=e.inputvalidation,o=e.infoErrors,s=e.serverValidation,c=e.handleCloseInfo,d=e.handleCloseErros,u=e.loading,j=dr();return Object(C.jsxs)(Qa,{infoErrors:o,serverValidation:s,handleCloseInfo:c,handleCloseErros:d,handleSubmit:t,loading:u,icone:Object(C.jsx)(ot.a,{fontSize:"large",className:j.color}),title:"Cadastro de Motoristas",urlBackCommand:"/allDriver",showSaveButton:!0,showBackButton:!0,paperMainWidth:"50%",children:[Object(C.jsx)(Y.a,{mask:"9999",maskChar:"",value:a.code,onChange:function(e){return n(e,!0)},onBlur:function(e){return r(e)},children:function(e){return Object(C.jsx)(fe.a,Object(l.a)(Object(l.a)({},e),{},{id:"code",name:"code",label:"C\xf3digo",autoComplete:"off",inputProps:{style:{textAlign:"left"}},className:j.smallTextField,helperText:""!==i.keys.code?i.keys.code:"",error:""!==i.keys.code}))}}),Object(C.jsx)(Y.a,{mask:"(99)999999999",maskChar:"",value:a.phoneNumber,onChange:function(e){return n(e,!0)},onBlur:function(e){return r(e)},children:function(e){return Object(C.jsx)(fe.a,Object(l.a)(Object(l.a)({},e),{},{id:"phoneNumber",name:"phoneNumber",label:"(DDD) + Celular",autoComplete:"off",inputProps:{style:{textAlign:"left"}},className:j.mediumTextField,helperText:""!==i.keys.phoneNumber?i.keys.phoneNumber:"",error:""!==i.keys.phoneNumber}))}})]})};var jr=function(e){var t={msg:"",isError:!1};switch(e.target.name){case"code":0===e.target.value.length&&(t.msg="C\xf3digo \xe9 obrigat\xf3rio.",t.isError=!0);break;case"phoneNumber":0===e.target.value.length&&(t.msg="N\xfamero do telefone \xe9 obrigat\xf3rio.",t.isError=!0);break;default:t.msg="",t.isError=!1}return t};var br=function(e){var t=g("api_driverSms"),a=e.location.state,r=void 0===a?0:a.id,i={id:r,code:"",phoneNumber:""},o=Object(n.useState)(i),s=Object(W.a)(o,2),c=s[0],d=s[1],u=Object(n.useState)({msg:""}),j=Object(W.a)(u,2),b=j[0],m=j[1],h=Object(n.useState)({msg:""}),f=Object(W.a)(h,2),p=f[0],O=f[1],x=Object(n.useState)(!1),v=Object(W.a)(x,2),y=v[0],w=v[1],k={isError:!1,keys:{id:r,code:"",phoneNumber:""}},S=Object(n.useState)(k),N=Object(W.a)(S,2),E=N[0],P=N[1];return Object(n.useEffect)((function(){if(0!==i.id)return t.get("/editDriver/".concat(i.id)).then((function(e){if(void 0!==e.data.registers){var t=e.data.registers.shift();d(t)}document.getElementById("code").focus()})).catch((function(e){var t=me(e);console.log(t.msg),m(t)})),function(){w(!1)}}),[i.id,t]),Object(C.jsx)(ur,{driver:c,handleChange:function(e,t){t&&(e.target.value=e.target.value.replace(/[, ]+/g,"").replace(/\(|\)/g,"")),d(Object(l.a)(Object(l.a)({},c),{},Object(H.a)({},e.target.name,e.target.value)))},handleSubmit:function(a){w(!0),E.isError?w(!1):0!==i.id?t.put("/updateDriver",c).then((function(t){if(t.data.bsApproved)e.history.push("/allDriver");else{var a={msg:t.data.msg};O(a)}})).catch((function(e){var t=me(e);console.log(t.msg),m(t)})).finally((function(){w(!1)})):t.post("/addDriver",c).then((function(t){if(t.data.bsApproved)e.history.push("/allDriver");else{var a={msg:t.data.msg};O(a)}})).catch((function(e){var t=me(e);console.log(t.msg),m(t)})).finally((function(){w(!1)})),a.preventDefault()},handleBlur:function(e){var t=jr(e),a={keys:Object(l.a)(Object(l.a)({},E.keys),{},Object(H.a)({},e.target.name,t.msg))};P(Object(l.a)({isError:t.isError},a))},handleCloseErros:function(){m({msg:""})},handleCloseInfo:function(){O({msg:""})},inputvalidation:E,infoErrors:b,serverValidation:p,loading:y})},mr=Object(N.a)((function(e){return{MainBox:{display:"flex",justifyContent:"center",margin:e.spacing(1),padding:e.spacing(1)},color:{color:e.palette.primary.main}}})),hr=function(e){var t=e.truck,a=e.DeletedRegister,n=e.loading,i=e.handleClose,o=e.infoErrors,s=e.snackInfo,l=e.handleCloseSnack,c=e.visibility,d=mr();return Object(C.jsxs)(B.a,{maxWidth:"lg",children:[Object(C.jsx)(F.a,{className:d.MainBox,children:Object(C.jsx)(Va,{rows:t,headCells:[{id:"at",type:"truckLicense",disablePadding:!1,label:"Placa",align:"center",width:"10%"},{id:"totalCompart",disablePadding:!1,label:"Total de Cps.",align:"center",width:"10%"},{id:"capacity",type:"numberFormat",disablePadding:!1,label:"Capacidade",align:"center",width:"10%"},{id:"b_train",type:"bool",disablePadding:!1,label:"B-Trem",align:"center",width:"10%"},{id:"compartFirstTrain",disablePadding:!1,label:"Cpts. Pri. Carreta",align:"center",width:"30%"},{id:"compartSecondTrain",disablePadding:!1,label:"Cpts. Seg. Carreta",align:"center",width:"30%"}],tableTitle:"Cadastro de AT",icon:Object(C.jsx)(ct.a,{fontSize:"large",className:d.color}),DeletedRegister:a,api_url:"/deleteTruck",host_api:"api_overfill",pathEditComponentForUpdate:"/UpdateTruck",pathAddComponentForUpdate:"/addTruck",routeName:"Truck",showAddRegisterCommand:!0,showDeleteRegisterCommand:!0,showEditRegisterCommand:!0,titleReport:"Cadastro de AT",landscapeView:!0,loading:n})}),Object(C.jsx)(F.a,{className:d.MainBox,children:Object(C.jsx)(ce,{infoErrors:o,handleCloseErros:i})}),Object(C.jsx)(La.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:c,autoHideDuration:3e3,onClose:l,message:s.message,action:Object(C.jsx)(r.a.Fragment,{children:Object(C.jsx)(A.a,{size:"small","aria-label":"close",color:"inherit",onClick:l,children:Object(C.jsx)(za.a,{fontSize:"small"})})})})]})};var fr=function(e){var t=g("api_overfill"),a=Object(n.useState)(!1),r=Object(W.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)([]),l=Object(W.a)(s,2),c=l[0],d=l[1],u=Object(n.useState)({msg:""}),j=Object(W.a)(u,2),b=j[0],m=j[1],h={message:""},f=Object(n.useState)(h),p=Object(W.a)(f,2),O=p[0],x=p[1],v=Object(n.useState)(!1),y=Object(W.a)(v,2),w=y[0],k=y[1];return Object(n.useEffect)((function(){o(!0),t.get("/allTruck").then((function(e){d(e.data.registers),o(!1)})).catch((function(e){var t=me(e);console.log(t.msg),m(t),o(!1)}))}),[t]),Object(C.jsx)(hr,{truck:c,DeletedRegister:function(e,t){void 0===t?(c.splice(c.findIndex((function(t){return t.id===e})),1),h.message="Registro exclu\xeddo com sucesso.",x(h),k(!0)):(h.message="Erro ao tentar excluir registro.",h.type="error",x(h),k(!0))},loading:i,infoErrors:b,snackInfo:O,handleCloseSnack:function(){k(!1)},visibility:w,handleClose:function(){m({msg:""})}})},pr=Object(N.a)((function(e){return{largeTextField:{width:"60%"},mediumTextField:{width:"30%"},smallTextField:{width:"20%"},color:{color:e.palette.primary.main},switchText:{color:Pn.a[600]}}})),gr=a(312),Or=a(313),xr=function(e){var t=e.handleSubmit,a=e.truck,n=e.handleChange,r=e.handleBlur,i=e.inputvalidation,o=e.infoErrors,s=e.serverValidation,c=e.handleCloseInfo,d=e.handleCloseErros,u=e.loading,j=e.bTrainState,b=pr();return Object(C.jsxs)(Qa,{infoErrors:o,serverValidation:s,handleCloseInfo:c,handleCloseErros:d,handleSubmit:t,loading:u,icone:Object(C.jsx)(ct.a,{fontSize:"large",className:b.color}),title:"Cadastro de AT",urlBackCommand:"/allTruck",showSaveButton:!0,showBackButton:!0,paperMainWidth:"50%",children:[Object(C.jsx)(Y.a,{mask:"aaa9999",maskChar:"",value:a.at,onChange:function(e){return n(e,!0)},onBlur:function(e){return r(e)},children:function(e){return Object(C.jsx)(fe.a,Object(l.a)(Object(l.a)({},e),{},{id:"at",name:"at",label:"Placa",autoComplete:"off",inputProps:{style:{textAlign:"left"}},className:b.smallTextField,helperText:""!==i.keys.at?i.keys.at:"",error:""!==i.keys.at}))}}),Object(C.jsx)(Y.a,{mask:"99.999",maskChar:"",value:a.capacity,onChange:function(e){return n(e,!0)},onBlur:function(e){return r(e)},children:function(e){return Object(C.jsx)(fe.a,Object(l.a)(Object(l.a)({},e),{},{id:"capacity",name:"capacity",label:"Capacidade",autoComplete:"off",inputProps:{style:{textAlign:"left"}},className:b.smallTextField,helperText:""!==i.keys.capacity?i.keys.capacity:"",error:""!==i.keys.capacity}))}}),Object(C.jsx)(F.a,{display:"flex",justifyContent:"left",ml:2,children:Object(C.jsx)(qa.a,{control:Object(C.jsx)(Wa.a,{id:"b_train",name:"b_train",checked:Boolean(a.b_train),onChange:function(e){return n(e)}}),label:Object(C.jsx)(F.a,{component:"div",fontSize:15,children:"Se o AT for B-Trem, informe o total de Compartimentos da segunda Carreta."}),className:b.switchText})}),Object(C.jsx)(F.a,{display:"flex",flexDirection:"row",justifyContent:"center",m:2,children:Object(C.jsx)(gr.a,{variant:"outlined",children:Object(C.jsxs)(Or.a,{children:[Object(C.jsx)(J.a,{gutterBottom:!0,children:Object(C.jsx)(F.a,{fontWeight:"fontWeightLight",fontSize:15,className:b.switchText,children:"Defina o N\xfamero de Compartimentos"})}),Object(C.jsx)(F.a,{display:"flex",flexDirection:"row",justifyContent:"center",children:Object(C.jsx)(Y.a,{mask:"99",maskChar:"",value:a.compartFirstTrain,onChange:function(e){return n(e,!0)},onBlur:function(e){return r(e)},children:function(e){return Object(C.jsx)(fe.a,Object(l.a)(Object(l.a)({},e),{},{id:"compartFirstTrain",name:"compartFirstTrain",label:"Primeira Carreta",autoComplete:"off",inputProps:{style:{textAlign:"left"}},helperText:""!==i.keys.compartFirstTrain?i.keys.compartFirstTrain:"",error:""!==i.keys.compartFirstTrain}))}})}),j?Object(C.jsx)(F.a,{display:"flex",flexDirection:"row",justifyContent:"center",children:Object(C.jsx)(Y.a,{mask:"99",maskChar:"",value:a.compartSecondTrain,onChange:function(e){return n(e,!0)},onBlur:function(e){return r(e)},children:function(e){return Object(C.jsx)(fe.a,Object(l.a)(Object(l.a)({},e),{},{id:"compartSecondTrain",name:"compartSecondTrain",label:"Segunda Carreta",autoComplete:"off",inputProps:{style:{textAlign:"left"}},helperText:""!==i.keys.compartSecondTrain?i.keys.compartSecondTrain:"",error:""!==i.keys.compartSecondTrain}))}})}):null]})})})]})};var vr=function(e){var t={msg:"",isError:!1};switch(e.target.name){case"at":case"totalCompart":case"capacity":case"compartFirstTrain":0===e.target.value.length&&(t.msg="Valor obrigat\xf3rio.",t.isError=!0);break;default:t.msg="",t.isError=!1}return t};var Cr=function(e){var t=g("api_overfill"),a=e.location.state,r={id:void 0===a?0:a.id,at:"",totalCompart:"",capacity:"",b_train:0,compartFirstTrain:"",compartSecondTrain:""},i=Object(n.useState)(r),o=Object(W.a)(i,2),s=o[0],c=o[1],d=Object(n.useState)({msg:""}),u=Object(W.a)(d,2),j=u[0],b=u[1],m=Object(n.useState)({msg:""}),h=Object(W.a)(m,2),f=h[0],p=h[1],O=Object(n.useState)(!1),x=Object(W.a)(O,2),v=x[0],y=x[1],w=Object(n.useState)(!1),k=Object(W.a)(w,2),S=k[0],N=k[1],E={isError:!1,keys:Object(l.a)({},r)},P=Object(n.useState)(E),D=Object(W.a)(P,2),R=D[0],T=D[1];return Object(n.useEffect)((function(){if(0!==r.id)return t.get("/editTruck/".concat(r.id)).then((function(e){if(void 0!==e.data.registers){var t=e.data.registers.shift();c(t),N(t.b_train)}document.getElementById("at").focus()})).catch((function(e){var t=me(e);console.log(t.msg),b(t)})),function(){y(!1)}}),[r.id,t]),Object(C.jsx)(xr,{truck:s,handleChange:function(e,t){switch(t&&(e.target.value=e.target.value.replace(/[, ]+/g,"").replace(/[. ]+/g,"").replace(/\(|\)/g,"")),e.target.type){case"checkbox":c(Object(l.a)(Object(l.a)({},s),{},Object(H.a)({},e.target.name,e.target.checked))),"b_train"===e.target.name&&N(e.target.checked);break;default:c(Object(l.a)(Object(l.a)({},s),{},Object(H.a)({},e.target.name,e.target.value)))}},handleSubmit:function(a){y(!0),R.isError?y(!1):0!==r.id?t.put("/updateTruck",s).then((function(t){if(t.data.bsApproved)e.history.push("/allTruck");else{var a={msg:t.data.msg};p(a)}})).catch((function(e){var t=me(e);console.log(t.msg),b(t)})).finally((function(){y(!1)})):t.post("/addTruck",s).then((function(t){if(t.data.bsApproved)e.history.push("/allTruck");else{var a={msg:t.data.msg};p(a)}})).catch((function(e){var t=me(e);console.log(t.msg),b(t)})).finally((function(){y(!1)})),a.preventDefault()},handleBlur:function(e){var t=vr(e),a={keys:Object(l.a)(Object(l.a)({},R.keys),{},Object(H.a)({},e.target.name,t.msg))};T(Object(l.a)({isError:t.isError},a))},handleCloseErros:function(){b({msg:""})},handleCloseInfo:function(){p({msg:""})},inputvalidation:R,infoErrors:j,serverValidation:f,loading:v,bTrainState:S})},yr=Object(N.a)((function(e){return{MainBox:{display:"flex",justifyContent:"center",margin:e.spacing(1),padding:e.spacing(1)},color:{color:e.palette.primary.main},PaperMain:Object(H.a)({width:"100%",paddingBottom:e.spacing(2)},e.breakpoints.down("md"),{width:"100%"}),TableRowColor:{backgroundColor:Pn.a[200]},compartInputField:{width:"20%"}}})),wr=a(7),kr=a(314),Sr=function(e){var t=e.monitorOverfill,a=e.loading,n=e.handleClose,r=e.infoErrors,i=e.handleChange,o=e.compartmentNumber,s=e.selectedTruck,c=e.open,d=e.handleSaveCompartmentNumber,u=e.handleDialogClose,j=e.loadingDialog,b=e.handleClick,m=e.licenseNumber,h=yr(),f=Object(wr.a)((function(e){return{head:{backgroundColor:e.palette.common.white,color:e.palette.common.black,fontWeight:"bold"},body:{fontSize:12}}}))(da.a);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(F.a,{className:h.MainBox,children:Object(C.jsxs)(I.a,{elevation:3,className:h.PaperMain,children:[Object(C.jsx)(F.a,{display:"flex",justifyContent:"flex-start","arial-label":"header-title-icon",m:1,children:Object(C.jsxs)(F.a,{display:"flex","arial-label":"header-description",children:[Object(C.jsx)(ut.a,{fontSize:"large",className:h.color}),Object(C.jsx)(F.a,{fontWeight:"medium",mt:1,ml:1,children:Object(C.jsx)(J.a,{id:"formTitle",children:"Condi\xe7\xf5es dos Overfills"})})]})}),Object(C.jsx)(F.a,{p:1,children:Object(C.jsxs)(ua.a,{component:"div",children:[Object(C.jsxs)(la.a,{className:h.table,"aria-label":"tabela monitor overfill",children:[Object(C.jsx)(ma.a,{children:Object(C.jsxs)(ba.a,{children:[Object(C.jsx)(f,{align:"center",children:"N\xba Baia"}),Object(C.jsx)(f,{align:"center",children:"Baia"}),Object(C.jsxs)(f,{align:"center",children:[Object(C.jsx)(F.a,{children:"Tipo da"}),Object(C.jsx)(F.a,{children:"Baia"})]}),Object(C.jsx)(f,{align:"center",children:"Placa"}),Object(C.jsx)(f,{align:"center",children:"Viagem"}),Object(C.jsx)(f,{align:"center",children:"B-Trem"}),Object(C.jsxs)(f,{align:"center",children:[Object(C.jsx)(F.a,{children:"Compartimentos"}),Object(C.jsx)(F.a,{children:"1\xbaCarreta"})]}),Object(C.jsxs)(f,{align:"center",children:[Object(C.jsx)(F.a,{children:"Compartimentos"}),Object(C.jsx)(F.a,{children:"2\xbaCarreta"})]}),Object(C.jsxs)(f,{align:"center",children:[Object(C.jsx)(F.a,{children:"Total de"}),Object(C.jsx)(F.a,{children:"Compartimentos"})]}),Object(C.jsxs)(f,{align:"center",children:[Object(C.jsx)(F.a,{children:"Compartimentos"}),Object(C.jsx)(F.a,{children:"Validados"})]}),Object(C.jsx)(f,{align:"center",children:"Situa\xe7\xe3o"})]})}),!a&&Object(C.jsx)(ca.a,{children:t.map((function(e,t){return Object(C.jsxs)(ba.a,{className:t%2?h.TableRowColor:null,children:[Object(C.jsx)(f,{align:"center",children:e.bayNumber}),Object(C.jsx)(f,{align:"center",children:e.bayName}),Object(C.jsx)(f,{align:"center",children:e.bayType}),Object(C.jsx)(f,{align:"center",children:e.at}),Object(C.jsx)(f,{align:"center",children:e.tripNumber}),Object(C.jsx)(f,{align:"center",children:e.b_train?"SIM":"N\xc3O"}),Object(C.jsx)(f,{align:"center",children:Object(C.jsx)(kr.a,{href:"#",onClick:function(t){return b(t,e.id,1,e.at,e.compartSecondTrain)},children:e.compartFirstTrain})}),Object(C.jsx)(f,{align:"center",children:Object(C.jsx)(kr.a,{href:"#",onClick:function(t){return b(t,e.id,2,e.at,e.compartFirstTrain)},children:e.compartSecondTrain})}),Object(C.jsx)(f,{align:"center",children:e.totalCompart}),Object(C.jsx)(f,{align:"center",children:e.compartAudited}),Object(C.jsx)(f,{align:"center",children:e.at?e.status?"LIBERADO":"BLOQUEADO":""})]},e.bayNumber)}))})]}),a&&Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",m:1,p:1,children:Object(C.jsx)(F.a,{p:1,children:Object(C.jsx)(Ta.a,{})})})]})})]})}),Object(C.jsx)(F.a,{className:h.MainBox,children:Object(C.jsx)(ce,{infoErrors:r,handleCloseErros:n})}),c&&Object(C.jsx)(F.a,{children:Object(C.jsxs)(Za.a,{open:c,onClose:n,"aria-labelledby":"update-compartment-number","aria-describedby":"update-compartment-number",children:[Object(C.jsx)(nn.a,{id:"update-compartment-number-dialogTitle",children:"Informe o n\xfamero de compartimentos na carreta ".concat(s," do AT ").concat(m,":")}),Object(C.jsx)(tn.a,{children:Object(C.jsx)(an.a,{id:"alert-update-compartment-number",children:Object(C.jsx)(Y.a,{mask:"99",maskChar:"",value:o,onChange:function(e){return i(e,!0)},children:function(e){return Object(C.jsx)(fe.a,Object(l.a)(Object(l.a)({},e),{},{inputRef:function(e){return e&&e.focus()},id:"compartmentNumber",name:"compartmentNumber",autoComplete:"off"}))}})})}),Object(C.jsxs)(en.a,{children:[Object(C.jsx)(w.a,{onClick:d,color:"primary",autoFocus:!0,children:"Salvar"}),Object(C.jsx)(w.a,{onClick:u,color:"primary",autoFocus:!0,children:"Fechar"})]}),j&&Object(C.jsx)(je.a,{})]})})]})};var Nr=function(e){var t=Object(n.useState)(!1),a=Object(W.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)([]),s=Object(W.a)(o,2),l=s[0],c=s[1],d=Object(n.useState)({msg:""}),u=Object(W.a)(d,2),j=u[0],b=u[1],m=Object(n.useState)(3e3),h=Object(W.a)(m,2),f=h[0],p=h[1],O=Object(n.useState)(!1),x=Object(W.a)(O,2),v=x[0],y=x[1],w=Object(n.useState)(!1),k=Object(W.a)(w,2),S=k[0],N=k[1],E=Object(n.useState)(null),P=Object(W.a)(E,2),D=P[0],R=P[1],T=Object(n.useState)(null),B=Object(W.a)(T,2),I=B[0],F=B[1],M=Object(n.useState)(null),A=Object(W.a)(M,2),V=A[0],L=A[1],_=Object(n.useState)(null),z=Object(W.a)(_,2),U=z[0],K=z[1],H=Object(n.useState)(null),q=Object(W.a)(H,2),Y=q[0],G=q[1],X=g("api_overfill"),Q=g("api_features");function J(e){e.get("/allBay").then((function(e){c(e.data.registers),i(!1)})).catch((function(e){var t=me(e);console.log(t.msg),b(t),i(!1)}))}function $(){y(!1),N(!1),R(null),F(null),L(null),K(null),G(null)}return Object(n.useEffect)((function(){var e=setInterval((function(){J(X)}),f);return function(){return clearInterval(e)}}),[f,X,v]),Object(n.useEffect)((function(){i(!0),Q.post("/getConfigParameter",{parameter:"scanTimeMonitoringOverfill"}).then((function(e){e.data.registers&&e.data.registers.length>0&&p(parseInt(e.data.registers[0].parameterValue)),J(X)})).catch((function(e){var t=me(e);console.log(t.msg),b(t)}))}),[Q,X]),Object(C.jsx)(Sr,{monitorOverfill:l,loading:r,infoErrors:j,handleChange:function(e){R(e.target.value)},compartmentNumber:D,selectedTruck:I,open:v,handleSaveCompartmentNumber:function(e){N(!0);var t={id:V,at:U};1===I?(t.compartFirstTrain=D,t.compartSecondTrain=Y):(t.compartSecondTrain=D,t.compartFirstTrain=Y),X.put("/updateTruck",t).then((function(e){if(e.data.bsApproved)$(),J(X);else{var t={msg:e.data.msg};b(t),$()}})).catch((function(e){var t=me(e);console.log(t.msg),b(t),$()}))},loadingDialog:S,handleClose:function(){b({msg:""})},handleDialogClose:$,handleClick:function(e,t,a,n,r){y(!0),F(a),L(t),K(n),G(r)},licenseNumber:U})},Er=Object(N.a)((function(e){return{MainBox:{display:"flex",justifyContent:"center",margin:e.spacing(1),padding:e.spacing(1)},color:{color:e.palette.primary.main},colorNotPermited:{color:"red"},colorPermited:{color:"green"},PaperMain:Object(H.a)({width:"100%",paddingBottom:e.spacing(2)},e.breakpoints.down("md"),{width:"100%"}),NoPadding:{padding:0},NoMargin:{margin:0},largeTextField:{width:"100%"},TableRowColor:{backgroundColor:Pn.a[200]}}})),Pr=a(174),Dr=a.n(Pr),Rr=a(175),Tr=a.n(Rr),Br=a(135),Ir=a.n(Br),Fr=function(e){var t=e.MultiloadControl,a=e.loading,n=e.handleClose,i=e.infoErrors,o=e.handleToggleStatus,s=e.open,l=e.handleSaveReason,c=e.handleChange,d=e.operationalReason,u=e.handleCloseSnack,j=e.visibility,b=e.loadingDialog,m=Er(),h=Object(wr.a)((function(e){return{head:{backgroundColor:e.palette.common.white,color:e.palette.common.grey,fontWeight:"bold"},body:{fontSize:12}}}))(da.a);return Object(C.jsxs)(B.a,{maxWidth:"lg",children:[Object(C.jsx)(F.a,{className:m.MainBox,children:Object(C.jsxs)(I.a,{elevation:3,className:m.PaperMain,children:[Object(C.jsx)(F.a,{display:"flex",justifyContent:"flex-start","arial-label":"header-title-icon",m:1,children:Object(C.jsxs)(F.a,{display:"flex","arial-label":"header-description",children:[Object(C.jsx)(mt.a,{fontSize:"large",className:m.color}),Object(C.jsx)(F.a,{fontWeight:"medium",mt:1,ml:1,children:Object(C.jsx)(J.a,{id:"formTitle",children:"Configurar Multiload"})})]})}),Object(C.jsx)(F.a,{p:1,children:Object(C.jsxs)(ua.a,{component:"div",children:[Object(C.jsxs)(la.a,{className:m.table,"aria-label":"tabela controle de multiloads",children:[Object(C.jsx)(ma.a,{children:Object(C.jsxs)(ba.a,{children:[Object(C.jsx)(h,{align:"center",children:"Plataforma"}),Object(C.jsx)(h,{align:"center",children:"Baia"}),Object(C.jsx)(h,{align:"center",children:"Acesso"}),Object(C.jsx)(h,{align:"center",children:"Multiload"}),Object(C.jsx)(h,{align:"center",children:"Aferi\xe7\xe3o"}),Object(C.jsx)(h,{align:"center",children:"Manuten\xe7\xe3o"})]})}),!a&&Object(C.jsx)(ca.a,{children:t.map((function(e,t){return Object(C.jsxs)(ba.a,{className:t%2?m.TableRowColor:null,children:[Object(C.jsx)(h,{align:"center",children:e.platform}),Object(C.jsx)(h,{align:"center",children:Object(C.jsx)(kr.a,{href:"http://".concat(e.ip),target:"_blank",rel:"noopener",children:e.bayName})}),e.bayStatus?Object(C.jsx)(h,{align:"center",children:Object(C.jsx)(M.a,{title:"Acesso ao ML Liberado",children:Object(C.jsx)(w.a,{variant:"outlined",onClick:function(){return o("bayStatus",0,e.bayNumber)},children:"BLOQUEAR"})})}):Object(C.jsx)(h,{align:"center",children:Object(C.jsx)(M.a,{title:"Acesso ao ML Bloqueado",children:Object(C.jsx)(w.a,{variant:"outlined",onClick:function(){return o("bayStatus",1,e.bayNumber)},children:"LIBERAR"})})}),e.bayStatus?Object(C.jsx)(h,{align:"center",children:Object(C.jsx)(Dr.a,{className:m.colorPermited})}):Object(C.jsx)(h,{align:"center",children:Object(C.jsx)(Tr.a,{className:m.colorNotPermited,onClick:function(){return o("bayStatus",1,e.bayNumber)}})}),e.measureStatus?Object(C.jsx)(h,{align:"center",children:Object(C.jsx)(M.a,{title:"Aferi\xe7\xe3o Liberada no ML",children:Object(C.jsx)(A.a,{"aria-label":"measureStatus",size:"large",className:m.NoPadding,children:Object(C.jsx)(Ir.a,{className:m.colorPermited,onClick:function(){return o("measureStatus",0,e.bayNumber)}})})})}):Object(C.jsx)(h,{align:"center",children:Object(C.jsx)(M.a,{title:"Aferi\xe7\xe3o Bloqueada no ML",children:Object(C.jsx)(A.a,{"aria-label":"measureStatus",size:"large",className:m.NoPadding,children:Object(C.jsx)(Ir.a,{className:m.colorNotPermited,onClick:function(){return o("measureStatus",1,e.bayNumber)}})})})}),e.maintenanceStatus?Object(C.jsx)(h,{align:"center",children:Object(C.jsx)(M.a,{title:"Manuten\xe7\xe3o Liberada no ML",children:Object(C.jsx)(A.a,{"aria-label":"maintananceStatus",size:"large",className:m.NoPadding,children:Object(C.jsx)(mt.a,{className:m.colorPermited,onClick:function(){return o("maintenanceStatus",0,e.bayNumber)}})})})}):Object(C.jsx)(h,{align:"center",children:Object(C.jsx)(M.a,{title:"Manuten\xe7\xe3o Bloqueada no ML",children:Object(C.jsx)(A.a,{"aria-label":"maintananceStatus",size:"large",className:m.NoPadding,children:Object(C.jsx)(mt.a,{className:m.colorNotPermited,onClick:function(){return o("maintenanceStatus",1,e.bayNumber)}})})})})]},e.bayNumber)}))})]}),a&&Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",m:1,p:1,children:Object(C.jsx)(F.a,{p:1,children:Object(C.jsx)(Ta.a,{})})})]})}),s&&Object(C.jsx)(F.a,{children:Object(C.jsxs)(Za.a,{open:s,onClose:n,"aria-labelledby":"multiload-operational-reason","aria-describedby":"multiload-operational-reason",children:[Object(C.jsx)(nn.a,{id:"operation-reason-dialogTitle",children:"Por favor, informe o motivo desta opera\xe7\xe3o:"}),Object(C.jsx)(tn.a,{children:Object(C.jsx)(an.a,{id:"alert-dialog-description",children:Object(C.jsx)(fe.a,{id:"operationalReason",name:"operationalReason",label:"",autoComplete:"off",value:d,onChange:function(e){return c(e)},multiline:!0,className:m.largeTextField,inputProps:{maxLength:128},inputRef:function(e){return e&&e.focus()}})})}),Object(C.jsxs)(en.a,{children:[Object(C.jsx)(w.a,{onClick:l,color:"primary",autoFocus:!0,children:"Salvar"}),Object(C.jsx)(w.a,{onClick:n,color:"primary",autoFocus:!0,children:"Fechar"})]}),b&&Object(C.jsx)(je.a,{})]})})]})}),Object(C.jsx)(La.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:j,autoHideDuration:5e3,onClose:u,message:i.msg,action:Object(C.jsx)(r.a.Fragment,{children:Object(C.jsx)(A.a,{size:"small","aria-label":"close",color:"inherit",onClick:u,children:Object(C.jsx)(za.a,{fontSize:"small"})})})})]})};var Mr=function(e){var t=Object(n.useState)(!1),a=Object(W.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(!1),s=Object(W.a)(o,2),l=s[0],c=s[1],u=Object(n.useState)([]),j=Object(W.a)(u,2),b=j[0],m=j[1],h=Object(n.useState)({msg:""}),f=Object(W.a)(h,2),p=f[0],O=f[1],x=Object(n.useState)(!1),v=Object(W.a)(x,2),y=v[0],w=v[1],k=Object(n.useState)(!1),S=Object(W.a)(k,2),N=S[0],E=S[1],P=Object(n.useState)(""),D=Object(W.a)(P,2),R=D[0],T=D[1],B=Object(n.useState)(null),I=Object(W.a)(B,2),F=I[0],M=I[1],A=Object(n.useState)(null),V=Object(W.a)(A,2),L=V[0],_=V[1],z=Object(n.useState)(""),U=Object(W.a)(z,2),K=U[0],H=U[1],q=Object(n.useState)(!1),Y=Object(W.a)(q,2),G=Y[0],X=Y[1],Q=Object(d.c)((function(e){return e.authenticated})),J=g("api_multiloadControl");return Object(n.useEffect)((function(){J.get("/allMultiload").then((function(e){m(e.data.registers),i(!1)})).catch((function(e){var t=me(e);console.log(t.msg),O(t),X(!0),i(!1)}))}),[J,y,N]),Object(C.jsx)(Fr,{MultiloadControl:b,loading:r,infoErrors:p,handleToggleStatus:function(e,t,a){T(e),M(t),_(a),1===t?w(!0):J.put("/setStatusMultiload/".concat(e,"/").concat(t),{bayNumber:a,user:Q.logonUser,reason:K}).then((function(e){e.data.bsApproved||O(e.data.msg)})).catch((function(e){var t=me(e);console.log(t.msg),O(t),X(!0)})).finally((function(){E(!N)}))},open:y,handleSaveReason:function(){0===K.length?(O({msg:"\xc9 muito importante que voc\xea informe a raz\xe3o desta opera\xe7\xe3o."}),X(!0)):(c(!0),J.put("/setStatusMultiload/".concat(R,"/").concat(F),{bayNumber:L,user:Q.logonUser,reason:K}).then((function(e){e.data.bsApproved||O(e.data.msg)})).catch((function(e){var t=me(e);console.log(t.msg),O(t),X(!0)})).finally((function(){c(!1),w(!1),H("")})))},handleChange:function(e){H(e.target.value)},operationalReason:K,visibility:G,handleCloseSnack:function(){X(!1)},loadingDialog:l,handleClose:function(){O({msg:""}),H(""),c(!1),w(!1)}})},Ar=Object(N.a)((function(e){return{rptViewerHeader:{margin:e.spacing(1)},headerTextCmd:Object(H.a)({margin:e.spacing(1),marginTop:e.spacing(1.5),color:Pn.a[700],fontSize:"1rem",fontWeight:400},e.breakpoints.down("md"),{fontSize:"0.8rem"}),headerPageControlCmd:{marginTop:e.spacing(1)},headerPageControl:{marginTop:e.spacing(1),marginLeft:e.spacing(1)},headerPageInput:Object(H.a)({marginTop:e.spacing(1),textAlign:"center",fontSize:"1rem",fontWeight:400},e.breakpoints.down("md"),{fontSize:"0.8rem"}),reportContent:{"@media print":{backgroundColor:"white"}},reportContentNoPaging:{display:"none","@media print":{display:"block"}}}})),Vr=a(181),Lr=a.n(Vr),_r=a(178),zr=a.n(_r),Ur=a(179),Kr=a.n(Ur),Hr=a(180),Wr=a.n(Hr),qr=a(182),Yr=a.n(qr),Gr=Object(N.a)((function(e){return{root:{width:"100%"},table:{minWidth:750},container:{"&::-webkit-scrollbar":{width:"0.4em"},"&::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.00)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#782878"}},rowColor:{color:Pn.a[600],border:"0"},footer:{fontWeight:"bold"}}})),Xr=Object(N.a)((function(e){var t;return{visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},rowColor:{color:Pn.a[700],backgroundColor:Pn.a[200]},color:{color:e.palette.primary.main},colorDisable:{color:"gray",cursor:"not-allowed"},headerTitle:(t={color:Pn.a[700],fontSize:"1.2rem"},Object(H.a)(t,e.breakpoints.down("md"),{fontSize:"0.8rem"}),Object(H.a)(t,"width","100%"),Object(H.a)(t,"display","flex"),Object(H.a)(t,"justifyContent","center"),Object(H.a)(t,"margin","0"),Object(H.a)(t,"padding","0"),t)}})),Qr=function(e){var t=Xr(),a=e.order,n=e.orderBy,r=e.headCells,i=e.titleReport;return Object(C.jsxs)(ma.a,{children:[Object(C.jsx)(ba.a,{children:Object(C.jsx)(da.a,{colSpan:r.length,children:Object(C.jsx)(F.a,{className:t.headerTitle,children:i})})}),Object(C.jsx)(ba.a,{children:r.map((function(e){return Object(C.jsx)(da.a,{"arial-label":"coluna-tabela",align:e.align?e.align:"left",padding:e.disablePadding?"none":"default",width:e.width?e.width:"",sortDirection:n===e.id&&a,className:t.rowColor,children:Object(C.jsx)(F.a,{children:Object(C.jsx)("strong",{children:e.label})})},e.id)}))})]})};var Jr=function(e){var t=e.order,a=e.orderBy,n=e.onRequestSort,r=e.headCells,i=e.titleReport;return Object(C.jsx)(Qr,{titleReport:i,order:t,orderBy:a,onRequestSort:n,headCells:r})},$r=(a(235),function(e){var t=e.handleRequestSort,a=e.getComparator,n=e.stableSort,r=e.rows,i=e.order,o=e.orderBy,s=e.headCells,l=e.titleReport,c=e.landscapeView,d=e.id,u=Gr();function j(e,t){var a="";switch(t){case"bool":a=1===e?"Sim":"N\xe3o";break;case"conditionalText":a=e&&e.trim().length>0?"Sim":"N\xe3o";break;case"numberFormat":a=e?Ma(parseInt(e),"numberFormat"):e;break;case"truckLicense":e&&e.trim().length,a=e;break;case"keyStatus":a=e&&0===parseInt(e)?"Retirada":"Dispon\xedvel";break;case"blockedUnblocked":a=e&&0===parseInt(e)?"Bloqueado":"Liberado";break;default:a=e}return a}return Object(C.jsxs)(C.Fragment,{children:[c?Object(C.jsx)("style",{type:"text/css",media:"print",children:"@page {size:landscape;}"}):null,Object(C.jsx)(ua.a,{className:u.container,children:Object(C.jsxs)(la.a,{stickyHeader:!0,id:d,className:u.table,"aria-labelledby":l,size:"small","aria-label":"ReportTableContentRows",style:{whiteSpace:"nowrap"},children:[Object(C.jsx)(Jr,{classes:u,order:i,titleReport:l,orderBy:o,onRequestSort:t,headCells:s}),Object(C.jsx)(ca.a,{children:n(r,a(i,o)).map((function(e){return Object(C.jsx)(ba.a,{hover:!1,id:"row_"+e.id,tabIndex:-1,children:Object.keys(e).map((function(t){var a=s.filter((function(e){return e.id===t}));return"id"!==t&&s.findIndex((function(e){return e.id===t}))>=0?Object(C.jsx)(da.a,{className:u.rowColor,style:{overflowWrap:"break-word",whiteSpace:"normal"},align:a.length>0?a[0].align:"left",children:j(e[t],a.length>0?a[0].type:"text")},Math.random()):null}))},e.id)}))})]})})]})});var Zr=function(e){var t=e.rows,a=e.allRows,n=e.headCells,i=e.titleReport,o=e.landscapeView,s=e.id,l=r.a.useState("asc"),c=Object(W.a)(l,2),d=c[0],u=c[1],j=r.a.useState("id"),b=Object(W.a)(j,2),m=b[0],h=b[1];function f(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}return Object(C.jsx)($r,{id:s,handleRequestSort:function(e,t){u(m===t&&"asc"===d?"desc":"asc"),h(t)},getComparator:function(e,t){return"desc"===e?function(e,a){return f(e,a,t)}:function(e,a){return-f(e,a,t)}},stableSort:function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))},rows:t,allRows:a,order:d,orderBy:m,headCells:n,titleReport:i,landscapeView:o})},ei=a(176),ti=a(177),ai=a.n(ti),ni=function(e){var t=e.rows,a=e.allRows,r=e.headCells,i=e.titleReport,o=e.landscapeView,l=e.exportToExcel,c=e.goFirstPage,d=e.totalPages,u=e.page,j=e.goPreviousPage,b=e.goNextPage,m=e.goLastPage,h=e.goSpecificPage,f=Ar(),p=Object(s.g)(),g=Object(n.useRef)(),O=Object(ei.useReactToPrint)({content:function(){return g.current}});return window.onload=function(e){p.goBack()},Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",children:Object(C.jsx)(ua.a,{className:f.rptViewerHeader,component:I.a,children:Object(C.jsxs)(F.a,{display:"flex",justifyContent:"space-between",style:{height:"7vh"},children:[Object(C.jsxs)(F.a,{display:"flex",justifyContent:"flex-start",children:[Object(C.jsx)(F.a,{children:Object(C.jsx)(M.a,{title:"Ir para a primeira p\xe1gina","aria-label":"SkipPrevious",children:Object(C.jsx)(A.a,{className:f.headerPageControlCmd,color:"primary","aria-label":"Voltar para a primeira p\xe1gina",size:"small",onClick:c,children:Object(C.jsx)(zr.a,{size:"inherit"})})})}),Object(C.jsx)(F.a,{children:Object(C.jsx)(M.a,{title:"Ir para a p\xe1gina Anterior","aria-label":"NavigateBeforeIcon",children:Object(C.jsx)(A.a,{className:f.headerPageControlCmd,color:"primary","aria-label":"P\xe1gina anterior",size:"small",onClick:j,children:Object(C.jsx)(Kr.a,{size:"inherit"})})})}),Object(C.jsx)(F.a,{style:{width:"2vw"},children:Object(C.jsx)(Q.a,{className:f.headerPageInput,type:"text",value:u,inputProps:{maxLength:"2",style:{textAlign:"center"}},onChange:h,children:" "})}),Object(C.jsx)(F.a,{className:f.headerTextCmd,children:Object(C.jsx)("b",{children:"de"})}),Object(C.jsx)(F.a,{className:f.headerTextCmd,children:d}),Object(C.jsx)(F.a,{className:f.styledReportViewer,children:Object(C.jsx)(M.a,{title:"Ir para a pr\xf3xima p\xe1gina","aria-label":"NavigateNextIcon",children:Object(C.jsx)(A.a,{className:f.headerPageControlCmd,color:"primary","aria-label":"Pr\xf3xima P\xe1gina",size:"small",onClick:b,children:Object(C.jsx)(Wr.a,{size:"inherit"})})})}),Object(C.jsx)(F.a,{children:Object(C.jsx)(M.a,{title:"Ir para o \xfaltima p\xe1gina","aria-label":"SkipNextIcon",children:Object(C.jsx)(A.a,{className:f.headerPageControlCmd,color:"primary","aria-label":"Ir para a \xfaltima p\xe1gina",size:"small",onClick:m,children:Object(C.jsx)(Lr.a,{size:"inherit"})})})})]}),Object(C.jsxs)(F.a,{display:"flex",justifyContent:"flex-end",children:[Object(C.jsx)(F.a,{children:Object(C.jsx)(M.a,{title:"Exportar para Excel","aria-label":"GridOnIcon",children:Object(C.jsx)(A.a,{className:f.headerPageControl,color:"primary","aria-label":"Exportar para Excel",size:"small",onClick:l,children:Object(C.jsx)(Yr.a,{size:"inherit"})})})}),Object(C.jsx)(F.a,{style:{display:"none"},children:Object(C.jsx)(ai.a,{id:"table-xls-button",className:"download-table-xls-button",table:"reportContent",filename:"R.A.I.S-".concat(i),sheet:"Relat\xf3rio",buttonText:"Download as XLS"})}),Object(C.jsx)(F.a,{children:Object(C.jsx)(M.a,{title:"Imprimir","aria-label":"GridOnIcon",children:Object(C.jsx)(A.a,{className:f.headerPageControl,color:"primary","aria-label":"Imprimir",size:"small",onClick:O,children:Object(C.jsx)(Oa.a,{size:"inherit"})})})}),Object(C.jsx)(F.a,{children:Object(C.jsx)(M.a,{title:"Voltar","aria-label":"GridOnIcon",children:Object(C.jsx)(A.a,{className:f.headerPageControl,color:"primary","aria-label":"Voltar",size:"small",onClick:function(e){return p.goBack()},children:Object(C.jsx)(Tt.a,{size:"inherit"})})})})]})]})})}),Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",children:Object(C.jsxs)(ua.a,{className:f.rptViewerHeader,component:I.a,children:[Object(C.jsx)(F.a,{className:f.reportContent,children:Object(C.jsx)(Zr,{id:"reportContentPaged",rows:t,landscapeView:o,headCells:r,titleReport:i})}),Object(C.jsx)(F.a,{className:"".concat(f.reportContent," ").concat(f.reportContentNoPaging),ref:g,children:Object(C.jsx)(Zr,{id:"reportContent",rows:a,landscapeView:o,headCells:r,titleReport:i})})]})})]})};var ri=function(e){var t=e.titleReport,a=e.allRows,r=e.landscapeView,i=e.headCells,o=a,s=Math.ceil(o.length/20),l=Object(n.useState)(1),c=Object(W.a)(l,2),d=c[0],u=c[1],j=Object(n.useState)(o.slice(0,20)),b=Object(W.a)(j,2),m=b[0],h=b[1],f=d,p=function(e){o=o.slice(20*e-20,20*f),h(o)},g=function(){u(1),o=o.slice(0,20),h(o)};return Object(C.jsx)(ni,{rows:m,allRows:o,landscapeView:r,page:d,rowsPerPage:20,totalPages:s,exportToExcel:function(){document.getElementById("table-xls-button").click()},goFirstPage:g,goNextPage:function(){d+1<=s&&(u(f=d+1),p(f))},goLastPage:function(){u(s),p(s)},goSpecificPage:function(e){var t=e.target.value;!isNaN(t)&&parseInt(t)>s?(alert("Esta p\xe1gina n\xe3o existe"),g()):(u(t),p(t))},goPreviousPage:function(){d-1>=1&&(u(f=d-1),p(f))},headCells:i,titleReport:t})},ii=Object(N.a)((function(e){return{mainPaper:{width:"50%"},largeTextField:{width:"90%"},mediumTextField:{width:"60%"},smallTextField:{width:"25%"},color:{color:e.palette.primary.main},filter:{color:Pn.a[800],fontSize:"1rem",fontWeight:400,"&:hover":{"& #fade":{display:"flex"}}},paperMain:{marginTop:"1vh",marginLeft:"0.5vw",marginRight:"0.5vw",backgroundColor:Pn.a[300]}}})),oi=a(190),si=function(e){var t=e.reportAvaliableKey,a=e.reportFilters,i=e.keyHolderId,o=e.keyHolderList,s=e.infoErrors,c=e.serverValidation,d=e.handleCloseInfo,u=e.handleCloseErros,j=e.loading,b=e.handleChange,m=e.handleChangeKeyHolder,h=e.handleFilter,f=e.visibility,p=e.handleCloseSnack,g=e.snackInfo,O=ii(),x=Object(n.useState)(!1),v=Object(W.a)(x,2),y=v[0],k=v[1],S=function(){k(!0),document.getElementById("fade").style.display="flex"};return Object(C.jsxs)(F.a,{display:"flex",flexDirection:"Column",children:[Object(C.jsx)(I.a,{className:O.paperMain,children:Object(C.jsxs)(F.a,{display:"flex",justifyContent:"center",children:[Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",onMouseOver:S,style:{cursor:"pointer"},children:Object(C.jsx)(J.a,{className:O.filter,children:"Filtros"})}),Object(C.jsx)(F.a,{children:Object(C.jsx)(Ue.a,{onMouseOver:S,style:{cursor:"pointer"}})})]})}),Object(C.jsx)(oi.a,{id:"fade",display:"none",in:y,children:Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",m:1,children:Object(C.jsxs)(I.a,{style:{padding:"1vh 0.5vw 1vh 0.5vw"},children:[Object(C.jsx)(F.a,{display:"flex",justifyContent:"flex-start",m:1,children:Object(C.jsxs)(G.a,{children:[Object(C.jsx)(X.a,{htmlFor:"profile-native-simple",children:"Perfil"}),Object(C.jsxs)(Ya.a,{native:!0,value:i,onChange:function(e){return m(e)},inputProps:{name:"keyHolderId",id:"keyHolder-select"},children:[Object(C.jsx)("option",{value:"-1",children:"Op\xe7\xf5es..."}),o.map((function(e,t){return Object(C.jsx)("option",{value:e.id,children:e.identification},t)}))]})]})}),Object(C.jsxs)(F.a,{display:"flex",justifyContent:"flex-start",m:1,children:[Object(C.jsx)(G.a,{children:Object(C.jsx)(Y.a,{mask:"99/99/9999",maskChar:"",value:a.initialDate,onChange:function(e){return b(e)},children:function(e){return Object(C.jsx)(fe.a,Object(l.a)(Object(l.a)({},e),{},{id:"initialDate",name:"initialDate",label:"Data Inicial",autoComplete:"off",className:O.mediumTextField}))}})}),Object(C.jsx)(G.a,{children:Object(C.jsx)(Y.a,{mask:"99/99/9999",maskChar:"",value:a.finalDate,onChange:function(e){return b(e)},children:function(e){return Object(C.jsx)(fe.a,Object(l.a)(Object(l.a)({},e),{},{id:"finalDate",name:"finalDate",label:"Data Final",autoComplete:"off",className:O.mediumTextField}))}})})]}),Object(C.jsx)(F.a,{display:"flex",justifyContent:"flex-start",m:1,children:Object(C.jsx)(G.a,{children:Object(C.jsx)(fe.a,{id:"user",name:"user",label:"Usu\xe1rio",autoComplete:"off",className:O.mediumTextField,value:a.user,onChange:function(e){return b(e)},inputProps:{maxLength:20}})})}),Object(C.jsxs)(F.a,{display:"flex",justifyContent:"flex-end",children:[Object(C.jsx)(F.a,{m:1,children:Object(C.jsx)(w.a,{id:"filter",type:"submit",size:"small",variant:"contained",color:"primary",onClick:function(e){return h(e)},startIcon:Object(C.jsx)(wa.a,{}),children:"Pesquisar"})}),Object(C.jsx)(F.a,{m:1,children:Object(C.jsx)(w.a,{id:"close",type:"submit",size:"small",variant:"contained",onClick:function(e){document.getElementById("fade").style.display="none"},startIcon:Object(C.jsx)(za.a,{}),children:"Fechar"})})]})]})})}),Object(C.jsx)(La.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:f,autoHideDuration:3e3,onClose:p,message:g,action:Object(C.jsx)(r.a.Fragment,{children:Object(C.jsx)(A.a,{size:"small","aria-label":"close",color:"inherit",onClick:p,children:Object(C.jsx)(za.a,{fontSize:"small"})})})}),Object(C.jsx)(F.a,{children:!j&&Object(C.jsx)(ri,{titleReport:"Movimenta\xe7\xe3o de Chaves",headCells:[{id:"date",type:"date",disablePadding:!1,label:"Registrado em",align:"left",width:"10%"},{id:"userLogon",disablePadding:!1,label:"Usu\xe1rio",align:"left",width:"10%"},{id:"name",disablePadding:!1,label:"Nome",align:"left",width:"50%"},{id:"keyNumber",disablePadding:!1,label:"N\xfamero da Chave",align:"center",width:"10%"},{id:"status",type:"keyStatus",disablePadding:!1,label:"Situa\xe7\xe3o das Chaves",align:"center",width:"10%"},{id:"exception",type:"bool",disablePadding:!1,label:"Pertence ao Perfil",align:"center",width:"10%"}],landscapeView:!0,allRows:t})}),j&&Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",m:1,p:1,children:Object(C.jsx)(F.a,{p:1,children:Object(C.jsx)(Ta.a,{})})}),Object(C.jsxs)(F.a,{children:[Object(C.jsx)(ce,{infoErrors:s,handleCloseErros:u}),Object(C.jsx)(ue,{serverValidation:c,handleCloseInfo:d})]})]})},li=a(38),ci=a.n(li);var di=function(e){var t=g("api_features"),a=Object(n.useState)({initialDate:ci()().format("DD/MM/YYYY"),finalDate:ci()().format("DD/MM/YYYY"),keyHolderId:null,user:""}),r=Object(W.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)(-1),c=Object(W.a)(s,2),d=c[0],u=c[1],j=Object(n.useState)([]),b=Object(W.a)(j,2),m=b[0],h=b[1],f=Object(n.useState)([]),p=Object(W.a)(f,2),O=p[0],x=p[1],v=Object(n.useState)({msg:""}),y=Object(W.a)(v,2),w=y[0],k=y[1],S=Object(n.useState)({msg:""}),N=Object(W.a)(S,2),E=N[0],P=N[1],D=Object(n.useState)(!1),R=Object(W.a)(D,2),T=R[0],B=R[1],I=Object(n.useState)(""),F=Object(W.a)(I,2),M=F[0],A=F[1],V=Object(n.useState)(!1),L=Object(W.a)(V,2),_=L[0],z=L[1];return Object(n.useEffect)((function(){return t.get("/allKeyHolder").then((function(e){if(void 0!==e.data.registers){var t=e.data.registers;h(t)}})).catch((function(e){var t=me(e);console.log(t.msg),k(t)})),function(){return B(!1)}}),[t]),Object(C.jsx)(si,{reportAvaliableKey:O,keyHolderId:d,keyHolderList:m,infoErrors:w,serverValidation:E,reportFilters:i,handleChangeKeyHolder:function(e){u(e.target.value),i.keyHolderId=e.target.value,o(i)},handleCloseErros:function(){k({msg:""})},handleCloseInfo:function(){P({msg:""})},handleChange:function(e){o(Object(l.a)(Object(l.a)({},i),{},Object(H.a)({},e.target.name,e.target.value)))},handleFilter:function(){!function(e,a){x([]),B(!0);var n={keyHolderId:a,initialDate:Ma(e.initialDate,"date"),finalDate:Ma(e.finalDate,"date"),user:e.user};t.post("/reportsKeyHolder",n).then((function(e){if(e.data.bsApproved){if(void 0!==e.data.registers){var t=e.data.registers.map((function(e){return e.date=ci()(e.date).format("DD/MM/YYYY hh:mm"),e}));x(t),B(!1)}}else A(e.data.msg),z(!0),B(!1)})).catch((function(e){var t=me(e);A(t.msg),z(!0),B(!1)}))}(i,d),document.getElementById("fade").style.display="none"},handleCloseSnack:function(){z(!1)},visibility:_,snackInfo:M,loading:T})},ui=Object(N.a)((function(e){return{mainPaper:{width:"50%"},largeTextField:{width:"90%"},mediumTextField:{width:"60%"},smallTextField:{width:"25%"},color:{color:e.palette.primary.main},filter:{color:Pn.a[800],fontSize:"1rem",fontWeight:400,"&:hover":{"& #fade":{display:"flex"}}},paperMain:{marginTop:"1vh",marginLeft:"0.5vw",marginRight:"0.5vw",backgroundColor:Pn.a[300]},switchText:{color:Pn.a[600]}}})),ji=function(e){var t=e.reportOverfillData,a=e.reportFilters,i=e.infoErrors,o=e.serverValidation,s=e.handleCloseInfo,c=e.handleCloseErros,d=e.handleChange,u=e.handleFilter,j=e.visibility,b=e.handleCloseSnack,m=e.snackInfo,h=e.loading,f=ui(),p=Object(n.useState)(!1),g=Object(W.a)(p,2),O=g[0],x=g[1],v=function(){x(!0),document.getElementById("fade").style.display="flex"};return Object(C.jsxs)(F.a,{display:"flex",flexDirection:"Column",children:[Object(C.jsx)(I.a,{className:f.paperMain,children:Object(C.jsxs)(F.a,{display:"flex",justifyContent:"center",children:[Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",onMouseOver:v,style:{cursor:"pointer"},children:Object(C.jsx)(J.a,{className:f.filter,children:"Filtros"})}),Object(C.jsx)(F.a,{children:Object(C.jsx)(Ue.a,{onMouseOver:v,style:{cursor:"pointer"}})})]})}),Object(C.jsx)(oi.a,{id:"fade",display:"none",in:O,children:Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",m:1,children:Object(C.jsxs)(I.a,{style:{padding:"1vh 0.5vw 1vh 0.5vw"},children:[Object(C.jsxs)(F.a,{display:"flex",justifyContent:"flex-start",m:1,children:[Object(C.jsx)(G.a,{children:Object(C.jsx)(Y.a,{mask:"99/99/9999",maskChar:"",value:a.initialDate,onChange:function(e){return d(e)},children:function(e){return Object(C.jsx)(fe.a,Object(l.a)(Object(l.a)({},e),{},{id:"initialDate",name:"initialDate",label:"Data Inicial",autoComplete:"off",className:f.mediumTextField}))}})}),Object(C.jsx)(G.a,{children:Object(C.jsx)(Y.a,{mask:"99/99/9999",maskChar:"",value:a.finalDate,onChange:function(e){return d(e)},children:function(e){return Object(C.jsx)(fe.a,Object(l.a)(Object(l.a)({},e),{},{id:"finalDate",name:"finalDate",label:"Data Final",autoComplete:"off",className:f.mediumTextField}))}})})]}),Object(C.jsxs)(F.a,{display:"flex",justifyContent:"flex-start",m:1,mb:1,children:[Object(C.jsx)(G.a,{children:Object(C.jsx)(Y.a,{mask:"999",maskChar:"",value:a.bayNumber,onChange:function(e){return d(e)},children:function(e){return Object(C.jsx)(fe.a,Object(l.a)(Object(l.a)({},e),{},{id:"bayNumber",name:"bayNumber",label:"N\xba da Baia",autoComplete:"off",className:f.mediumTextField}))}})}),Object(C.jsx)(G.a,{children:Object(C.jsx)(Y.a,{mask:"aaa9999",maskChar:"",value:a.at,onChange:function(e){return d(e)},children:function(e){return Object(C.jsx)(fe.a,Object(l.a)(Object(l.a)({},e),{},{id:"at",name:"at",label:"Placa",autoComplete:"off",className:f.mediumTextField}))}})})]}),Object(C.jsxs)(F.a,{display:"flex",justifyContent:"flex-end",children:[Object(C.jsx)(F.a,{m:1,children:Object(C.jsx)(w.a,{id:"filter",type:"submit",size:"small",variant:"contained",color:"primary",onClick:function(e){return u(e)},startIcon:Object(C.jsx)(wa.a,{}),children:"Pesquisar"})}),Object(C.jsx)(F.a,{m:1,children:Object(C.jsx)(w.a,{id:"close",type:"submit",size:"small",variant:"contained",onClick:function(e){document.getElementById("fade").style.display="none"},startIcon:Object(C.jsx)(za.a,{}),children:"Fechar"})})]})]})})}),Object(C.jsx)(La.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:j,autoHideDuration:3e3,onClose:b,message:m,action:Object(C.jsx)(r.a.Fragment,{children:Object(C.jsx)(A.a,{size:"small","aria-label":"close",color:"inherit",onClick:b,children:Object(C.jsx)(za.a,{fontSize:"small"})})})}),Object(C.jsx)(F.a,{children:!h&&Object(C.jsx)(ri,{titleReport:"Situa\xe7\xe3o dos Overfills",headCells:[{id:"date",disablePadding:!1,label:"Registrado em",align:"center"},{id:"bayNumber",disablePadding:!1,label:"N\xba Baia",align:"center"},{id:"bayName",disablePadding:!1,label:"Baia",align:"center"},{id:"bayType",disablePadding:!1,label:"Tipo da Baia",align:"center"},{id:"at",disablePadding:!1,label:"Placa",align:"center"},{id:"b_train",type:"bool",disablePadding:!1,label:"B-Trem",align:"center"},{id:"compartFirstTrain",disablePadding:!1,label:"Cps. 1\xba Carreta",align:"center"},{id:"compartSecondTrain",disablePadding:!1,label:"Cps. 2\xba Carreta",align:"center"},{id:"totalCompart",disablePadding:!1,label:"Total Cps.",align:"center"},{id:"compartAudited",disablePadding:!1,label:"Cps. Validados",align:"center"},{id:"status",type:"blockedUnblocked",disablePadding:!1,label:"Situa\xe7\xe3o",align:"center"}],landscapeView:!0,allRows:t})}),h&&Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",m:1,p:1,children:Object(C.jsx)(F.a,{p:1,children:Object(C.jsx)(Ta.a,{})})}),Object(C.jsxs)(F.a,{children:[Object(C.jsx)(ce,{infoErrors:i,handleCloseErros:c}),Object(C.jsx)(ue,{serverValidation:o,handleCloseInfo:s})]})]})};var bi=function(e){var t=g("api_features"),a=g("api_overfill"),r=Object(n.useState)({initialDate:ci()().format("DD/MM/YYYY"),finalDate:ci()().format("DD/MM/YYYY"),at:null,bayNumber:null,status:null,b_train:null}),i=Object(W.a)(r,2),o=i[0],s=i[1],c=Object(n.useState)([]),d=Object(W.a)(c,2),u=d[0],j=d[1],b=Object(n.useState)({msg:""}),m=Object(W.a)(b,2),h=m[0],f=m[1],p=Object(n.useState)({msg:""}),O=Object(W.a)(p,2),x=O[0],v=O[1],y=Object(n.useState)(!1),w=Object(W.a)(y,2),k=w[0],S=w[1],N=Object(n.useState)(""),E=Object(W.a)(N,2),P=E[0],D=E[1],R=Object(n.useState)(!1),T=Object(W.a)(R,2),B=T[0],I=T[1];return Object(C.jsx)(ji,{reportOverfillData:u,infoErrors:h,serverValidation:x,reportFilters:o,handleCloseErros:function(){f({msg:""})},handleCloseInfo:function(){v({msg:""})},handleChange:function(e){switch(s(Object(l.a)(Object(l.a)({},o),{},Object(H.a)({},e.target.name,e.target.value))),e.target.type){case"checkbox":s(Object(l.a)(Object(l.a)({},o),{},Object(H.a)({},e.target.name,e.target.checked)));break;default:s(Object(l.a)(Object(l.a)({},o),{},Object(H.a)({},e.target.name,e.target.value)))}},handleFilter:function(){!function(e){j([]),S(!0);var n={initialDate:Ma(e.initialDate,"date"),finalDate:Ma(e.finalDate,"date"),bayNumber:e.bayNumber,status:e.status,at:e.at,b_train:e.b_train};t.post("/getConfigParameter",{parameter:"PurgeReport"}).then((function(e){var t=e.data.registers.length>0?parseInt(e.data.registers[0].parameterValue):100;a.post("/reportOverfill/".concat(t),n).then((function(e){if(e.data.bsApproved){if(void 0!==e.data.registers){var t=e.data.registers.map((function(e){return e.date=ci()(e.date).format("DD/MM/YYYY hh:mm"),e}));j(t)}}else D(e.data.msg),I(!0);S(!1)})).catch((function(e){var t=me(e);console.log(t.msg),D(t.msg),I(!0),S(!1)}))})).catch((function(e){var t=me(e);console.log(t.msg),D(t.msg),I(!0),S(!1)}))}(o),document.getElementById("fade").style.display="none"},handleCloseSnack:function(){I(!1)},visibility:B,snackInfo:P,loading:k})},mi=Object(N.a)((function(e){return{mainPaper:{width:"50%"},largeTextField:{width:"90%"},mediumTextField:{width:"60%"},smallTextField:{width:"25%"},color:{color:e.palette.primary.main},filter:{color:Pn.a[800],fontSize:"1rem",fontWeight:400,"&:hover":{"& #fade":{display:"flex"}}},paperMain:{marginTop:"1vh",marginLeft:"0.5vw",marginRight:"0.5vw",backgroundColor:Pn.a[300]},switchText:{color:Pn.a[600]}}})),hi=function(e){var t=e.reportMultiloadData,a=e.reportFilters,i=e.infoErrors,o=e.serverValidation,s=e.handleCloseInfo,c=e.handleCloseErros,d=e.handleChange,u=e.handleFilter,j=e.visibility,b=e.handleCloseSnack,m=e.snackInfo,h=e.loading,f=e.action,p=mi(),g=Object(n.useState)(!1),O=Object(W.a)(g,2),x=O[0],v=O[1],y=function(){v(!0),document.getElementById("fade").style.display="flex"};return Object(C.jsxs)(F.a,{display:"flex",flexDirection:"Column",children:[Object(C.jsx)(I.a,{className:p.paperMain,children:Object(C.jsxs)(F.a,{display:"flex",justifyContent:"center",children:[Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",onMouseOver:y,style:{cursor:"pointer"},children:Object(C.jsx)(J.a,{className:p.filter,children:"Filtros"})}),Object(C.jsx)(F.a,{children:Object(C.jsx)(Ue.a,{onMouseOver:y,style:{cursor:"pointer"}})})]})}),Object(C.jsx)(oi.a,{id:"fade",display:"none",in:x,children:Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",m:1,children:Object(C.jsxs)(I.a,{style:{padding:"1vh 0.5vw 1vh 0.5vw"},children:[Object(C.jsxs)(F.a,{display:"flex",justifyContent:"flex-start",m:1,children:[Object(C.jsx)(G.a,{children:Object(C.jsx)(Y.a,{mask:"99/99/9999",maskChar:"",value:a.initialDate,onChange:function(e){return d(e)},children:function(e){return Object(C.jsx)(fe.a,Object(l.a)(Object(l.a)({},e),{},{id:"initialDate",name:"initialDate",label:"Data Inicial",autoComplete:"off",className:p.mediumTextField}))}})}),Object(C.jsx)(G.a,{children:Object(C.jsx)(Y.a,{mask:"99/99/9999",maskChar:"",value:a.finalDate,onChange:function(e){return d(e)},children:function(e){return Object(C.jsx)(fe.a,Object(l.a)(Object(l.a)({},e),{},{id:"finalDate",name:"finalDate",label:"Data Final",autoComplete:"off",className:p.mediumTextField}))}})})]}),Object(C.jsxs)(F.a,{display:"flex",justifyContent:"flex-start",m:1,mt:1,children:[Object(C.jsx)(G.a,{children:Object(C.jsx)(fe.a,{id:"bayName",name:"bayName",label:"Baia",autoComplete:"off",className:p.smallTextField,value:a.bayName,onChange:function(e){return d(e)},inputProps:{maxLength:45}})}),Object(C.jsx)(G.a,{children:Object(C.jsx)(fe.a,{id:"user",name:"user",label:"Usu\xe1rio",autoComplete:"off",className:p.mediumTextField,value:a.user,onChange:function(e){return d(e)},inputProps:{maxLength:20}})})]}),Object(C.jsx)(F.a,{display:"flex",justifyContent:"flex-start",m:1,children:Object(C.jsxs)(G.a,{children:[Object(C.jsx)(X.a,{htmlFor:"profile-native-simple",children:"A\xe7\xe3o"}),Object(C.jsxs)(Ya.a,{native:!0,value:f,onChange:function(e){return d(e)},inputProps:{name:"action",id:"action-select"},children:[Object(C.jsx)("option",{value:"0",children:"Todas"}),Object(C.jsx)("option",{value:"1",children:"Acesso ML"}),Object(C.jsx)("option",{value:"2",children:"Aferi\xe7\xe3o"}),Object(C.jsx)("option",{value:"3",children:"Manuten\xe7\xe3o"})]})]})}),Object(C.jsxs)(F.a,{display:"flex",justifyContent:"flex-end",children:[Object(C.jsx)(F.a,{m:1,children:Object(C.jsx)(w.a,{id:"filter",type:"submit",size:"small",variant:"contained",color:"primary",onClick:function(e){return u(e)},startIcon:Object(C.jsx)(wa.a,{}),children:"Pesquisar"})}),Object(C.jsx)(F.a,{m:1,children:Object(C.jsx)(w.a,{id:"close",type:"submit",size:"small",variant:"contained",onClick:function(e){document.getElementById("fade").style.display="none"},startIcon:Object(C.jsx)(za.a,{}),children:"Fechar"})})]})]})})}),Object(C.jsx)(La.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:j,autoHideDuration:3e3,onClose:b,message:m,action:Object(C.jsx)(r.a.Fragment,{children:Object(C.jsx)(A.a,{size:"small","aria-label":"close",color:"inherit",onClick:b,children:Object(C.jsx)(za.a,{fontSize:"small"})})})}),Object(C.jsx)(F.a,{children:!h&&Object(C.jsx)(ri,{titleReport:"Acesso ao Multiload",headCells:[{id:"date",disablePadding:!1,label:"Registrado",align:"center",width:"12%"},{id:"bayName",disablePadding:!1,label:"Baia",align:"center",width:"10%"},{id:"user",disablePadding:!1,label:"Usu\xe1rio",align:"center",width:"5%"},{id:"action",disablePadding:!1,label:"A\xe7\xe3o",align:"center",width:"10%"},{id:"actionDateON",disablePadding:!1,label:"Liberado",align:"center",width:"12%"},{id:"actionDateOFF",disablePadding:!1,label:"Bloqueado",align:"center",width:"12%"},{id:"reason",disablePadding:!1,label:"Motivo",align:"center",width:"39%"}],landscapeView:!0,allRows:t})}),h&&Object(C.jsx)(F.a,{display:"flex",justifyContent:"center",m:1,p:1,children:Object(C.jsx)(F.a,{p:1,children:Object(C.jsx)(Ta.a,{})})}),Object(C.jsxs)(F.a,{children:[Object(C.jsx)(ce,{infoErrors:i,handleCloseErros:c}),Object(C.jsx)(ue,{serverValidation:o,handleCloseInfo:s})]})]})};var fi=function(e){var t=g("api_features"),a=g("api_multiloadControl"),r=Object(n.useState)({initialDate:ci()().format("DD/MM/YYYY"),finalDate:ci()().format("DD/MM/YYYY"),bayName:null,user:null,action:null}),i=Object(W.a)(r,2),o=i[0],s=i[1],c=Object(n.useState)([]),d=Object(W.a)(c,2),u=d[0],j=d[1],b=Object(n.useState)({msg:""}),m=Object(W.a)(b,2),h=m[0],f=m[1],p=Object(n.useState)({msg:""}),O=Object(W.a)(p,2),x=O[0],v=O[1],y=Object(n.useState)(!1),w=Object(W.a)(y,2),k=w[0],S=w[1],N=Object(n.useState)(""),E=Object(W.a)(N,2),P=E[0],D=E[1],R=Object(n.useState)(!1),T=Object(W.a)(R,2),B=T[0],I=T[1];return Object(C.jsx)(hi,{reportMultiloadData:u,infoErrors:h,serverValidation:x,reportFilters:o,handleCloseErros:function(){f({msg:""})},handleCloseInfo:function(){v({msg:""})},handleChange:function(e){s(Object(l.a)(Object(l.a)({},o),{},Object(H.a)({},e.target.name,e.target.value)))},handleFilter:function(){!function(e){j([]),S(!0);var n={initialDate:Ma(e.initialDate,"date"),finalDate:Ma(e.finalDate,"date"),bayName:e.bayName,user:e.user,action:e.action};t.post("/getConfigParameter",{parameter:"PurgeReport"}).then((function(e){var t=e.data.registers.length>0?parseInt(e.data.registers[0].parameterValue):100;a.post("/reportMultiloadControl/".concat(t),n).then((function(e){if(e.data.bsApproved){if(void 0!==e.data.registers){var t=e.data.registers.map((function(e){return e.date=ci()(e.date).format("DD/MM/YYYY hh:mm"),e.actionDateON=e.actionDateON?e.actionDateON=ci()(e.actionDateON).format("DD/MM/YYYY hh:mm"):null,e.actionDateOFF=e.actionDateOFF?e.actionDateOFF=ci()(e.actionDateOFF).format("DD/MM/YYYY hh:mm"):null,e}));j(t)}}else D(e.data.msg),I(!0);S(!1)})).catch((function(e){var t=me(e);console.log(t.msg),D(t.msg),I(!0),S(!1)}))})).catch((function(e){var t=me(e);console.log(t.msg),D(t.msg),I(!0),S(!1)}))}(o),document.getElementById("fade").style.display="none"},handleCloseSnack:function(){I(!1)},visibility:B,snackInfo:P,loading:k})},pi=function(e){var t=e.titleReport,a=e.headCells,n=e.landscapeView,r=e.allRows;return Object(C.jsx)("div",{children:Object(C.jsx)(ri,{titleReport:t,headCells:a,landscapeView:n,allRows:r})})};var gi=function(e){var t=e.location.props,a=void 0!==t?t.headCells:[{}],n=!!t&&t.landscapeView,r=t?t.titleReport:"",i=t?t.allRows:[{}];return Object(C.jsx)(pi,{headCells:a,landscapeView:n,titleReport:r,allRows:i})};var Oi=function(e){return Object(C.jsx)("div",{children:Object(C.jsxs)(s.d,{children:[Object(C.jsx)(y,{path:"/addUser",routeName:"User",component:sn}),Object(C.jsx)(y,{path:"/allUser",routeName:"User",component:Ka}),Object(C.jsx)(y,{path:"/updateUser",routeName:"User",component:sn}),Object(C.jsx)(y,{path:"/deleteUser",routeName:"User",component:R}),Object(C.jsx)(y,{path:"/addConfigParameter",routeName:"ConfigParameter",component:mn}),Object(C.jsx)(y,{path:"/allConfigParameter",routeName:"ConfigParameter",component:dn}),Object(C.jsx)(y,{path:"/updateConfigParameter",routeName:"ConfigParameter",component:mn}),Object(C.jsx)(y,{path:"/deleteConfigParameter",routeName:"ConfigParameter",component:R}),Object(C.jsx)(y,{path:"/addProfile",routeName:"Profile",component:vn}),Object(C.jsx)(y,{path:"/allProfile",routeName:"Profile",component:pn}),Object(C.jsx)(y,{path:"/updateProfile",routeName:"Profile",component:vn}),Object(C.jsx)(y,{path:"/deleteProfile",routeName:"Profile",component:R}),Object(C.jsx)(y,{path:"/addRoute",routeName:"Route",component:En}),Object(C.jsx)(y,{path:"/allRoute",routeName:"Route",component:wn}),Object(C.jsx)(y,{path:"/updateRoute",routeName:"Route",component:En}),Object(C.jsx)(y,{path:"/deleteRoute",routeName:"Route",component:R}),Object(C.jsx)(y,{path:"/updatePermission",routeName:"Permission",component:Tn}),Object(C.jsx)(y,{path:"/addKeyHolder",routeName:"KeyHolder",component:Ln}),Object(C.jsx)(y,{path:"/allKeyHolder",routeName:"KeyHolder",component:Fn}),Object(C.jsx)(y,{path:"/updateKeyHolder",routeName:"KeyHolder",component:Ln}),Object(C.jsx)(y,{path:"/deleteKeyHolder",routeName:"KeyHolder",component:R}),Object(C.jsx)(y,{path:"/updateAvaliableKey",routeName:"AvaliableKey",component:$n}),Object(C.jsx)(y,{path:"/MonitorKey",routeName:"MonitorKey",component:ar}),Object(C.jsx)(s.b,{path:"/DriverSMS",routeName:"DriverSMS",component:or}),Object(C.jsx)(y,{path:"/addDriver",routeName:"Driver",component:br}),Object(C.jsx)(y,{path:"/allDriver",routeName:"Driver",component:cr}),Object(C.jsx)(y,{path:"/updateDriver",routeName:"Driver",component:br}),Object(C.jsx)(y,{path:"/deleteDriver",routeName:"Driver",component:R}),Object(C.jsx)(y,{path:"/addTruck",routeName:"Truck",component:Cr}),Object(C.jsx)(y,{path:"/allTruck",routeName:"Truck",component:fr}),Object(C.jsx)(y,{path:"/updateTruck",routeName:"Truck",component:Cr}),Object(C.jsx)(y,{path:"/deleteTruck",routeName:"Truck",component:R}),Object(C.jsx)(y,{path:"/allBay",routeName:"MonitorOverfill",component:Nr}),Object(C.jsx)(y,{path:"/allMultiload",routeName:"MultiloadControl",component:Mr}),Object(C.jsx)(y,{path:"/KeyMonitorReport",routeName:"KeyMonitorReport",component:di}),Object(C.jsx)(y,{path:"/OverfillMonitorReport",routeName:"OverfillMonitorReport",component:bi}),Object(C.jsx)(y,{path:"/MultiloadControlReport",routeName:"MultiloadControlReport",component:fi}),Object(C.jsx)(y,{path:"/GeneralReport",routeName:"GeneralReport",component:gi}),Object(C.jsx)(s.b,{exact:!0,path:"/register",component:na}),Object(C.jsx)(y,{exact:!0,path:"/menu",routeName:"Menu",component:Lt}),Object(C.jsx)(y,{exact:!0,path:"/home",routeName:"Home",component:T}),Object(C.jsx)(s.b,{exact:!0,path:"/registerConfirmation",component:U}),Object(C.jsx)(s.b,{exact:!0,path:"/recoveryPassConfirmation",component:K}),Object(C.jsx)(s.b,{exact:!0,path:"/recoveryPass",component:he}),Object(C.jsx)(s.b,{exact:!0,path:"/changePassword/:key/:id",component:Ce}),Object(C.jsx)(s.b,{exact:!0,path:"/changePasswordUserByAdmin/:id",component:we}),Object(C.jsx)(s.b,{exact:!0,path:"/login/:key?",component:Wt}),Object(C.jsx)(s.b,{exact:!0,path:"/",component:Wt}),Object(C.jsx)(s.b,{path:"/PermissionNotFound",component:ia,routeName:"Permission"}),Object(C.jsx)(s.b,{path:"*",component:ra,routeName:"NotFound"})]})})},xi=a(39),vi=Object(xi.a)(),Ci=a(183),yi=a(76),wi=a(136),ki=a(184),Si=a.n(ki);var Ni=Object(yi.a)({authenticated:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":case"USER_LOGOUT":return t.payload;default:return e}},mnuMounted:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOUNTED":return t.payload;default:return e}},permission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PERMISSION":case"CLEAR_PERMISSION":return t.payload;default:return e}}}),Ei=Object(wi.a)({key:"root",storage:Si.a},Ni),Pi=Object(yi.b)(Ei,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Di=Object(wi.b)(Pi),Ri=a(315),Ti=a(185),Bi=a(316),Ii=(a(239),Object(Ti.a)({palette:{primary:{main:"#8a05be"}}}));var Fi=function(e){return Object(C.jsx)(d.a,{store:Pi,children:Object(C.jsx)(Ci.a,{persistor:Di,children:Object(C.jsxs)(Ri.a,{theme:Ii,children:[Object(C.jsx)(Bi.a,{}),Object(C.jsxs)(L.a,{history:vi,children:[Object(C.jsx)(Lt,{}),Object(C.jsx)(Oi,{})]})]})})})},Mi=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ai(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(Object(C.jsxs)(r.a.StrictMode,{children:[Object(C.jsx)(Bi.a,{}),Object(C.jsx)(Fi,{})]}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Mi?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){console.log("ServiceWorker - No service worker found"),window.location.reload()}))})):Ai(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Ai(t,e)}))}}()}},[[240,1,2]]]);
//# sourceMappingURL=main.caf3f88c.chunk.js.map